"use strict";var Eg=Object.create;var Oo=Object.defineProperty;var bg=Object.getOwnPropertyDescriptor;var Sg=Object.getOwnPropertyNames;var kg=Object.getPrototypeOf,Ag=Object.prototype.hasOwnProperty;var ae=(e,t)=>()=>(e&&(t=e(e=0)),t);var G=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Ur=(e,t)=>{for(var r in t)Oo(e,r,{get:t[r],enumerable:!0})},Hc=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Sg(t))!Ag.call(e,o)&&o!==r&&Oo(e,o,{get:()=>t[o],enumerable:!(n=bg(t,o))||n.enumerable});return e};var rt=(e,t,r)=>(r=e!=null?Eg(kg(e)):{},Hc(t||!e||!e.__esModule?Oo(r,"default",{value:e,enumerable:!0}):r,e)),$r=e=>Hc(Oo({},"__esModule",{value:!0}),e);var Do=G(jr=>{"use strict";Object.defineProperty(jr,"__esModule",{value:!0});jr.toCommandProperties=jr.toCommandValue=void 0;function _g(e){return e==null?"":typeof e=="string"||e instanceof String?e:JSON.stringify(e)}jr.toCommandValue=_g;function Rg(e){return Object.keys(e).length?{title:e.title,file:e.file,line:e.startLine,endLine:e.endLine,col:e.startColumn,endColumn:e.endColumn}:{}}jr.toCommandProperties=Rg});var Qc=G(Le=>{"use strict";var Ng=Le&&Le.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Tg=Le&&Le.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Ig=Le&&Le.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Ng(t,e,r);return Tg(t,e),t};Object.defineProperty(Le,"__esModule",{value:!0});Le.issue=Le.issueCommand=void 0;var Pg=Ig(require("os")),Wc=Do();function Yc(e,t,r){let n=new gi(e,t,r);process.stdout.write(n.toString()+Pg.EOL)}Le.issueCommand=Yc;function vg(e,t=""){Yc(e,{},t)}Le.issue=vg;var Vc="::",gi=class{constructor(t,r,n){t||(t="missing.command"),this.command=t,this.properties=r,this.message=n}toString(){let t=Vc+this.command;if(this.properties&&Object.keys(this.properties).length>0){t+=" ";let r=!0;for(let n in this.properties)if(this.properties.hasOwnProperty(n)){let o=this.properties[n];o&&(r?r=!1:t+=",",t+=`${n}=${Dg(o)}`)}}return t+=`${Vc}${Og(this.message)}`,t}};function Og(e){return Wc.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function Dg(e){return Wc.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}});function qn(){return Bo>Mo.length-16&&(Xc.default.randomFillSync(Mo),Bo=0),Mo.slice(Bo,Bo+=16)}var Xc,Mo,Bo,Ci=ae(()=>{Xc=rt(require("crypto")),Mo=new Uint8Array(256),Bo=Mo.length});var Jc,Zc=ae(()=>{Jc=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function Bg(e){return typeof e=="string"&&Jc.test(e)}var Dt,Kn=ae(()=>{Zc();Dt=Bg});function Mg(e,t=0){let r=(he[e[t+0]]+he[e[t+1]]+he[e[t+2]]+he[e[t+3]]+"-"+he[e[t+4]]+he[e[t+5]]+"-"+he[e[t+6]]+he[e[t+7]]+"-"+he[e[t+8]]+he[e[t+9]]+"-"+he[e[t+10]]+he[e[t+11]]+he[e[t+12]]+he[e[t+13]]+he[e[t+14]]+he[e[t+15]]).toLowerCase();if(!Dt(r))throw TypeError("Stringified UUID is invalid");return r}var he,Bt,Gn=ae(()=>{Kn();he=[];for(let e=0;e<256;++e)he.push((e+256).toString(16).substr(1));Bt=Mg});function Fg(e,t,r){let n=t&&r||0,o=t||new Array(16);e=e||{};let s=e.node||ed,i=e.clockseq!==void 0?e.clockseq:xi;if(s==null||i==null){let p=e.random||(e.rng||qn)();s==null&&(s=ed=[p[0]|1,p[1],p[2],p[3],p[4],p[5]]),i==null&&(i=xi=(p[6]<<8|p[7])&16383)}let a=e.msecs!==void 0?e.msecs:Date.now(),c=e.nsecs!==void 0?e.nsecs:Ei+1,d=a-wi+(c-Ei)/1e4;if(d<0&&e.clockseq===void 0&&(i=i+1&16383),(d<0||a>wi)&&e.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");wi=a,Ei=c,xi=i,a+=122192928e5;let f=((a&268435455)*1e4+c)%4294967296;o[n++]=f>>>24&255,o[n++]=f>>>16&255,o[n++]=f>>>8&255,o[n++]=f&255;let h=a/4294967296*1e4&268435455;o[n++]=h>>>8&255,o[n++]=h&255,o[n++]=h>>>24&15|16,o[n++]=h>>>16&255,o[n++]=i>>>8|128,o[n++]=i&255;for(let p=0;p<6;++p)o[n+p]=s[p];return t||Bt(o)}var ed,xi,wi,Ei,td,rd=ae(()=>{Ci();Gn();wi=0,Ei=0;td=Fg});function Lg(e){if(!Dt(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var Fo,bi=ae(()=>{Kn();Fo=Lg});function zg(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}function Lo(e,t,r){function n(o,s,i,a){if(typeof o=="string"&&(o=zg(o)),typeof s=="string"&&(s=Fo(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+o.length);if(c.set(s),c.set(o,s.length),c=r(c),c[6]=c[6]&15|t,c[8]=c[8]&63|128,i){a=a||0;for(let d=0;d<16;++d)i[a+d]=c[d];return i}return Bt(c)}try{n.name=e}catch{}return n.DNS=Ug,n.URL=$g,n}var Ug,$g,Si=ae(()=>{Gn();bi();Ug="6ba7b810-9dad-11d1-80b4-00c04fd430c8",$g="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function jg(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),nd.default.createHash("md5").update(e).digest()}var nd,od,sd=ae(()=>{nd=rt(require("crypto"));od=jg});var qg,id,ad=ae(()=>{Si();sd();qg=Lo("v3",48,od),id=qg});function Kg(e,t,r){e=e||{};let n=e.random||(e.rng||qn)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let o=0;o<16;++o)t[r+o]=n[o];return t}return Bt(n)}var zo,cd=ae(()=>{Ci();Gn();zo=Kg});function Gg(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),dd.default.createHash("sha1").update(e).digest()}var dd,ld,fd=ae(()=>{dd=rt(require("crypto"));ld=Gg});var Hg,md,ud=ae(()=>{Si();fd();Hg=Lo("v5",80,ld),md=Hg});var hd,pd=ae(()=>{hd="00000000-0000-0000-0000-000000000000"});function Vg(e){if(!Dt(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}var yd,gd=ae(()=>{Kn();yd=Vg});var Cd={};Ur(Cd,{NIL:()=>hd,parse:()=>Fo,stringify:()=>Bt,v1:()=>td,v3:()=>id,v4:()=>zo,v5:()=>md,validate:()=>Dt,version:()=>yd});var ki=ae(()=>{rd();ad();cd();ud();pd();gd();Kn();Gn();bi()});var bd=G(ze=>{"use strict";var Wg=ze&&ze.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Yg=ze&&ze.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),wd=ze&&ze.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Wg(t,e,r);return Yg(t,e),t};Object.defineProperty(ze,"__esModule",{value:!0});ze.prepareKeyValueMessage=ze.issueFileCommand=void 0;var xd=wd(require("fs")),Ai=wd(require("os")),Qg=(ki(),$r(Cd)),Ed=Do();function Xg(e,t){let r=process.env[`GITHUB_${e}`];if(!r)throw new Error(`Unable to find environment variable for file command ${e}`);if(!xd.existsSync(r))throw new Error(`Missing file at path: ${r}`);xd.appendFileSync(r,`${Ed.toCommandValue(t)}${Ai.EOL}`,{encoding:"utf8"})}ze.issueFileCommand=Xg;function Jg(e,t){let r=`ghadelimiter_${Qg.v4()}`,n=Ed.toCommandValue(t);if(e.includes(r))throw new Error(`Unexpected input: name should not contain the delimiter "${r}"`);if(n.includes(r))throw new Error(`Unexpected input: value should not contain the delimiter "${r}"`);return`${e}<<${r}${Ai.EOL}${n}${Ai.EOL}${r}`}ze.prepareKeyValueMessage=Jg});var kd=G(qr=>{"use strict";Object.defineProperty(qr,"__esModule",{value:!0});qr.checkBypass=qr.getProxyUrl=void 0;function Zg(e){let t=e.protocol==="https:";if(Sd(e))return;let r=(()=>t?process.env.https_proxy||process.env.HTTPS_PROXY:process.env.http_proxy||process.env.HTTP_PROXY)();if(r)return new URL(r)}qr.getProxyUrl=Zg;function Sd(e){if(!e.hostname)return!1;let t=e.hostname;if(eC(t))return!0;let r=process.env.no_proxy||process.env.NO_PROXY||"";if(!r)return!1;let n;e.port?n=Number(e.port):e.protocol==="http:"?n=80:e.protocol==="https:"&&(n=443);let o=[e.hostname.toUpperCase()];typeof n=="number"&&o.push(`${o[0]}:${n}`);for(let s of r.split(",").map(i=>i.trim().toUpperCase()).filter(i=>i))if(s==="*"||o.some(i=>i===s||i.endsWith(`.${s}`)||s.startsWith(".")&&i.endsWith(`${s}`)))return!0;return!1}qr.checkBypass=Sd;function eC(e){let t=e.toLowerCase();return t==="localhost"||t.startsWith("127.")||t.startsWith("[::1]")||t.startsWith("[0:0:0:0:0:0:0:1]")}});var Nd=G(Kr=>{"use strict";var gA=require("net"),tC=require("tls"),_i=require("http"),Ad=require("https"),rC=require("events"),CA=require("assert"),nC=require("util");Kr.httpOverHttp=oC;Kr.httpsOverHttp=sC;Kr.httpOverHttps=iC;Kr.httpsOverHttps=aC;function oC(e){var t=new Et(e);return t.request=_i.request,t}function sC(e){var t=new Et(e);return t.request=_i.request,t.createSocket=_d,t.defaultPort=443,t}function iC(e){var t=new Et(e);return t.request=Ad.request,t}function aC(e){var t=new Et(e);return t.request=Ad.request,t.createSocket=_d,t.defaultPort=443,t}function Et(e){var t=this;t.options=e||{},t.proxyOptions=t.options.proxy||{},t.maxSockets=t.options.maxSockets||_i.Agent.defaultMaxSockets,t.requests=[],t.sockets=[],t.on("free",function(n,o,s,i){for(var a=Rd(o,s,i),c=0,d=t.requests.length;c<d;++c){var f=t.requests[c];if(f.host===a.host&&f.port===a.port){t.requests.splice(c,1),f.request.onSocket(n);return}}n.destroy(),t.removeSocket(n)})}nC.inherits(Et,rC.EventEmitter);Et.prototype.addRequest=function(t,r,n,o){var s=this,i=Ri({request:t},s.options,Rd(r,n,o));if(s.sockets.length>=this.maxSockets){s.requests.push(i);return}s.createSocket(i,function(a){a.on("free",c),a.on("close",d),a.on("agentRemove",d),t.onSocket(a);function c(){s.emit("free",a,i)}function d(f){s.removeSocket(a),a.removeListener("free",c),a.removeListener("close",d),a.removeListener("agentRemove",d)}})};Et.prototype.createSocket=function(t,r){var n=this,o={};n.sockets.push(o);var s=Ri({},n.proxyOptions,{method:"CONNECT",path:t.host+":"+t.port,agent:!1,headers:{host:t.host+":"+t.port}});t.localAddress&&(s.localAddress=t.localAddress),s.proxyAuth&&(s.headers=s.headers||{},s.headers["Proxy-Authorization"]="Basic "+new Buffer(s.proxyAuth).toString("base64")),Mt("making CONNECT request");var i=n.request(s);i.useChunkedEncodingByDefault=!1,i.once("response",a),i.once("upgrade",c),i.once("connect",d),i.once("error",f),i.end();function a(h){h.upgrade=!0}function c(h,p,E){process.nextTick(function(){d(h,p,E)})}function d(h,p,E){if(i.removeAllListeners(),p.removeAllListeners(),h.statusCode!==200){Mt("tunneling socket could not be established, statusCode=%d",h.statusCode),p.destroy();var b=new Error("tunneling socket could not be established, statusCode="+h.statusCode);b.code="ECONNRESET",t.request.emit("error",b),n.removeSocket(o);return}if(E.length>0){Mt("got illegal response body from proxy"),p.destroy();var b=new Error("got illegal response body from proxy");b.code="ECONNRESET",t.request.emit("error",b),n.removeSocket(o);return}return Mt("tunneling connection has established"),n.sockets[n.sockets.indexOf(o)]=p,r(p)}function f(h){i.removeAllListeners(),Mt(`tunneling socket could not be established, cause=%s
`,h.message,h.stack);var p=new Error("tunneling socket could not be established, cause="+h.message);p.code="ECONNRESET",t.request.emit("error",p),n.removeSocket(o)}};Et.prototype.removeSocket=function(t){var r=this.sockets.indexOf(t);if(r!==-1){this.sockets.splice(r,1);var n=this.requests.shift();n&&this.createSocket(n,function(o){n.request.onSocket(o)})}};function _d(e,t){var r=this;Et.prototype.createSocket.call(r,e,function(n){var o=e.request.getHeader("host"),s=Ri({},r.options,{socket:n,servername:o?o.replace(/:.*$/,""):e.host}),i=tC.connect(0,s);r.sockets[r.sockets.indexOf(n)]=i,t(i)})}function Rd(e,t,r){return typeof e=="string"?{host:e,port:t,localAddress:r}:e}function Ri(e){for(var t=1,r=arguments.length;t<r;++t){var n=arguments[t];if(typeof n=="object")for(var o=Object.keys(n),s=0,i=o.length;s<i;++s){var a=o[s];n[a]!==void 0&&(e[a]=n[a])}}return e}var Mt;process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?Mt=function(){var e=Array.prototype.slice.call(arguments);typeof e[0]=="string"?e[0]="TUNNEL: "+e[0]:e.unshift("TUNNEL:"),console.error.apply(console,e)}:Mt=function(){};Kr.debug=Mt});var Id=G((wA,Td)=>{Td.exports=Nd()});var vd=G(J=>{"use strict";var cC=J&&J.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),dC=J&&J.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Ko=J&&J.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&cC(t,e,r);return dC(t,e),t},le=J&&J.__awaiter||function(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(f){try{d(n.next(f))}catch(h){i(h)}}function c(f){try{d(n.throw(f))}catch(h){i(h)}}function d(f){f.done?s(f.value):o(f.value).then(a,c)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(J,"__esModule",{value:!0});J.HttpClient=J.isHttps=J.HttpClientResponse=J.HttpClientError=J.getProxyUrl=J.MediaTypes=J.Headers=J.HttpCodes=void 0;var Uo=Ko(require("http")),Ni=Ko(require("https")),Pd=Ko(kd()),$o=Ko(Id()),Xe;(function(e){e[e.OK=200]="OK",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.ResourceMoved=302]="ResourceMoved",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.SwitchProxy=306]="SwitchProxy",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.TooManyRequests=429]="TooManyRequests",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout"})(Xe=J.HttpCodes||(J.HttpCodes={}));var Se;(function(e){e.Accept="accept",e.ContentType="content-type"})(Se=J.Headers||(J.Headers={}));var Ft;(function(e){e.ApplicationJson="application/json"})(Ft=J.MediaTypes||(J.MediaTypes={}));function lC(e){let t=Pd.getProxyUrl(new URL(e));return t?t.href:""}J.getProxyUrl=lC;var fC=[Xe.MovedPermanently,Xe.ResourceMoved,Xe.SeeOther,Xe.TemporaryRedirect,Xe.PermanentRedirect],mC=[Xe.BadGateway,Xe.ServiceUnavailable,Xe.GatewayTimeout],uC=["OPTIONS","GET","DELETE","HEAD"],hC=10,pC=5,Gr=class extends Error{constructor(t,r){super(t),this.name="HttpClientError",this.statusCode=r,Object.setPrototypeOf(this,Gr.prototype)}};J.HttpClientError=Gr;var qo=class{constructor(t){this.message=t}readBody(){return le(this,void 0,void 0,function*(){return new Promise(t=>le(this,void 0,void 0,function*(){let r=Buffer.alloc(0);this.message.on("data",n=>{r=Buffer.concat([r,n])}),this.message.on("end",()=>{t(r.toString())})}))})}};J.HttpClientResponse=qo;function yC(e){return new URL(e).protocol==="https:"}J.isHttps=yC;var Ti=class{constructor(t,r,n){this._ignoreSslError=!1,this._allowRedirects=!0,this._allowRedirectDowngrade=!1,this._maxRedirects=50,this._allowRetries=!1,this._maxRetries=1,this._keepAlive=!1,this._disposed=!1,this.userAgent=t,this.handlers=r||[],this.requestOptions=n,n&&(n.ignoreSslError!=null&&(this._ignoreSslError=n.ignoreSslError),this._socketTimeout=n.socketTimeout,n.allowRedirects!=null&&(this._allowRedirects=n.allowRedirects),n.allowRedirectDowngrade!=null&&(this._allowRedirectDowngrade=n.allowRedirectDowngrade),n.maxRedirects!=null&&(this._maxRedirects=Math.max(n.maxRedirects,0)),n.keepAlive!=null&&(this._keepAlive=n.keepAlive),n.allowRetries!=null&&(this._allowRetries=n.allowRetries),n.maxRetries!=null&&(this._maxRetries=n.maxRetries))}options(t,r){return le(this,void 0,void 0,function*(){return this.request("OPTIONS",t,null,r||{})})}get(t,r){return le(this,void 0,void 0,function*(){return this.request("GET",t,null,r||{})})}del(t,r){return le(this,void 0,void 0,function*(){return this.request("DELETE",t,null,r||{})})}post(t,r,n){return le(this,void 0,void 0,function*(){return this.request("POST",t,r,n||{})})}patch(t,r,n){return le(this,void 0,void 0,function*(){return this.request("PATCH",t,r,n||{})})}put(t,r,n){return le(this,void 0,void 0,function*(){return this.request("PUT",t,r,n||{})})}head(t,r){return le(this,void 0,void 0,function*(){return this.request("HEAD",t,null,r||{})})}sendStream(t,r,n,o){return le(this,void 0,void 0,function*(){return this.request(t,r,n,o)})}getJson(t,r={}){return le(this,void 0,void 0,function*(){r[Se.Accept]=this._getExistingOrDefaultHeader(r,Se.Accept,Ft.ApplicationJson);let n=yield this.get(t,r);return this._processResponse(n,this.requestOptions)})}postJson(t,r,n={}){return le(this,void 0,void 0,function*(){let o=JSON.stringify(r,null,2);n[Se.Accept]=this._getExistingOrDefaultHeader(n,Se.Accept,Ft.ApplicationJson),n[Se.ContentType]=this._getExistingOrDefaultHeader(n,Se.ContentType,Ft.ApplicationJson);let s=yield this.post(t,o,n);return this._processResponse(s,this.requestOptions)})}putJson(t,r,n={}){return le(this,void 0,void 0,function*(){let o=JSON.stringify(r,null,2);n[Se.Accept]=this._getExistingOrDefaultHeader(n,Se.Accept,Ft.ApplicationJson),n[Se.ContentType]=this._getExistingOrDefaultHeader(n,Se.ContentType,Ft.ApplicationJson);let s=yield this.put(t,o,n);return this._processResponse(s,this.requestOptions)})}patchJson(t,r,n={}){return le(this,void 0,void 0,function*(){let o=JSON.stringify(r,null,2);n[Se.Accept]=this._getExistingOrDefaultHeader(n,Se.Accept,Ft.ApplicationJson),n[Se.ContentType]=this._getExistingOrDefaultHeader(n,Se.ContentType,Ft.ApplicationJson);let s=yield this.patch(t,o,n);return this._processResponse(s,this.requestOptions)})}request(t,r,n,o){return le(this,void 0,void 0,function*(){if(this._disposed)throw new Error("Client has already been disposed.");let s=new URL(r),i=this._prepareRequest(t,s,o),a=this._allowRetries&&uC.includes(t)?this._maxRetries+1:1,c=0,d;do{if(d=yield this.requestRaw(i,n),d&&d.message&&d.message.statusCode===Xe.Unauthorized){let h;for(let p of this.handlers)if(p.canHandleAuthentication(d)){h=p;break}return h?h.handleAuthentication(this,i,n):d}let f=this._maxRedirects;for(;d.message.statusCode&&fC.includes(d.message.statusCode)&&this._allowRedirects&&f>0;){let h=d.message.headers.location;if(!h)break;let p=new URL(h);if(s.protocol==="https:"&&s.protocol!==p.protocol&&!this._allowRedirectDowngrade)throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");if(yield d.readBody(),p.hostname!==s.hostname)for(let E in o)E.toLowerCase()==="authorization"&&delete o[E];i=this._prepareRequest(t,p,o),d=yield this.requestRaw(i,n),f--}if(!d.message.statusCode||!mC.includes(d.message.statusCode))return d;c+=1,c<a&&(yield d.readBody(),yield this._performExponentialBackoff(c))}while(c<a);return d})}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}requestRaw(t,r){return le(this,void 0,void 0,function*(){return new Promise((n,o)=>{function s(i,a){i?o(i):a?n(a):o(new Error("Unknown error"))}this.requestRawWithCallback(t,r,s)})})}requestRawWithCallback(t,r,n){typeof r=="string"&&(t.options.headers||(t.options.headers={}),t.options.headers["Content-Length"]=Buffer.byteLength(r,"utf8"));let o=!1;function s(c,d){o||(o=!0,n(c,d))}let i=t.httpModule.request(t.options,c=>{let d=new qo(c);s(void 0,d)}),a;i.on("socket",c=>{a=c}),i.setTimeout(this._socketTimeout||3*6e4,()=>{a&&a.end(),s(new Error(`Request timeout: ${t.options.path}`))}),i.on("error",function(c){s(c)}),r&&typeof r=="string"&&i.write(r,"utf8"),r&&typeof r!="string"?(r.on("close",function(){i.end()}),r.pipe(i)):i.end()}getAgent(t){let r=new URL(t);return this._getAgent(r)}_prepareRequest(t,r,n){let o={};o.parsedUrl=r;let s=o.parsedUrl.protocol==="https:";o.httpModule=s?Ni:Uo;let i=s?443:80;if(o.options={},o.options.host=o.parsedUrl.hostname,o.options.port=o.parsedUrl.port?parseInt(o.parsedUrl.port):i,o.options.path=(o.parsedUrl.pathname||"")+(o.parsedUrl.search||""),o.options.method=t,o.options.headers=this._mergeHeaders(n),this.userAgent!=null&&(o.options.headers["user-agent"]=this.userAgent),o.options.agent=this._getAgent(o.parsedUrl),this.handlers)for(let a of this.handlers)a.prepareRequest(o.options);return o}_mergeHeaders(t){return this.requestOptions&&this.requestOptions.headers?Object.assign({},jo(this.requestOptions.headers),jo(t||{})):jo(t||{})}_getExistingOrDefaultHeader(t,r,n){let o;return this.requestOptions&&this.requestOptions.headers&&(o=jo(this.requestOptions.headers)[r]),t[r]||o||n}_getAgent(t){let r,n=Pd.getProxyUrl(t),o=n&&n.hostname;if(this._keepAlive&&o&&(r=this._proxyAgent),this._keepAlive&&!o&&(r=this._agent),r)return r;let s=t.protocol==="https:",i=100;if(this.requestOptions&&(i=this.requestOptions.maxSockets||Uo.globalAgent.maxSockets),n&&n.hostname){let a={maxSockets:i,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(n.username||n.password)&&{proxyAuth:`${n.username}:${n.password}`}),{host:n.hostname,port:n.port})},c,d=n.protocol==="https:";s?c=d?$o.httpsOverHttps:$o.httpsOverHttp:c=d?$o.httpOverHttps:$o.httpOverHttp,r=c(a),this._proxyAgent=r}if(this._keepAlive&&!r){let a={keepAlive:this._keepAlive,maxSockets:i};r=s?new Ni.Agent(a):new Uo.Agent(a),this._agent=r}return r||(r=s?Ni.globalAgent:Uo.globalAgent),s&&this._ignoreSslError&&(r.options=Object.assign(r.options||{},{rejectUnauthorized:!1})),r}_performExponentialBackoff(t){return le(this,void 0,void 0,function*(){t=Math.min(hC,t);let r=pC*Math.pow(2,t);return new Promise(n=>setTimeout(()=>n(),r))})}_processResponse(t,r){return le(this,void 0,void 0,function*(){return new Promise((n,o)=>le(this,void 0,void 0,function*(){let s=t.message.statusCode||0,i={statusCode:s,result:null,headers:{}};s===Xe.NotFound&&n(i);function a(f,h){if(typeof h=="string"){let p=new Date(h);if(!isNaN(p.valueOf()))return p}return h}let c,d;try{d=yield t.readBody(),d&&d.length>0&&(r&&r.deserializeDates?c=JSON.parse(d,a):c=JSON.parse(d),i.result=c),i.headers=t.message.headers}catch{}if(s>299){let f;c&&c.message?f=c.message:d&&d.length>0?f=d:f=`Failed request: (${s})`;let h=new Gr(f,s);h.result=i.result,o(h)}else n(i)}))})}};J.HttpClient=Ti;var jo=e=>Object.keys(e).reduce((t,r)=>(t[r.toLowerCase()]=e[r],t),{})});var Od=G(nt=>{"use strict";var Oi=nt&&nt.__awaiter||function(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(f){try{d(n.next(f))}catch(h){i(h)}}function c(f){try{d(n.throw(f))}catch(h){i(h)}}function d(f){f.done?s(f.value):o(f.value).then(a,c)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(nt,"__esModule",{value:!0});nt.PersonalAccessTokenCredentialHandler=nt.BearerCredentialHandler=nt.BasicCredentialHandler=void 0;var Ii=class{constructor(t,r){this.username=t,this.password=r}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return Oi(this,void 0,void 0,function*(){throw new Error("not implemented")})}};nt.BasicCredentialHandler=Ii;var Pi=class{constructor(t){this.token=t}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Bearer ${this.token}`}canHandleAuthentication(){return!1}handleAuthentication(){return Oi(this,void 0,void 0,function*(){throw new Error("not implemented")})}};nt.BearerCredentialHandler=Pi;var vi=class{constructor(t){this.token=t}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return Oi(this,void 0,void 0,function*(){throw new Error("not implemented")})}};nt.PersonalAccessTokenCredentialHandler=vi});var Md=G(Hr=>{"use strict";var Dd=Hr&&Hr.__awaiter||function(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(f){try{d(n.next(f))}catch(h){i(h)}}function c(f){try{d(n.throw(f))}catch(h){i(h)}}function d(f){f.done?s(f.value):o(f.value).then(a,c)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(Hr,"__esModule",{value:!0});Hr.OidcClient=void 0;var gC=vd(),CC=Od(),Bd=Di(),Lt=class{static createHttpClient(t=!0,r=10){let n={allowRetries:t,maxRetries:r};return new gC.HttpClient("actions/oidc-client",[new CC.BearerCredentialHandler(Lt.getRequestToken())],n)}static getRequestToken(){let t=process.env.ACTIONS_ID_TOKEN_REQUEST_TOKEN;if(!t)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable");return t}static getIDTokenUrl(){let t=process.env.ACTIONS_ID_TOKEN_REQUEST_URL;if(!t)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable");return t}static getCall(t){var r;return Dd(this,void 0,void 0,function*(){let s=(r=(yield Lt.createHttpClient().getJson(t).catch(i=>{throw new Error(`Failed to get ID Token. 
 
        Error Code : ${i.statusCode}
 
        Error Message: ${i.result.message}`)})).result)===null||r===void 0?void 0:r.value;if(!s)throw new Error("Response json body do not have ID Token field");return s})}static getIDToken(t){return Dd(this,void 0,void 0,function*(){try{let r=Lt.getIDTokenUrl();if(t){let o=encodeURIComponent(t);r=`${r}&audience=${o}`}Bd.debug(`ID token url is ${r}`);let n=yield Lt.getCall(r);return Bd.setSecret(n),n}catch(r){throw new Error(`Error message: ${r.message}`)}})}};Hr.OidcClient=Lt});var Li=G(_e=>{"use strict";var Bi=_e&&_e.__awaiter||function(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(f){try{d(n.next(f))}catch(h){i(h)}}function c(f){try{d(n.throw(f))}catch(h){i(h)}}function d(f){f.done?s(f.value):o(f.value).then(a,c)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(_e,"__esModule",{value:!0});_e.summary=_e.markdownSummary=_e.SUMMARY_DOCS_URL=_e.SUMMARY_ENV_VAR=void 0;var xC=require("os"),Mi=require("fs"),{access:wC,appendFile:EC,writeFile:bC}=Mi.promises;_e.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY";_e.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";var Fi=class{constructor(){this._buffer=""}filePath(){return Bi(this,void 0,void 0,function*(){if(this._filePath)return this._filePath;let t=process.env[_e.SUMMARY_ENV_VAR];if(!t)throw new Error(`Unable to find environment variable for $${_e.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`);try{yield wC(t,Mi.constants.R_OK|Mi.constants.W_OK)}catch{throw new Error(`Unable to access summary file: '${t}'. Check if the file has correct read/write permissions.`)}return this._filePath=t,this._filePath})}wrap(t,r,n={}){let o=Object.entries(n).map(([s,i])=>` ${s}="${i}"`).join("");return r?`<${t}${o}>${r}</${t}>`:`<${t}${o}>`}write(t){return Bi(this,void 0,void 0,function*(){let r=!!(t!=null&&t.overwrite),n=yield this.filePath();return yield(r?bC:EC)(n,this._buffer,{encoding:"utf8"}),this.emptyBuffer()})}clear(){return Bi(this,void 0,void 0,function*(){return this.emptyBuffer().write({overwrite:!0})})}stringify(){return this._buffer}isEmptyBuffer(){return this._buffer.length===0}emptyBuffer(){return this._buffer="",this}addRaw(t,r=!1){return this._buffer+=t,r?this.addEOL():this}addEOL(){return this.addRaw(xC.EOL)}addCodeBlock(t,r){let n=Object.assign({},r&&{lang:r}),o=this.wrap("pre",this.wrap("code",t),n);return this.addRaw(o).addEOL()}addList(t,r=!1){let n=r?"ol":"ul",o=t.map(i=>this.wrap("li",i)).join(""),s=this.wrap(n,o);return this.addRaw(s).addEOL()}addTable(t){let r=t.map(o=>{let s=o.map(i=>{if(typeof i=="string")return this.wrap("td",i);let{header:a,data:c,colspan:d,rowspan:f}=i,h=a?"th":"td",p=Object.assign(Object.assign({},d&&{colspan:d}),f&&{rowspan:f});return this.wrap(h,c,p)}).join("");return this.wrap("tr",s)}).join(""),n=this.wrap("table",r);return this.addRaw(n).addEOL()}addDetails(t,r){let n=this.wrap("details",this.wrap("summary",t)+r);return this.addRaw(n).addEOL()}addImage(t,r,n){let{width:o,height:s}=n||{},i=Object.assign(Object.assign({},o&&{width:o}),s&&{height:s}),a=this.wrap("img",null,Object.assign({src:t,alt:r},i));return this.addRaw(a).addEOL()}addHeading(t,r){let n=`h${r}`,o=["h1","h2","h3","h4","h5","h6"].includes(n)?n:"h1",s=this.wrap(o,t);return this.addRaw(s).addEOL()}addSeparator(){let t=this.wrap("hr",null);return this.addRaw(t).addEOL()}addBreak(){let t=this.wrap("br",null);return this.addRaw(t).addEOL()}addQuote(t,r){let n=Object.assign({},r&&{cite:r}),o=this.wrap("blockquote",t,n);return this.addRaw(o).addEOL()}addLink(t,r){let n=this.wrap("a",t,{href:r});return this.addRaw(n).addEOL()}},Fd=new Fi;_e.markdownSummary=Fd;_e.summary=Fd});var Ld=G(Re=>{"use strict";var SC=Re&&Re.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),kC=Re&&Re.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),AC=Re&&Re.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&SC(t,e,r);return kC(t,e),t};Object.defineProperty(Re,"__esModule",{value:!0});Re.toPlatformPath=Re.toWin32Path=Re.toPosixPath=void 0;var _C=AC(require("path"));function RC(e){return e.replace(/[\\]/g,"/")}Re.toPosixPath=RC;function NC(e){return e.replace(/[/]/g,"\\")}Re.toWin32Path=NC;function TC(e){return e.replace(/[/\\]/g,_C.sep)}Re.toPlatformPath=TC});var Di=G(P=>{"use strict";var IC=P&&P.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),PC=P&&P.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),zd=P&&P.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&IC(t,e,r);return PC(t,e),t},Ud=P&&P.__awaiter||function(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(f){try{d(n.next(f))}catch(h){i(h)}}function c(f){try{d(n.throw(f))}catch(h){i(h)}}function d(f){f.done?s(f.value):o(f.value).then(a,c)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(P,"__esModule",{value:!0});P.getIDToken=P.getState=P.saveState=P.group=P.endGroup=P.startGroup=P.info=P.notice=P.warning=P.error=P.debug=P.isDebug=P.setFailed=P.setCommandEcho=P.setOutput=P.getBooleanInput=P.getMultilineInput=P.getInput=P.addPath=P.setSecret=P.exportVariable=P.ExitCode=void 0;var Ue=Qc(),Sr=bd(),Vr=Do(),$d=zd(require("os")),vC=zd(require("path")),OC=Md(),jd;(function(e){e[e.Success=0]="Success",e[e.Failure=1]="Failure"})(jd=P.ExitCode||(P.ExitCode={}));function DC(e,t){let r=Vr.toCommandValue(t);if(process.env[e]=r,process.env.GITHUB_ENV||"")return Sr.issueFileCommand("ENV",Sr.prepareKeyValueMessage(e,t));Ue.issueCommand("set-env",{name:e},r)}P.exportVariable=DC;function BC(e){Ue.issueCommand("add-mask",{},e)}P.setSecret=BC;function MC(e){process.env.GITHUB_PATH||""?Sr.issueFileCommand("PATH",e):Ue.issueCommand("add-path",{},e),process.env.PATH=`${e}${vC.delimiter}${process.env.PATH}`}P.addPath=MC;function zi(e,t){let r=process.env[`INPUT_${e.replace(/ /g,"_").toUpperCase()}`]||"";if(t&&t.required&&!r)throw new Error(`Input required and not supplied: ${e}`);return t&&t.trimWhitespace===!1?r:r.trim()}P.getInput=zi;function FC(e,t){let r=zi(e,t).split(`
`).filter(n=>n!=="");return t&&t.trimWhitespace===!1?r:r.map(n=>n.trim())}P.getMultilineInput=FC;function LC(e,t){let r=["true","True","TRUE"],n=["false","False","FALSE"],o=zi(e,t);if(r.includes(o))return!0;if(n.includes(o))return!1;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${e}
Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}P.getBooleanInput=LC;function zC(e,t){if(process.env.GITHUB_OUTPUT||"")return Sr.issueFileCommand("OUTPUT",Sr.prepareKeyValueMessage(e,t));process.stdout.write($d.EOL),Ue.issueCommand("set-output",{name:e},Vr.toCommandValue(t))}P.setOutput=zC;function UC(e){Ue.issue("echo",e?"on":"off")}P.setCommandEcho=UC;function $C(e){process.exitCode=jd.Failure,qd(e)}P.setFailed=$C;function jC(){return process.env.RUNNER_DEBUG==="1"}P.isDebug=jC;function qC(e){Ue.issueCommand("debug",{},e)}P.debug=qC;function qd(e,t={}){Ue.issueCommand("error",Vr.toCommandProperties(t),e instanceof Error?e.toString():e)}P.error=qd;function KC(e,t={}){Ue.issueCommand("warning",Vr.toCommandProperties(t),e instanceof Error?e.toString():e)}P.warning=KC;function GC(e,t={}){Ue.issueCommand("notice",Vr.toCommandProperties(t),e instanceof Error?e.toString():e)}P.notice=GC;function HC(e){process.stdout.write(e+$d.EOL)}P.info=HC;function Kd(e){Ue.issue("group",e)}P.startGroup=Kd;function Gd(){Ue.issue("endgroup")}P.endGroup=Gd;function VC(e,t){return Ud(this,void 0,void 0,function*(){Kd(e);let r;try{r=yield t()}finally{Gd()}return r})}P.group=VC;function WC(e,t){if(process.env.GITHUB_STATE||"")return Sr.issueFileCommand("STATE",Sr.prepareKeyValueMessage(e,t));Ue.issueCommand("save-state",{name:e},Vr.toCommandValue(t))}P.saveState=WC;function YC(e){return process.env[`STATE_${e}`]||""}P.getState=YC;function QC(e){return Ud(this,void 0,void 0,function*(){return yield OC.OidcClient.getIDToken(e)})}P.getIDToken=QC;var XC=Li();Object.defineProperty(P,"summary",{enumerable:!0,get:function(){return XC.summary}});var JC=Li();Object.defineProperty(P,"markdownSummary",{enumerable:!0,get:function(){return JC.markdownSummary}});var Ui=Ld();Object.defineProperty(P,"toPosixPath",{enumerable:!0,get:function(){return Ui.toPosixPath}});Object.defineProperty(P,"toWin32Path",{enumerable:!0,get:function(){return Ui.toWin32Path}});Object.defineProperty(P,"toPlatformPath",{enumerable:!0,get:function(){return Ui.toPlatformPath}})});var Yi=G(St=>{"use strict";var ll=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",Px=ll+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",fl="["+ll+"]["+Px+"]*",vx=new RegExp("^"+fl+"$"),Ox=function(e,t){let r=[],n=t.exec(e);for(;n;){let o=[];o.startIndex=t.lastIndex-n[0].length;let s=n.length;for(let i=0;i<s;i++)o.push(n[i]);r.push(o),n=t.exec(e)}return r},Dx=function(e){let t=vx.exec(e);return!(t===null||typeof t>"u")};St.isExist=function(e){return typeof e<"u"};St.isEmptyObject=function(e){return Object.keys(e).length===0};St.merge=function(e,t,r){if(t){let n=Object.keys(t),o=n.length;for(let s=0;s<o;s++)r==="strict"?e[n[s]]=[t[n[s]]]:e[n[s]]=t[n[s]]}};St.getValue=function(e){return St.isExist(e)?e:""};St.isName=Dx;St.getAllMatches=Ox;St.nameRegexp=fl});var Xi=G(yl=>{"use strict";var Qi=Yi(),Bx={allowBooleanAttributes:!1,unpairedTags:[]};yl.validate=function(e,t){t=Object.assign({},Bx,t);let r=[],n=!1,o=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let s=0;s<e.length;s++)if(e[s]==="<"&&e[s+1]==="?"){if(s+=2,s=ul(e,s),s.err)return s}else if(e[s]==="<"){let i=s;if(s++,e[s]==="!"){s=hl(e,s);continue}else{let a=!1;e[s]==="/"&&(a=!0,s++);let c="";for(;s<e.length&&e[s]!==">"&&e[s]!==" "&&e[s]!=="	"&&e[s]!==`
`&&e[s]!=="\r";s++)c+=e[s];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),s--),!qx(c)){let h;return c.trim().length===0?h="Invalid space after '<'.":h="Tag '"+c+"' is an invalid name.",ce("InvalidTag",h,Pe(e,s))}let d=Lx(e,s);if(d===!1)return ce("InvalidAttr","Attributes for '"+c+"' have open quote.",Pe(e,s));let f=d.value;if(s=d.index,f[f.length-1]==="/"){let h=s-f.length;f=f.substring(0,f.length-1);let p=pl(f,t);if(p===!0)n=!0;else return ce(p.err.code,p.err.msg,Pe(e,h+p.err.line))}else if(a)if(d.tagClosed){if(f.trim().length>0)return ce("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",Pe(e,i));{let h=r.pop();if(c!==h.tagName){let p=Pe(e,h.tagStartPos);return ce("InvalidTag","Expected closing tag '"+h.tagName+"' (opened in line "+p.line+", col "+p.col+") instead of closing tag '"+c+"'.",Pe(e,i))}r.length==0&&(o=!0)}}else return ce("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",Pe(e,s));else{let h=pl(f,t);if(h!==!0)return ce(h.err.code,h.err.msg,Pe(e,s-f.length+h.err.line));if(o===!0)return ce("InvalidXml","Multiple possible root nodes found.",Pe(e,s));t.unpairedTags.indexOf(c)!==-1||r.push({tagName:c,tagStartPos:i}),n=!0}for(s++;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="!"){s++,s=hl(e,s);continue}else if(e[s+1]==="?"){if(s=ul(e,++s),s.err)return s}else break;else if(e[s]==="&"){let h=$x(e,s);if(h==-1)return ce("InvalidChar","char '&' is not expected.",Pe(e,s));s=h}else if(o===!0&&!ml(e[s]))return ce("InvalidXml","Extra text at the end",Pe(e,s));e[s]==="<"&&s--}}else{if(ml(e[s]))continue;return ce("InvalidChar","char '"+e[s]+"' is not expected.",Pe(e,s))}if(n){if(r.length==1)return ce("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",Pe(e,r[0].tagStartPos));if(r.length>0)return ce("InvalidXml","Invalid '"+JSON.stringify(r.map(s=>s.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return ce("InvalidXml","Start tag expected.",1);return!0};function ml(e){return e===" "||e==="	"||e===`
`||e==="\r"}function ul(e,t){let r=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){let n=e.substr(r,t-r);if(t>5&&n==="xml")return ce("InvalidXml","XML declaration allowed only at the start of the document.",Pe(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function hl(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let r=1;for(t+=8;t<e.length;t++)if(e[t]==="<")r++;else if(e[t]===">"&&(r--,r===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}var Mx='"',Fx="'";function Lx(e,t){let r="",n="",o=!1;for(;t<e.length;t++){if(e[t]===Mx||e[t]===Fx)n===""?n=e[t]:n!==e[t]||(n="");else if(e[t]===">"&&n===""){o=!0;break}r+=e[t]}return n!==""?!1:{value:r,index:t,tagClosed:o}}var zx=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function pl(e,t){let r=Qi.getAllMatches(e,zx),n={};for(let o=0;o<r.length;o++){if(r[o][1].length===0)return ce("InvalidAttr","Attribute '"+r[o][2]+"' has no space in starting.",Xn(r[o]));if(r[o][3]!==void 0&&r[o][4]===void 0)return ce("InvalidAttr","Attribute '"+r[o][2]+"' is without value.",Xn(r[o]));if(r[o][3]===void 0&&!t.allowBooleanAttributes)return ce("InvalidAttr","boolean attribute '"+r[o][2]+"' is not allowed.",Xn(r[o]));let s=r[o][2];if(!jx(s))return ce("InvalidAttr","Attribute '"+s+"' is an invalid name.",Xn(r[o]));if(!n.hasOwnProperty(s))n[s]=1;else return ce("InvalidAttr","Attribute '"+s+"' is repeated.",Xn(r[o]))}return!0}function Ux(e,t){let r=/\d/;for(e[t]==="x"&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(r))break}return-1}function $x(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,Ux(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(e[t]===";")break;return-1}return t}function ce(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function jx(e){return Qi.isName(e)}function qx(e){return Qi.isName(e)}function Pe(e,t){let r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function Xn(e){return e.startIndex+e[1].length}});var Cl=G(Ji=>{var gl={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1},Kx=function(e){return Object.assign({},gl,e)};Ji.buildOptions=Kx;Ji.defaultOptions=gl});var wl=G((FR,xl)=>{"use strict";var Zi=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,r){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:r})}addChild(t){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,[":@"]:t[":@"]}):this.child.push({[t.tagname]:t.child})}};xl.exports=Zi});var bl=G((LR,El)=>{function Gx(e,t){let r={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let n=1,o=!1,s=!1,i=!1,a="";for(;t<e.length;t++)if(e[t]==="<"&&!i){if(o&&e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="N"&&e[t+4]==="T"&&e[t+5]==="I"&&e[t+6]==="T"&&e[t+7]==="Y")t+=7,s=!0;else if(o&&e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="L"&&e[t+4]==="E"&&e[t+5]==="M"&&e[t+6]==="E"&&e[t+7]==="N"&&e[t+8]==="T")t+=8;else if(o&&e[t+1]==="!"&&e[t+2]==="A"&&e[t+3]==="T"&&e[t+4]==="T"&&e[t+5]==="L"&&e[t+6]==="I"&&e[t+7]==="S"&&e[t+8]==="T")t+=8;else if(o&&e[t+1]==="!"&&e[t+2]==="N"&&e[t+3]==="O"&&e[t+4]==="T"&&e[t+5]==="A"&&e[t+6]==="T"&&e[t+7]==="I"&&e[t+8]==="O"&&e[t+9]==="N")t+=9;else if(e[t+1]==="!"&&e[t+2]==="-"&&e[t+3]==="-")i=!0;else throw new Error("Invalid DOCTYPE");n++,a=""}else if(e[t]===">"){if(i?e[t-1]==="-"&&e[t-2]==="-"&&(i=!1,n--):(s&&(Vx(a,r),s=!1),n--),n===0)break}else e[t]==="["?o=!0:a+=e[t];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:t}}var Hx=RegExp(`^\\s([a-zA-z0-0]+)[ 	](['"])([^&]+)\\2`);function Vx(e,t){let r=Hx.exec(e);r&&(t[r[1]]={regx:RegExp(`&${r[1]};`,"g"),val:r[3]})}El.exports=Gx});var kl=G((zR,Sl)=>{var Wx=/^[-+]?0x[a-fA-F0-9]+$/,Yx=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var Qx={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function Xx(e,t={}){if(t=Object.assign({},Qx,t),!e||typeof e!="string")return e;let r=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(r))return e;if(t.hex&&Wx.test(r))return Number.parseInt(r,16);{let n=Yx.exec(r);if(n){let o=n[1],s=n[2],i=Jx(n[3]),a=n[4]||n[6];if(!t.leadingZeros&&s.length>0&&o&&r[2]!==".")return e;if(!t.leadingZeros&&s.length>0&&!o&&r[1]!==".")return e;{let c=Number(r),d=""+c;return d.search(/[eE]/)!==-1||a?t.eNotation?c:e:r.indexOf(".")!==-1?d==="0"&&i===""||d===i||o&&d==="-"+i?c:e:s?i===d||o+i===d?c:e:r===d||r===o+d?c:e}}else return e}}function Jx(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substr(0,e.length-1))),e}Sl.exports=Xx});var _l=G(($R,Al)=>{"use strict";var na=Yi(),Jn=wl(),Zx=bl(),ew=kl(),UR="<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,na.nameRegexp),ea=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"}},this.addExternalEntities=tw,this.parseXml=iw,this.parseTextData=rw,this.resolveNameSpace=nw,this.buildAttributesMap=sw,this.isItStopNode=dw,this.replaceEntitiesValue=aw,this.readStopNodeData=fw,this.saveTextToParentTag=cw}};function tw(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}function rw(e,t,r,n,o,s,i){if(e!==void 0&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){i||(e=this.replaceEntitiesValue(e));let a=this.options.tagValueProcessor(t,e,r,o,s);return a==null?e:typeof a!=typeof e||a!==e?a:this.options.trimValues?ra(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?ra(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function nw(e){if(this.options.removeNSPrefix){let t=e.split(":"),r=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=r+t[1])}return e}var ow=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function sw(e,t){if(!this.options.ignoreAttributes&&typeof e=="string"){let r=na.getAllMatches(e,ow),n=r.length,o={};for(let s=0;s<n;s++){let i=this.resolveNameSpace(r[s][1]),a=r[s][4],c=this.options.attributeNamePrefix+i;if(i.length)if(this.options.transformAttributeName&&(c=this.options.transformAttributeName(c)),c==="__proto__"&&(c="#__proto__"),a!==void 0){this.options.trimValues&&(a=a.trim()),a=this.replaceEntitiesValue(a);let d=this.options.attributeValueProcessor(i,a,t);d==null?o[c]=a:typeof d!=typeof a||d!==a?o[c]=d:o[c]=ra(a,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(o[c]=!0)}if(!Object.keys(o).length)return;if(this.options.attributesGroupName){let s={};return s[this.options.attributesGroupName]=o,s}return o}}var iw=function(e){e=e.replace(/\r\n?/g,`
`);let t=new Jn("!xml"),r=t,n="",o="";for(let s=0;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="/"){let a=_r(e,">",s,"Closing Tag is not closed."),c=e.substring(s+2,a).trim();if(this.options.removeNSPrefix){let d=c.indexOf(":");d!==-1&&(c=c.substr(d+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&(n=this.saveTextToParentTag(n,r,o)),o=o.substr(0,o.lastIndexOf(".")),r=this.tagsNodeStack.pop(),n="",s=a}else if(e[s+1]==="?"){let a=ta(e,s,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,o),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let c=new Jn(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,o)),r.addChild(c)}s=a.closeIndex+1}else if(e.substr(s+1,3)==="!--"){let a=_r(e,"-->",s+4,"Comment is not closed.");if(this.options.commentPropName){let c=e.substring(s+4,a-2);n=this.saveTextToParentTag(n,r,o),r.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}s=a}else if(e.substr(s+1,2)==="!D"){let a=Zx(e,s);this.docTypeEntities=a.entities,s=a.i}else if(e.substr(s+1,2)==="!["){let a=_r(e,"]]>",s,"CDATA is not closed.")-2,c=e.substring(s+9,a);if(n=this.saveTextToParentTag(n,r,o),this.options.cdataPropName)r.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]);else{let d=this.parseTextData(c,r.tagname,o,!0,!1,!0);d==null&&(d=""),r.add(this.options.textNodeName,d)}s=a+2}else{let a=ta(e,s,this.options.removeNSPrefix),c=a.tagName,d=a.tagExp,f=a.attrExpPresent,h=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,o,!1)),c!==t.tagname&&(o+=o?"."+c:c);let p=r;if(p&&this.options.unpairedTags.indexOf(p.tagname)!==-1&&(r=this.tagsNodeStack.pop()),this.isItStopNode(this.options.stopNodes,o,c)){let E="";if(d.length>0&&d.lastIndexOf("/")===d.length-1)s=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)s=a.closeIndex;else{let T=this.readStopNodeData(e,c,h+1);if(!T)throw new Error(`Unexpected end of ${c}`);s=T.i,E=T.tagContent}let b=new Jn(c);c!==d&&f&&(b[":@"]=this.buildAttributesMap(d,o)),E&&(E=this.parseTextData(E,c,o,!0,f,!0,!0)),o=o.substr(0,o.lastIndexOf(".")),b.add(this.options.textNodeName,E),r.addChild(b)}else{if(d.length>0&&d.lastIndexOf("/")===d.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),d=c):d=d.substr(0,d.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));let E=new Jn(c);c!==d&&f&&(E[":@"]=this.buildAttributesMap(d,o)),o=o.substr(0,o.lastIndexOf(".")),r.addChild(E)}else{let E=new Jn(c);this.tagsNodeStack.push(r),c!==d&&f&&(E[":@"]=this.buildAttributesMap(d,o)),r.addChild(E),r=E}n="",s=h}}else n+=e[s];return t.child},aw=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){let r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){let r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){let r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function cw(e,t,r,n){return e&&(n===void 0&&(n=Object.keys(t.child).length===0),e=this.parseTextData(e,t.tagname,r,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,n),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function dw(e,t,r){let n="*."+r;for(let o in e){let s=e[o];if(n===s||t===s)return!0}return!1}function lw(e,t,r=">"){let n,o="";for(let s=t;s<e.length;s++){let i=e[s];if(n)i===n&&(n="");else if(i==='"'||i==="'")n=i;else if(i===r[0])if(r[1]){if(e[s+1]===r[1])return{data:o,index:s}}else return{data:o,index:s};else i==="	"&&(i=" ");o+=i}}function _r(e,t,r,n){let o=e.indexOf(t,r);if(o===-1)throw new Error(n);return o+t.length-1}function ta(e,t,r,n=">"){let o=lw(e,t+1,n);if(!o)return;let s=o.data,i=o.index,a=s.search(/\s/),c=s,d=!0;if(a!==-1&&(c=s.substr(0,a).replace(/\s\s*$/,""),s=s.substr(a+1)),r){let f=c.indexOf(":");f!==-1&&(c=c.substr(f+1),d=c!==o.data.substr(f+1))}return{tagName:c,tagExp:s,closeIndex:i,attrExpPresent:d}}function fw(e,t,r){let n=r,o=1;for(;r<e.length;r++)if(e[r]==="<")if(e[r+1]==="/"){let s=_r(e,">",r,`${t} is not closed`);if(e.substring(r+2,s).trim()===t&&(o--,o===0))return{tagContent:e.substring(n,r),i:s};r=s}else if(e[r+1]==="?")r=_r(e,"?>",r+1,"StopNode is not closed.");else if(e.substr(r+1,3)==="!--")r=_r(e,"-->",r+3,"StopNode is not closed.");else if(e.substr(r+1,2)==="![")r=_r(e,"]]>",r,"StopNode is not closed.")-2;else{let s=ta(e,r,">");s&&((s&&s.tagName)===t&&s.tagExp[s.tagExp.length-1]!=="/"&&o++,r=s.closeIndex)}}function ra(e,t,r){if(t&&typeof e=="string"){let n=e.trim();return n==="true"?!0:n==="false"?!1:ew(e,r)}else return na.isExist(e)?e:""}Al.exports=ea});var Tl=G(Nl=>{"use strict";function mw(e,t){return Rl(e,t)}function Rl(e,t,r){let n,o={};for(let s=0;s<e.length;s++){let i=e[s],a=uw(i),c="";if(r===void 0?c=a:c=r+"."+a,a===t.textNodeName)n===void 0?n=i[a]:n+=""+i[a];else{if(a===void 0)continue;if(i[a]){let d=Rl(i[a],t,c),f=pw(d,t);i[":@"]?hw(d,i[":@"],c,t):Object.keys(d).length===1&&d[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?d=d[t.textNodeName]:Object.keys(d).length===0&&(t.alwaysCreateTextNode?d[t.textNodeName]="":d=""),o[a]!==void 0&&o.hasOwnProperty(a)?(Array.isArray(o[a])||(o[a]=[o[a]]),o[a].push(d)):t.isArray(a,c,f)?o[a]=[d]:o[a]=d}}}return typeof n=="string"?n.length>0&&(o[t.textNodeName]=n):n!==void 0&&(o[t.textNodeName]=n),o}function uw(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function hw(e,t,r,n){if(t){let o=Object.keys(t),s=o.length;for(let i=0;i<s;i++){let a=o[i];n.isArray(a,r+"."+a,!0,!0)?e[a]=[t[a]]:e[a]=t[a]}}}function pw(e,t){let r=Object.keys(e).length;return!!(r===0||r===1&&e[t.textNodeName])}Nl.prettify=mw});var Pl=G((qR,Il)=>{var{buildOptions:yw}=Cl(),gw=_l(),{prettify:Cw}=Tl(),xw=Xi(),oa=class{constructor(t){this.externalEntities={},this.options=yw(t)}parse(t,r){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let s=xw.validate(t,r);if(s!==!0)throw Error(`${s.err.msg}:${s.err.line}:${s.err.col}`)}let n=new gw(this.options);n.addExternalEntities(this.externalEntities);let o=n.parseXml(t);return this.options.preserveOrder||o===void 0?o:Cw(o,this.options)}addEntity(t,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=r}};Il.exports=oa});var Ml=G((KR,Bl)=>{var ww=`
`;function Ew(e,t){let r="";return t.format&&t.indentBy.length>0&&(r=ww),Ol(e,t,"",r)}function Ol(e,t,r,n){let o="",s=!1;for(let i=0;i<e.length;i++){let a=e[i],c=bw(a),d="";if(r.length===0?d=c:d=`${r}.${c}`,c===t.textNodeName){let b=a[c];Sw(d,t)||(b=t.tagValueProcessor(c,b),b=Dl(b,t)),s&&(o+=n),o+=b,s=!1;continue}else if(c===t.cdataPropName){s&&(o+=n),o+=`<![CDATA[${a[c][0][t.textNodeName]}]]>`,s=!1;continue}else if(c===t.commentPropName){o+=n+`<!--${a[c][0][t.textNodeName]}-->`,s=!0;continue}else if(c[0]==="?"){let b=vl(a[":@"],t),T=c==="?xml"?"":n,v=a[c][0][t.textNodeName];v=v.length!==0?" "+v:"",o+=T+`<${c}${v}${b}?>`,s=!0;continue}let f=n;f!==""&&(f+=t.indentBy);let h=vl(a[":@"],t),p=n+`<${c}${h}`,E=Ol(a[c],t,d,f);t.unpairedTags.indexOf(c)!==-1?t.suppressUnpairedNode?o+=p+">":o+=p+"/>":(!E||E.length===0)&&t.suppressEmptyNode?o+=p+"/>":E&&E.endsWith(">")?o+=p+`>${E}${n}</${c}>`:(o+=p+">",E&&n!==""&&(E.includes("/>")||E.includes("</"))?o+=n+t.indentBy+E+n:o+=E,o+=`</${c}>`),s=!0}return o}function bw(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function vl(e,t){let r="";if(e&&!t.ignoreAttributes)for(let n in e){let o=t.attributeValueProcessor(n,e[n]);o=Dl(o,t),o===!0&&t.suppressBooleanAttributes?r+=` ${n.substr(t.attributeNamePrefix.length)}`:r+=` ${n.substr(t.attributeNamePrefix.length)}="${o}"`}return r}function Sw(e,t){e=e.substr(0,e.length-t.textNodeName.length-1);let r=e.substr(e.lastIndexOf(".")+1);for(let n in t.stopNodes)if(t.stopNodes[n]===e||t.stopNodes[n]==="*."+r)return!0;return!1}function Dl(e,t){if(e&&e.length>0&&t.processEntities)for(let r=0;r<t.entities.length;r++){let n=t.entities[r];e=e.replace(n.regex,n.val)}return e}Bl.exports=Ew});var Ll=G((GR,Fl)=>{"use strict";var kw=Ml(),Aw={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[]};function qt(e){this.options=Object.assign({},Aw,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=Nw),this.processTextOrObjNode=_w,this.options.format?(this.indentate=Rw,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}qt.prototype.build=function(e){return this.options.preserveOrder?kw(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0).val)};qt.prototype.j2x=function(e,t){let r="",n="";for(let o in e)if(!(typeof e[o]>"u"))if(e[o]===null)o[0]==="?"?n+=this.indentate(t)+"<"+o+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+o+"/"+this.tagEndChar;else if(e[o]instanceof Date)n+=this.buildTextValNode(e[o],o,"",t);else if(typeof e[o]!="object"){let s=this.isAttribute(o);if(s)r+=this.buildAttrPairStr(s,""+e[o]);else if(o===this.options.textNodeName){let i=this.options.tagValueProcessor(o,""+e[o]);n+=this.replaceEntitiesValue(i)}else n+=this.buildTextValNode(e[o],o,"",t)}else if(Array.isArray(e[o])){let s=e[o].length;for(let i=0;i<s;i++){let a=e[o][i];typeof a>"u"||(a===null?o[0]==="?"?n+=this.indentate(t)+"<"+o+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+o+"/"+this.tagEndChar:typeof a=="object"?n+=this.processTextOrObjNode(a,o,t):n+=this.buildTextValNode(a,o,"",t))}}else if(this.options.attributesGroupName&&o===this.options.attributesGroupName){let s=Object.keys(e[o]),i=s.length;for(let a=0;a<i;a++)r+=this.buildAttrPairStr(s[a],""+e[o][s[a]])}else n+=this.processTextOrObjNode(e[o],o,t);return{attrStr:r,val:n}};qt.prototype.buildAttrPairStr=function(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&t==="true"?" "+e:" "+e+'="'+t+'"'};function _w(e,t,r){let n=this.j2x(e,r+1);return e[this.options.textNodeName]!==void 0&&Object.keys(e).length===1?this.buildTextValNode(e[this.options.textNodeName],t,n.attrStr,r):this.buildObjectNode(n.val,t,n.attrStr,r)}qt.prototype.buildObjectNode=function(e,t,r,n){if(e==="")return t[0]==="?"?this.indentate(n)+"<"+t+r+"?"+this.tagEndChar:this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar;{let o="</"+t+this.tagEndChar,s="";return t[0]==="?"&&(s="?",o=""),r&&e.indexOf("<")===-1?this.indentate(n)+"<"+t+r+s+">"+e+o:this.options.commentPropName!==!1&&t===this.options.commentPropName&&s.length===0?this.indentate(n)+`<!--${e}-->`+this.newLine:this.indentate(n)+"<"+t+r+s+this.tagEndChar+e+this.indentate(n)+o}};qt.prototype.closeTag=function(e){let t="";return this.options.unpairedTags.indexOf(e)!==-1?this.options.suppressUnpairedNode||(t="/"):this.options.suppressEmptyNode?t="/":t=`></${e}`,t};qt.prototype.buildTextValNode=function(e,t,r,n){if(this.options.cdataPropName!==!1&&t===this.options.cdataPropName)return this.indentate(n)+`<![CDATA[${e}]]>`+this.newLine;if(this.options.commentPropName!==!1&&t===this.options.commentPropName)return this.indentate(n)+`<!--${e}-->`+this.newLine;if(t[0]==="?")return this.indentate(n)+"<"+t+r+"?"+this.tagEndChar;{let o=this.options.tagValueProcessor(t,e);return o=this.replaceEntitiesValue(o),o===""?this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar:this.indentate(n)+"<"+t+r+">"+o+"</"+t+this.tagEndChar}};qt.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){let r=this.options.entities[t];e=e.replace(r.regex,r.val)}return e};function Rw(e){return this.options.indentBy.repeat(e)}function Nw(e){return e.startsWith(this.options.attributeNamePrefix)?e.substr(this.attrPrefixLen):!1}Fl.exports=qt});var sa=G((HR,zl)=>{"use strict";var Tw=Xi(),Iw=Pl(),Pw=Ll();zl.exports={XMLParser:Iw,XMLValidator:Tw,XMLBuilder:Pw}});var ha={};Ur(ha,{__assign:()=>ma,__asyncDelegator:()=>aE,__asyncGenerator:()=>iE,__asyncValues:()=>cE,__await:()=>to,__awaiter:()=>eE,__classPrivateFieldGet:()=>mE,__classPrivateFieldSet:()=>uE,__createBinding:()=>rE,__decorate:()=>Xw,__exportStar:()=>nE,__extends:()=>Yw,__generator:()=>tE,__importDefault:()=>fE,__importStar:()=>lE,__makeTemplateObject:()=>dE,__metadata:()=>Zw,__param:()=>Jw,__read:()=>nf,__rest:()=>Qw,__spread:()=>oE,__spreadArrays:()=>sE,__values:()=>ua});function Yw(e,t){fa(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function Qw(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function Xw(e,t,r,n){var o=arguments.length,s=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}function Jw(e,t){return function(r,n){t(r,n,e)}}function Zw(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function eE(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(f){try{d(n.next(f))}catch(h){i(h)}}function c(f){try{d(n.throw(f))}catch(h){i(h)}}function d(f){f.done?s(f.value):o(f.value).then(a,c)}d((n=n.apply(e,t||[])).next())})}function tE(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,o,s,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(d){return function(f){return c([d,f])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(s=d[0]&2?o.return:d[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,d[1])).done)return s;switch(o=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,o=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){r.label=d[1];break}if(d[0]===6&&r.label<s[1]){r.label=s[1],s=d;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(d);break}s[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(f){d=[6,f],o=0}finally{n=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function rE(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function nE(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function ua(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function nf(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(a){i={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s}function oE(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(nf(arguments[t]));return e}function sE(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),o=0,t=0;t<r;t++)for(var s=arguments[t],i=0,a=s.length;i<a;i++,o++)n[o]=s[i];return n}function to(e){return this instanceof to?(this.v=e,this):new to(e)}function iE(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,s=[];return o={},i("next"),i("throw"),i("return"),o[Symbol.asyncIterator]=function(){return this},o;function i(p){n[p]&&(o[p]=function(E){return new Promise(function(b,T){s.push([p,E,b,T])>1||a(p,E)})})}function a(p,E){try{c(n[p](E))}catch(b){h(s[0][3],b)}}function c(p){p.value instanceof to?Promise.resolve(p.value.v).then(d,f):h(s[0][2],p)}function d(p){a("next",p)}function f(p){a("throw",p)}function h(p,E){p(E),s.shift(),s.length&&a(s[0][0],s[0][1])}}function aE(e){var t,r;return t={},n("next"),n("throw",function(o){throw o}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(o,s){t[o]=e[o]?function(i){return(r=!r)?{value:to(e[o](i)),done:o==="return"}:s?s(i):i}:s}}function cE(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof ua=="function"?ua(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(i){return new Promise(function(a,c){i=e[s](i),o(a,c,i.done,i.value)})}}function o(s,i,a,c){Promise.resolve(c).then(function(d){s({value:d,done:a})},i)}}function dE(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function lE(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function fE(e){return e&&e.__esModule?e:{default:e}}function mE(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function uE(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}var fa,ma,pa=ae(()=>{fa=function(e,t){return fa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},fa(e,t)};ma=function(){return ma=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},ma.apply(this,arguments)}});var of,sf,af=ae(()=>{of=e=>{let t=[];for(let r=0,n=e.length;r<n;r++){let o=e.charCodeAt(r);if(o<128)t.push(o);else if(o<2048)t.push(o>>6|192,o&63|128);else if(r+1<e.length&&(o&64512)===55296&&(e.charCodeAt(r+1)&64512)===56320){let s=65536+((o&1023)<<10)+(e.charCodeAt(++r)&1023);t.push(s>>18|240,s>>12&63|128,s>>6&63|128,s&63|128)}else t.push(o>>12|224,o>>6&63|128,o&63|128)}return Uint8Array.from(t)},sf=e=>{let t="";for(let r=0,n=e.length;r<n;r++){let o=e[r];if(o<128)t+=String.fromCharCode(o);else if(192<=o&&o<224){let s=e[++r];t+=String.fromCharCode((o&31)<<6|s&63)}else if(240<=o&&o<365){let i="%"+[o,e[++r],e[++r],e[++r]].map(a=>a.toString(16)).join("%");t+=decodeURIComponent(i)}else t+=String.fromCharCode((o&15)<<12|(e[++r]&63)<<6|e[++r]&63)}return t}});function cf(e){return new TextEncoder().encode(e)}function df(e){return new TextDecoder("utf-8").decode(e)}var lf=ae(()=>{});var ff={};Ur(ff,{fromUtf8:()=>hE,toUtf8:()=>pE});var hE,pE,mf=ae(()=>{af();lf();hE=e=>typeof TextEncoder=="function"?cf(e):of(e),pE=e=>typeof TextDecoder=="function"?df(e):sf(e)});var uf=G(es=>{"use strict";Object.defineProperty(es,"__esModule",{value:!0});es.convertToBuffer=void 0;var yE=(mf(),$r(ff)),gE=typeof Buffer<"u"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:yE.fromUtf8;function CE(e){return e instanceof Uint8Array?e:typeof e=="string"?gE(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}es.convertToBuffer=CE});var hf=G(ts=>{"use strict";Object.defineProperty(ts,"__esModule",{value:!0});ts.isEmptyData=void 0;function xE(e){return typeof e=="string"?e.length===0:e.byteLength===0}ts.isEmptyData=xE});var pf=G(rs=>{"use strict";Object.defineProperty(rs,"__esModule",{value:!0});rs.numToUint8=void 0;function wE(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}rs.numToUint8=wE});var yf=G(ns=>{"use strict";Object.defineProperty(ns,"__esModule",{value:!0});ns.uint32ArrayFrom=void 0;function EE(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),r=0;r<e.length;)t[r]=e[r],r+=1;return t}return Uint32Array.from(e)}ns.uint32ArrayFrom=EE});var ro=G(at=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});at.uint32ArrayFrom=at.numToUint8=at.isEmptyData=at.convertToBuffer=void 0;var bE=uf();Object.defineProperty(at,"convertToBuffer",{enumerable:!0,get:function(){return bE.convertToBuffer}});var SE=hf();Object.defineProperty(at,"isEmptyData",{enumerable:!0,get:function(){return SE.isEmptyData}});var kE=pf();Object.defineProperty(at,"numToUint8",{enumerable:!0,get:function(){return kE.numToUint8}});var AE=yf();Object.defineProperty(at,"uint32ArrayFrom",{enumerable:!0,get:function(){return AE.uint32ArrayFrom}})});var xf=G(os=>{"use strict";Object.defineProperty(os,"__esModule",{value:!0});os.AwsCrc32=void 0;var gf=(pa(),$r(ha)),ya=ro(),Cf=no(),_E=function(){function e(){this.crc32=new Cf.Crc32}return e.prototype.update=function(t){(0,ya.isEmptyData)(t)||this.crc32.update((0,ya.convertToBuffer)(t))},e.prototype.digest=function(){return gf.__awaiter(this,void 0,void 0,function(){return gf.__generator(this,function(t){return[2,(0,ya.numToUint8)(this.crc32.digest())]})})},e.prototype.reset=function(){this.crc32=new Cf.Crc32},e}();os.AwsCrc32=_E});var no=G(Kt=>{"use strict";Object.defineProperty(Kt,"__esModule",{value:!0});Kt.AwsCrc32=Kt.Crc32=Kt.crc32=void 0;var RE=(pa(),$r(ha)),NE=ro();function TE(e){return new wf().update(e).digest()}Kt.crc32=TE;var wf=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(t){var r,n;try{for(var o=RE.__values(t),s=o.next();!s.done;s=o.next()){var i=s.value;this.checksum=this.checksum>>>8^PE[(this.checksum^i)&255]}}catch(a){r={error:a}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e}();Kt.Crc32=wf;var IE=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],PE=(0,NE.uint32ArrayFrom)(IE),vE=xf();Object.defineProperty(Kt,"AwsCrc32",{enumerable:!0,get:function(){return vE.AwsCrc32}})});var wa={};Ur(wa,{__assign:()=>Ca,__asyncDelegator:()=>GE,__asyncGenerator:()=>KE,__asyncValues:()=>HE,__await:()=>oo,__awaiter:()=>LE,__classPrivateFieldGet:()=>QE,__classPrivateFieldSet:()=>XE,__createBinding:()=>UE,__decorate:()=>BE,__exportStar:()=>$E,__extends:()=>OE,__generator:()=>zE,__importDefault:()=>YE,__importStar:()=>WE,__makeTemplateObject:()=>VE,__metadata:()=>FE,__param:()=>ME,__read:()=>Ef,__rest:()=>DE,__spread:()=>jE,__spreadArrays:()=>qE,__values:()=>xa});function OE(e,t){ga(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function DE(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function BE(e,t,r,n){var o=arguments.length,s=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}function ME(e,t){return function(r,n){t(r,n,e)}}function FE(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function LE(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(f){try{d(n.next(f))}catch(h){i(h)}}function c(f){try{d(n.throw(f))}catch(h){i(h)}}function d(f){f.done?s(f.value):o(f.value).then(a,c)}d((n=n.apply(e,t||[])).next())})}function zE(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,o,s,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(d){return function(f){return c([d,f])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(s=d[0]&2?o.return:d[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,d[1])).done)return s;switch(o=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,o=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){r.label=d[1];break}if(d[0]===6&&r.label<s[1]){r.label=s[1],s=d;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(d);break}s[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(f){d=[6,f],o=0}finally{n=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function UE(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function $E(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function xa(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ef(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(a){i={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s}function jE(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ef(arguments[t]));return e}function qE(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),o=0,t=0;t<r;t++)for(var s=arguments[t],i=0,a=s.length;i<a;i++,o++)n[o]=s[i];return n}function oo(e){return this instanceof oo?(this.v=e,this):new oo(e)}function KE(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,s=[];return o={},i("next"),i("throw"),i("return"),o[Symbol.asyncIterator]=function(){return this},o;function i(p){n[p]&&(o[p]=function(E){return new Promise(function(b,T){s.push([p,E,b,T])>1||a(p,E)})})}function a(p,E){try{c(n[p](E))}catch(b){h(s[0][3],b)}}function c(p){p.value instanceof oo?Promise.resolve(p.value.v).then(d,f):h(s[0][2],p)}function d(p){a("next",p)}function f(p){a("throw",p)}function h(p,E){p(E),s.shift(),s.length&&a(s[0][0],s[0][1])}}function GE(e){var t,r;return t={},n("next"),n("throw",function(o){throw o}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(o,s){t[o]=e[o]?function(i){return(r=!r)?{value:oo(e[o](i)),done:o==="return"}:s?s(i):i}:s}}function HE(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof xa=="function"?xa(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(i){return new Promise(function(a,c){i=e[s](i),o(a,c,i.done,i.value)})}}function o(s,i,a,c){Promise.resolve(c).then(function(d){s({value:d,done:a})},i)}}function VE(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function WE(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function YE(e){return e&&e.__esModule?e:{default:e}}function QE(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function XE(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}var ga,Ca,Ea=ae(()=>{ga=function(e,t){return ga=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},ga(e,t)};Ca=function(){return Ca=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Ca.apply(this,arguments)}});var kf=G(ss=>{"use strict";Object.defineProperty(ss,"__esModule",{value:!0});ss.AwsCrc32c=void 0;var bf=(Ea(),$r(wa)),ba=ro(),Sf=Sa(),JE=function(){function e(){this.crc32c=new Sf.Crc32c}return e.prototype.update=function(t){(0,ba.isEmptyData)(t)||this.crc32c.update((0,ba.convertToBuffer)(t))},e.prototype.digest=function(){return bf.__awaiter(this,void 0,void 0,function(){return bf.__generator(this,function(t){return[2,(0,ba.numToUint8)(this.crc32c.digest())]})})},e.prototype.reset=function(){this.crc32c=new Sf.Crc32c},e}();ss.AwsCrc32c=JE});var Sa=G(Gt=>{"use strict";Object.defineProperty(Gt,"__esModule",{value:!0});Gt.AwsCrc32c=Gt.Crc32c=Gt.crc32c=void 0;var ZE=(Ea(),$r(wa)),eb=ro();function tb(e){return new Af().update(e).digest()}Gt.crc32c=tb;var Af=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(t){var r,n;try{for(var o=ZE.__values(t),s=o.next();!s.done;s=o.next()){var i=s.value;this.checksum=this.checksum>>>8^nb[(this.checksum^i)&255]}}catch(a){r={error:a}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e}();Gt.Crc32c=Af;var rb=[0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697],nb=(0,eb.uint32ArrayFrom)(rb),ob=kf();Object.defineProperty(Gt,"AwsCrc32c",{enumerable:!0,get:function(){return ob.AwsCrc32c}})});var Kc=require("fs/promises"),yg=require("fs"),yi=require("path"),zr=rt(Di());var Hd=async e=>{let t=(e==null?void 0:e.Bucket)||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),nx(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!rx(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},ZC=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,ex=/(\d+\.){3}\d+/,tx=/\.\./;var rx=e=>ZC.test(e)&&!ex.test(e)&&!tx.test(e),nx=e=>{let[t,r,n,o,s,i]=e.split(":"),a=t==="arn"&&e.split(":").length>=6,c=[t,r,n,s,i].filter(Boolean).length===5;if(a&&!c)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return t==="arn"&&!!r&&!!n&&!!s&&!!i};var Vd=(e,t,r)=>{let n=async()=>{let o=r[e]??r[t];return typeof o=="function"?o():o};return e==="endpoint"||t==="endpoint"?async()=>{let o=await n();if(o&&typeof o=="object"){if("url"in o)return o.url.href;if("hostname"in o){let{protocol:s,hostname:i,port:a,path:c}=o;return`${s}//${i}${a?":"+a:""}${c}`}}return o}:n};var Wd=async(e,t,r,n)=>{let o=await ox(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(o,n)},ox=async(e,t,r)=>{var s;let n={},o=((s=t==null?void 0:t.getEndpointParameterInstructions)==null?void 0:s.call(t))||{};for(let[i,a]of Object.entries(o))switch(a.type){case"staticContextParams":n[i]=a.value;break;case"contextParams":n[i]=e[a.name];break;case"clientContextParams":case"builtInParams":n[i]=await Vd(a.name,i,r)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return Object.keys(o).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await Hd(n),n};function Yd(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,o=null]=r.split("=");n=decodeURIComponent(n),o&&(o=decodeURIComponent(o)),n in t?Array.isArray(t[n])?t[n].push(o):t[n]=[t[n],o]:t[n]=o}return t}var Ne=e=>{if(typeof e=="string")return Ne(new URL(e));let{hostname:t,pathname:r,port:n,protocol:o,search:s}=e,i;return s&&(i=Yd(s)),{hostname:t,port:n?parseInt(n):void 0,protocol:o,path:r,query:i}};var Qd=e=>typeof e=="object"?"url"in e?Ne(e.url):e:Ne(e);var Xd=({config:e,instructions:t})=>(r,n)=>async o=>{var a,c;let s=await Wd(o.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=s,n.authSchemes=(a=s.properties)==null?void 0:a.authSchemes;let i=(c=n.authSchemes)==null?void 0:c[0];return i&&(n.signing_region=i.signingRegion,n.signing_service=i.signingName),r({...o})};var Jd=(e,t)=>(r,n)=>async o=>{let{response:s}=await r(o);try{let i=await t(s,e);return{response:s,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:s}),!("$metadata"in i)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";i.message+=`
  `+a}throw i}};var Zd=(e,t)=>(r,n)=>async o=>{var a;let s=(a=n.endpointV2)!=null&&a.url&&e.urlParser?async()=>e.urlParser(n.endpointV2.url):e.endpoint;if(!s)throw new Error("No valid endpoint provider available.");let i=await t(o.input,{...e,endpoint:s});return r({...o,request:i})};var sx={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},$i={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function $e(e,t,r){return{applyToStack:n=>{n.add(Jd(e,r),sx),n.add(Zd(e,t),$i)}}}var ix={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:$i.name},je=(e,t)=>({applyToStack:r=>{r.addRelativeTo(Xd({config:e,instructions:t}),ix)}});var pe=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t};var zt=e=>{let t=e.tls??!0,{endpoint:r}=e,n=r!=null?async()=>Qd(await pe(r)()):void 0;return{...e,endpoint:n,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:pe(e.useDualstackEndpoint??!1),useFipsEndpoint:pe(e.useFipsEndpoint??!1)}};var ot=class{trace(){}debug(){}info(){}warn(){}error(){}};var Wr=()=>{let e=[],t=[],r=new Set,n=f=>f.sort((h,p)=>el[p.step]-el[h.step]||tl[p.priority||"normal"]-tl[h.priority||"normal"]),o=f=>{let h=!1,p=E=>E.name&&E.name===f?(h=!0,r.delete(f),!1):!0;return e=e.filter(p),t=t.filter(p),h},s=f=>{let h=!1,p=E=>E.middleware===f?(h=!0,E.name&&r.delete(E.name),!1):!0;return e=e.filter(p),t=t.filter(p),h},i=f=>(e.forEach(h=>{f.add(h.middleware,{...h})}),t.forEach(h=>{f.addRelativeTo(h.middleware,{...h})}),f),a=f=>{let h=[];return f.before.forEach(p=>{p.before.length===0&&p.after.length===0?h.push(p):h.push(...a(p))}),h.push(f),f.after.reverse().forEach(p=>{p.before.length===0&&p.after.length===0?h.push(p):h.push(...a(p))}),h},c=(f=!1)=>{let h=[],p=[],E={};return e.forEach(T=>{let v={...T,before:[],after:[]};v.name&&(E[v.name]=v),h.push(v)}),t.forEach(T=>{let v={...T,before:[],after:[]};v.name&&(E[v.name]=v),p.push(v)}),p.forEach(T=>{if(T.toMiddleware){let v=E[T.toMiddleware];if(v===void 0){if(f)return;throw new Error(`${T.toMiddleware} is not found when adding ${T.name||"anonymous"} middleware ${T.relation} ${T.toMiddleware}`)}T.relation==="after"&&v.after.push(T),T.relation==="before"&&v.before.push(T)}}),n(h).map(a).reduce((T,v)=>(T.push(...v),T),[])},d={add:(f,h={})=>{let{name:p,override:E}=h,b={step:"initialize",priority:"normal",middleware:f,...h};if(p){if(r.has(p)){if(!E)throw new Error(`Duplicate middleware name '${p}'`);let T=e.findIndex(Fe=>Fe.name===p),v=e[T];if(v.step!==b.step||v.priority!==b.priority)throw new Error(`"${p}" middleware with ${v.priority} priority in ${v.step} step cannot be overridden by same-name middleware with ${b.priority} priority in ${b.step} step.`);e.splice(T,1)}r.add(p)}e.push(b)},addRelativeTo:(f,h)=>{let{name:p,override:E}=h,b={middleware:f,...h};if(p){if(r.has(p)){if(!E)throw new Error(`Duplicate middleware name '${p}'`);let T=t.findIndex(Fe=>Fe.name===p),v=t[T];if(v.toMiddleware!==b.toMiddleware||v.relation!==b.relation)throw new Error(`"${p}" middleware ${v.relation} "${v.toMiddleware}" middleware cannot be overridden by same-name middleware ${b.relation} "${b.toMiddleware}" middleware.`);t.splice(T,1)}r.add(p)}t.push(b)},clone:()=>i(Wr()),use:f=>{f.applyToStack(d)},remove:f=>typeof f=="string"?o(f):s(f),removeByTag:f=>{let h=!1,p=E=>{let{tags:b,name:T}=E;return b&&b.includes(f)?(T&&r.delete(T),h=!0,!1):!0};return e=e.filter(p),t=t.filter(p),h},concat:f=>{let h=i(Wr());return h.use(f),h},applyToStack:i,identify:()=>c(!0).map(f=>f.name+": "+(f.tags||[]).join(",")),resolve:(f,h)=>{for(let p of c().map(E=>E.middleware).reverse())f=p(f,h);return f}};return d},el={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},tl={high:3,normal:2,low:1};var st=class{constructor(t){this.middlewareStack=Wr(),this.config=t}send(t,r,n){let o=typeof r!="function"?r:void 0,s=typeof r=="function"?r:n,i=t.resolveMiddleware(this.middlewareStack,this.config,o);if(s)i(t).then(a=>s(null,a.output),a=>s(a)).catch(()=>{});else return i(t).then(a=>a.output)}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}};var Te=class{constructor(){this.middlewareStack=Wr()}};var kr="***SensitiveInformation***";var Ho=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}};var ax=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&cl.warn(al(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},cx=Math.ceil(34028234663852886e22),rl=e=>{let t=ax(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>cx)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},Yr=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}};var Go=e=>ji(e,32),nl=e=>ji(e,16),ol=e=>ji(e,8),ji=(e,t)=>{let r=Yr(e);if(r!==void 0&&dx(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},dx=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},Ie=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},Qr=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},N=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return cl.warn(al(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}};var sl=e=>rl(typeof e=="string"?Hn(e):e),lx=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Hn=e=>{let t=e.match(lx);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)};var qi=e=>Yr(typeof e=="string"?Hn(e):e);var bt=e=>Go(typeof e=="string"?Hn(e):e),Vn=e=>nl(typeof e=="string"?Hn(e):e),il=e=>ol(typeof e=="string"?Hn(e):e),al=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),cl={warn:console.warn};var fx=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Gi=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Wo(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),o=e.getUTCDate(),s=e.getUTCHours(),i=e.getUTCMinutes(),a=e.getUTCSeconds(),c=o<10?`0${o}`:`${o}`,d=s<10?`0${s}`:`${s}`,f=i<10?`0${i}`:`${i}`,h=a<10?`0${a}`:`${a}`;return`${fx[n]}, ${c} ${Gi[r]} ${t} ${d}:${f}:${h} GMT`}var __=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/);var mx=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),Yn=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=mx.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,a,c,d,f]=t,h=Vn(Wn(n)),p=Ut(o,"month",1,12),E=Ut(s,"day",1,31),b=Vo(h,p,E,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:d});return f.toUpperCase()!="Z"&&b.setTime(b.getTime()-Sx(f)),b},ux=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),hx=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),px=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),Hi=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=ux.exec(e);if(t){let[r,n,o,s,i,a,c,d]=t;return Vo(Vn(Wn(s)),Ki(o),Ut(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:d})}if(t=hx.exec(e),t){let[r,n,o,s,i,a,c,d]=t;return Cx(Vo(yx(s),Ki(o),Ut(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:d}))}if(t=px.exec(e),t){let[r,n,o,s,i,a,c,d]=t;return Vo(Vn(Wn(d)),Ki(n),Ut(o.trimLeft(),"day",1,31),{hours:s,minutes:i,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")};var Vo=(e,t,r,n)=>{let o=t-1;return wx(e,o,r),new Date(Date.UTC(e,o,r,Ut(n.hours,"hour",0,23),Ut(n.minutes,"minute",0,59),Ut(n.seconds,"seconds",0,60),bx(n.fractionalMilliseconds)))},yx=e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+Vn(Wn(e));return r<t?r+100:r},gx=50*365*24*60*60*1e3,Cx=e=>e.getTime()-new Date().getTime()>gx?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,Ki=e=>{let t=Gi.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},xx=[31,28,31,30,31,30,31,31,30,31,30,31],wx=(e,t,r)=>{let n=xx[t];if(t===1&&Ex(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${Gi[t]} in ${e}: ${r}`)},Ex=e=>e%4===0&&(e%100!==0||e%400===0),Ut=(e,t,r,n)=>{let o=il(Wn(e));if(o<r||o>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return o},bx=e=>e==null?0:sl("0."+e)*1e3,Sx=e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),o=Number(e.substring(4,6));return r*(n*60+o)*60*1e3},Wn=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)};var qe=class extends Error{constructor(t){super(t.message),Object.setPrototypeOf(this,qe.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}},W=(e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,o])=>{(e[n]==null||e[n]==="")&&(e[n]=o)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e};var it=({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let o=kx(e),s=o.httpStatusCode?o.httpStatusCode+"":void 0,i=new r({name:(t==null?void 0:t.code)||(t==null?void 0:t.Code)||n||s||"UnknownError",$fault:"client",$metadata:o});throw W(i,t)},kx=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]});var $t=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}};var dl=!1,jt=e=>{e&&!dl&&parseInt(e.substring(1,e.indexOf(".")))<14&&(dl=!0)};function Xr(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var Yo=e=>Array.isArray(e)?e:[e];var Qn=e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=Qn(e[r]));return e};var Vi=function(){let e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,[null,...arguments]),r=new t;return Object.setPrototypeOf(r,e.prototype),r};Vi.prototype=Object.create(String.prototype,{constructor:{value:Vi,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(Vi,String);function Ar(e,t,r){let n,o,s;if(typeof t>"u"&&typeof r>"u")n={},s=e;else{if(n=e,typeof t=="function")return o=t,s=r,Ax(n,o,s);s=t}for(let i of Object.keys(s)){if(!Array.isArray(s[i])){n[i]=s[i];continue}_x(n,null,s,i)}return n}var Ax=(e,t,r)=>Ar(e,Object.entries(r).reduce((n,[o,s])=>(Array.isArray(s)?n[o]=s:typeof s=="function"?n[o]=[t,s()]:n[o]=[t,s],n),{})),_x=(e,t,r,n)=>{if(t!==null){let i=r[n];typeof i=="function"&&(i=[,i]);let[a=Rx,c=Nx,d=n]=i;(typeof a=="function"&&a(t[d])||typeof a!="function"&&a)&&(e[n]=c(t[d]));return}let[o,s]=r[n];if(typeof s=="function"){let i,a=o===void 0&&(i=s())!=null,c=typeof o=="function"&&!!o(void 0)||typeof o!="function"&&!!o;a?e[n]=i:c&&(e[n]=s())}else{let i=o===void 0&&s!=null,a=typeof o=="function"&&!!o(s)||typeof o!="function"&&!!o;(i||a)&&(e[n]=s)}},Rx=e=>e!=null,Nx=e=>e;var Qo=(e,t,r,n,o,s)=>{if(t!=null&&t[r]!==void 0){let i=n();if(i.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(o,s?i.split("/").map(a=>Xr(a)).join("/"):Xr(i))}else throw new Error("No value provided for input HTTP label: "+r+".");return e};var Wi;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(Wi||(Wi={}));var q=class{constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/"}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){let t=new q({...this,headers:{...this.headers}});return t.query&&(t.query=Tx(t.query)),t}};function Tx(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}var Je=class{constructor(t){this.statusCode=t.statusCode,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};var jl=rt(sa());var Ze=class extends qe{constructor(t){super(t),Object.setPrototypeOf(this,Ze.prototype)}};var ia;(function(e){e.visit=(t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])})(ia||(ia={}));var aa;(function(e){e.visit=(t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.ObjectSizeGreaterThan!==void 0?r.ObjectSizeGreaterThan(t.ObjectSizeGreaterThan):t.ObjectSizeLessThan!==void 0?r.ObjectSizeLessThan(t.ObjectSizeLessThan):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])})(aa||(aa={}));var ca;(function(e){e.visit=(t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.AccessPointArn!==void 0?r.AccessPointArn(t.AccessPointArn):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])})(ca||(ca={}));var da;(function(e){e.visit=(t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])})(da||(da={}));var Jr=class extends Ze{constructor(t){super({name:"InvalidObjectState",$fault:"client",...t}),this.name="InvalidObjectState",this.$fault="client",Object.setPrototypeOf(this,Jr.prototype),this.StorageClass=t.StorageClass,this.AccessTier=t.AccessTier}},Zr=class extends Ze{constructor(t){super({name:"NoSuchKey",$fault:"client",...t}),this.name="NoSuchKey",this.$fault="client",Object.setPrototypeOf(this,Zr.prototype)}};var en=class extends Ze{constructor(t){super({name:"NoSuchBucket",$fault:"client",...t}),this.name="NoSuchBucket",this.$fault="client",Object.setPrototypeOf(this,en.prototype)}};var Ul=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:kr}}),$l=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:kr}});var ql=async(e,t)=>{let{hostname:r,protocol:n="https",port:o,path:s}=await t.endpoint(),i=kt({},Xo,{"if-match":e.IfMatch,"if-modified-since":[()=>Xo(e.IfModifiedSince),()=>Wo(e.IfModifiedSince).toString()],"if-none-match":e.IfNoneMatch,"if-unmodified-since":[()=>Xo(e.IfUnmodifiedSince),()=>Wo(e.IfUnmodifiedSince).toString()],range:e.Range,"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":e.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5,"x-amz-request-payer":e.RequestPayer,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner,"x-amz-checksum-mode":e.ChecksumMode}),a=`${s!=null&&s.endsWith("/")?s.slice(0,-1):s||""}/{Key+}`;a=Qo(a,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),a=Qo(a,e,"Key",()=>e.Key,"{Key+}",!0);let c=kt({"x-id":[,"GetObject"],"response-cache-control":[,e.ResponseCacheControl],"response-content-disposition":[,e.ResponseContentDisposition],"response-content-encoding":[,e.ResponseContentEncoding],"response-content-language":[,e.ResponseContentLanguage],"response-content-type":[,e.ResponseContentType],"response-expires":[()=>e.ResponseExpires!==void 0,()=>Wo(e.ResponseExpires).toString()],versionId:[,e.VersionId],partNumber:[()=>e.PartNumber!==void 0,()=>e.PartNumber.toString()]}),d;return new q({protocol:n,hostname:r,port:o,method:"GET",headers:i,path:a,query:c,body:d})};var Kl=async(e,t)=>{let{hostname:r,protocol:n="https",port:o,path:s}=await t.endpoint(),i=kt({},Xo,{"x-amz-request-payer":e.RequestPayer,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),a=`${s!=null&&s.endsWith("/")?s.slice(0,-1):s||""}/`;a=Qo(a,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let c=kt({"list-type":[,"2"],delimiter:[,e.Delimiter],"encoding-type":[,e.EncodingType],"max-keys":[()=>e.MaxKeys!==void 0,()=>e.MaxKeys.toString()],prefix:[,e.Prefix],"continuation-token":[,e.ContinuationToken],"fetch-owner":[()=>e.FetchOwner!==void 0,()=>e.FetchOwner.toString()],"start-after":[,e.StartAfter]}),d;return new q({protocol:n,hostname:r,port:o,method:"GET",headers:i,path:a,query:c,body:d})};var Gl=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return vw(e,t);let r=kt({$metadata:Zn(e),DeleteMarker:[()=>e.headers["x-amz-delete-marker"]!==void 0,()=>Ho(e.headers["x-amz-delete-marker"])],AcceptRanges:[,e.headers["accept-ranges"]],Expiration:[,e.headers["x-amz-expiration"]],Restore:[,e.headers["x-amz-restore"]],LastModified:[()=>e.headers["last-modified"]!==void 0,()=>Ie(Hi(e.headers["last-modified"]))],ContentLength:[()=>e.headers["content-length"]!==void 0,()=>qi(e.headers["content-length"])],ETag:[,e.headers.etag],ChecksumCRC32:[,e.headers["x-amz-checksum-crc32"]],ChecksumCRC32C:[,e.headers["x-amz-checksum-crc32c"]],ChecksumSHA1:[,e.headers["x-amz-checksum-sha1"]],ChecksumSHA256:[,e.headers["x-amz-checksum-sha256"]],MissingMeta:[()=>e.headers["x-amz-missing-meta"]!==void 0,()=>bt(e.headers["x-amz-missing-meta"])],VersionId:[,e.headers["x-amz-version-id"]],CacheControl:[,e.headers["cache-control"]],ContentDisposition:[,e.headers["content-disposition"]],ContentEncoding:[,e.headers["content-encoding"]],ContentLanguage:[,e.headers["content-language"]],ContentRange:[,e.headers["content-range"]],ContentType:[,e.headers["content-type"]],Expires:[()=>e.headers.expires!==void 0,()=>Ie(Hi(e.headers.expires))],WebsiteRedirectLocation:[,e.headers["x-amz-website-redirect-location"]],ServerSideEncryption:[,e.headers["x-amz-server-side-encryption"]],SSECustomerAlgorithm:[,e.headers["x-amz-server-side-encryption-customer-algorithm"]],SSECustomerKeyMD5:[,e.headers["x-amz-server-side-encryption-customer-key-md5"]],SSEKMSKeyId:[,e.headers["x-amz-server-side-encryption-aws-kms-key-id"]],BucketKeyEnabled:[()=>e.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0,()=>Ho(e.headers["x-amz-server-side-encryption-bucket-key-enabled"])],StorageClass:[,e.headers["x-amz-storage-class"]],RequestCharged:[,e.headers["x-amz-request-charged"]],ReplicationStatus:[,e.headers["x-amz-replication-status"]],PartsCount:[()=>e.headers["x-amz-mp-parts-count"]!==void 0,()=>bt(e.headers["x-amz-mp-parts-count"])],TagCount:[()=>e.headers["x-amz-tagging-count"]!==void 0,()=>bt(e.headers["x-amz-tagging-count"])],ObjectLockMode:[,e.headers["x-amz-object-lock-mode"]],ObjectLockRetainUntilDate:[()=>e.headers["x-amz-object-lock-retain-until-date"]!==void 0,()=>Ie(Yn(e.headers["x-amz-object-lock-retain-until-date"]))],ObjectLockLegalHoldStatus:[,e.headers["x-amz-object-lock-legal-hold"]],Metadata:[,Object.keys(e.headers).filter(o=>o.startsWith("x-amz-meta-")).reduce((o,s)=>(o[s.substring(11)]=e.headers[s],o),{})]}),n=e.body;return t.sdkStreamMixin(n),r.Body=n,r},vw=async(e,t)=>{let r={...e,body:await Wl(e.body,t)},n=Yl(e,r.body);switch(n){case"InvalidObjectState":case"com.amazonaws.s3#InvalidObjectState":throw await Dw(r,t);case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":throw await Mw(r,t);default:let o=r.body;it({output:e,parsedBody:o,exceptionCtor:Ze,errorCode:n})}};var Hl=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Ow(e,t);let r=kt({$metadata:Zn(e)}),n=Ie(Qr(await Vl(e.body,t)),"body");return n.CommonPrefixes===""?r.CommonPrefixes=[]:n.CommonPrefixes!==void 0&&(r.CommonPrefixes=zw(Yo(n.CommonPrefixes),t)),n.Contents===""?r.Contents=[]:n.Contents!==void 0&&(r.Contents=$w(Yo(n.Contents),t)),n.ContinuationToken!==void 0&&(r.ContinuationToken=N(n.ContinuationToken)),n.Delimiter!==void 0&&(r.Delimiter=N(n.Delimiter)),n.EncodingType!==void 0&&(r.EncodingType=N(n.EncodingType)),n.IsTruncated!==void 0&&(r.IsTruncated=Ho(n.IsTruncated)),n.KeyCount!==void 0&&(r.KeyCount=bt(n.KeyCount)),n.MaxKeys!==void 0&&(r.MaxKeys=bt(n.MaxKeys)),n.Name!==void 0&&(r.Name=N(n.Name)),n.NextContinuationToken!==void 0&&(r.NextContinuationToken=N(n.NextContinuationToken)),n.Prefix!==void 0&&(r.Prefix=N(n.Prefix)),n.StartAfter!==void 0&&(r.StartAfter=N(n.StartAfter)),r},Ow=async(e,t)=>{let r={...e,body:await Wl(e.body,t)},n=Yl(e,r.body);switch(n){case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":throw await Bw(r,t);default:let o=r.body;it({output:e,parsedBody:o,exceptionCtor:Ze,errorCode:n})}};var kt=Ar;var Dw=async(e,t)=>{let r=kt({}),n=e.body;n.AccessTier!==void 0&&(r.AccessTier=N(n.AccessTier)),n.StorageClass!==void 0&&(r.StorageClass=N(n.StorageClass));let o=new Jr({$metadata:Zn(e),...r});return W(o,e.body)},Bw=async(e,t)=>{let r=kt({}),n=e.body,o=new en({$metadata:Zn(e),...r});return W(o,e.body)},Mw=async(e,t)=>{let r=kt({}),n=e.body,o=new Zr({$metadata:Zn(e),...r});return W(o,e.body)};var Fw=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>N(r)),Lw=(e,t)=>{let r={};return e.Prefix!==void 0&&(r.Prefix=N(e.Prefix)),r},zw=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>Lw(r,t));var Uw=(e,t)=>{let r={};return e.Key!==void 0&&(r.Key=N(e.Key)),e.LastModified!==void 0&&(r.LastModified=Ie(Yn(e.LastModified))),e.ETag!==void 0&&(r.ETag=N(e.ETag)),e.ChecksumAlgorithm===""?r.ChecksumAlgorithm=[]:e.ChecksumAlgorithm!==void 0&&(r.ChecksumAlgorithm=Fw(Yo(e.ChecksumAlgorithm),t)),e.Size!==void 0&&(r.Size=qi(e.Size)),e.StorageClass!==void 0&&(r.StorageClass=N(e.StorageClass)),e.Owner!==void 0&&(r.Owner=jw(e.Owner,t)),r},$w=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>Uw(r,t));var jw=(e,t)=>{let r={};return e.DisplayName!==void 0&&(r.DisplayName=N(e.DisplayName)),e.ID!==void 0&&(r.ID=N(e.ID)),r};var Zn=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),qw=(e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),Kw=(e,t)=>qw(e,t).then(r=>t.utf8Encoder(r)),Xo=e=>e!=null&&e!==""&&(!Object.getOwnPropertyNames(e).includes("length")||e.length!=0)&&(!Object.getOwnPropertyNames(e).includes("size")||e.size!=0),Vl=(e,t)=>Kw(e,t).then(r=>{if(r.length){let n=new jl.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,d)=>d.trim()===""&&d.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let o=n.parse(r),s="#text",i=Object.keys(o)[0],a=o[i];return a[s]&&(a[i]=a[s],delete a[s]),Qn(a)}return{}}),Wl=async(e,t)=>{let r=await Vl(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},Yl=(e,t)=>{if((t==null?void 0:t.Code)!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"};var Ql=e=>({...e,forcePathStyle:e.forcePathStyle??!1,useAccelerateEndpoint:e.useAccelerateEndpoint??!1,disableMultiregionAccessPoints:e.disableMultiregionAccessPoints??!1});var la=e=>typeof e=="string"&&e.indexOf("arn:")===0&&e.split(":").length>=6;function Gw(){return e=>async t=>{let{input:{Bucket:r}}=t;if(typeof r=="string"&&!la(r)&&r.indexOf("/")>=0){let n=new Error(`Bucket name shouldn't contain '/', received '${r}'`);throw n.name="InvalidBucketName",n}return e({...t})}}var Hw={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},Xl=e=>({applyToStack:t=>{t.add(Gw(),Hw)}});function Vw(e){return t=>async r=>{let n={...r.input},o=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];for(let s of o){let i=n[s.target];if(i){let a=ArrayBuffer.isView(i)?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):typeof i=="string"?e.utf8Decoder(i):new Uint8Array(i),c=e.base64Encoder(a),d=new e.md5;d.update(a),n={...n,[s.target]:c,[s.hash]:e.base64Encoder(await d.digest())}}}return t({...r,input:n})}}var Ww={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},Jl=e=>({applyToStack:t=>{t.add(Vw(e),Ww)}});var ie;(function(e){e.MD5="MD5",e.CRC32="CRC32",e.CRC32C="CRC32C",e.SHA1="SHA1",e.SHA256="SHA256"})(ie||(ie={}));var Zl;(function(e){e.HEADER="header",e.TRAILER="trailer"})(Zl||(Zl={}));var eo=[ie.CRC32,ie.CRC32C,ie.SHA1,ie.SHA256],ef=[ie.CRC32,ie.CRC32C,ie.SHA1,ie.SHA256];var tf=(e,{requestChecksumRequired:t,requestAlgorithmMember:r})=>{if(!r||!e[r])return t?ie.MD5:void 0;let n=e[r];if(!eo.includes(n))throw new Error(`The checksum algorithm "${n}" is not supported by the client. Select one of ${eo}.`);return n};var Jo=e=>e===ie.MD5?"content-md5":`x-amz-checksum-${e.toLowerCase()}`;var rf=(e,t)=>{let r=e.toLowerCase();for(let n of Object.keys(t))if(r===n.toLowerCase())return!0;return!1};var tn=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]";var Zo=e=>e!==void 0&&typeof e!="string"&&!ArrayBuffer.isView(e)&&!tn(e);var _f=rt(no()),Rf=rt(Sa());var is=(e,t)=>({[ie.MD5]:t.md5,[ie.CRC32]:_f.AwsCrc32,[ie.CRC32C]:Rf.AwsCrc32c,[ie.SHA1]:t.sha1,[ie.SHA256]:t.sha256})[e];var as=require("buffer"),At=(e,t=0,r=e.byteLength-t)=>{if(!tn(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return as.Buffer.from(e,t,r)},rn=(e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?as.Buffer.from(e,t):as.Buffer.from(e)};var ct=e=>{let t=rn(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)};var ve=e=>typeof e=="string"?ct(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e);var Ht=e=>At(e.buffer,e.byteOffset,e.byteLength).toString("utf8");var cs=(e,t)=>{let r=new e;return r.update(ve(t||"")),r.digest()};var Nf=async(e,{streamHasher:t,checksumAlgorithmFn:r,base64Encoder:n})=>{let o=Zo(e)?t(r,e):cs(r,e);return n(await o)};var Tf=(e=[])=>{let t=[];for(let r of ef)!e.includes(r)||!eo.includes(r)||t.push(r);return t};var If=async(e,{config:t,responseAlgorithms:r})=>{let n=Tf(r),{body:o,headers:s}=e;for(let i of n){let a=Jo(i),c=s[a];if(c){let d=is(i,t),{streamHasher:f,base64Encoder:h}=t,p=await Nf(o,{streamHasher:f,checksumAlgorithmFn:d,base64Encoder:h});if(p===c)break;throw new Error(`Checksum mismatch: expected "${p}" but received "${c}" in response header "${a}".`)}}};var Pf=(e,t)=>r=>async n=>{if(!q.isInstance(n.request))return r(n);let{request:o}=n,{body:s,headers:i}=o,{base64Encoder:a,streamHasher:c}=e,{input:d,requestChecksumRequired:f,requestAlgorithmMember:h}=t,p=tf(d,{requestChecksumRequired:f,requestAlgorithmMember:h}),E=s,b=i;if(p){let Er=Jo(p),Ae=is(p,e);if(Zo(s)){let{getAwsChunkedEncodingStream:br,bodyLengthChecker:jn}=e;E=br(s,{base64Encoder:a,bodyLengthChecker:jn,checksumLocationName:Er,checksumAlgorithmFn:Ae,streamHasher:c}),b={...i,"content-encoding":i["content-encoding"]?`${i["content-encoding"]},aws-chunked`:"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":i["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":Er},delete b["content-length"]}else if(!rf(Er,i)){let br=await cs(Ae,s);b={...i,[Er]:a(br)}}}let T=await r({...n,request:{...o,headers:b,body:E}}),{requestValidationModeMember:v,responseAlgorithms:Fe}=t;return v&&d[v]==="ENABLED"&&If(T.response,{config:e,responseAlgorithms:Fe}),T};var sb={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},vf=(e,t)=>({applyToStack:r=>{r.add(Pf(e,t),sb)}});var nn=class extends Te{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use($e(r,this.serialize,this.deserialize)),this.middlewareStack.use(je(r,nn.getEndpointParameterInstructions())),this.middlewareStack.use(Jl(r)),this.middlewareStack.use(vf(r,{input:this.input,requestChecksumRequired:!1,requestValidationModeMember:"ChecksumMode",responseAlgorithms:["CRC32","CRC32C","SHA256","SHA1"]}));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"S3Client",commandName:"GetObjectCommand",inputFilterSensitiveLog:$l,outputFilterSensitiveLog:Ul},{requestHandler:d}=r;return o.resolve(f=>d.handle(f.request,n||{}),c)}serialize(t,r){return ql(t,r)}deserialize(t,r){return Gl(t,r)}};var on=class extends Te{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use($e(r,this.serialize,this.deserialize)),this.middlewareStack.use(je(r,on.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"S3Client",commandName:"ListObjectsV2Command",inputFilterSensitiveLog:f=>f,outputFilterSensitiveLog:f=>f},{requestHandler:d}=r;return o.resolve(f=>d.handle(f.request,n||{}),c)}serialize(t,r){return Kl(t,r)}deserialize(t,r){return Hl(t,r)}};var Ke;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(Ke||(Ke={}));var dt=(e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}};var ib="AWS_USE_DUALSTACK_ENDPOINT",ab="use_dualstack_endpoint";var Vt={environmentVariableSelector:e=>dt(e,ib,Ke.ENV),configFileSelector:e=>dt(e,ab,Ke.CONFIG),default:!1};var cb="AWS_USE_FIPS_ENDPOINT",db="use_fips_endpoint";var Wt={environmentVariableSelector:e=>dt(e,cb,Ke.ENV),configFileSelector:e=>dt(e,db,Ke.CONFIG),default:!1};var lb="AWS_REGION",fb="region",lt={environmentVariableSelector:e=>e[lb],configFileSelector:e=>e[fb],default:()=>{throw new Error("Region is missing")}},Yt={preferredFile:"credentials"};var ds=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips"));var ka=e=>ds(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e;var Qt=e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return{...e,region:async()=>{if(typeof t=="string")return ka(t);let n=await t();return ka(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return ds(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}};var Of=e=>({...e,eventStreamMarshaller:e.eventStreamSerdeProvider(e)});var Df="content-length";function mb(e){return t=>async r=>{let n=r.request;if(q.isInstance(n)){let{body:o,headers:s}=n;if(o&&Object.keys(s).map(i=>i.toLowerCase()).indexOf(Df)===-1)try{let i=e(o);n.headers={...n.headers,[Df]:String(i)}}catch{}}return t({...r,request:n})}}var ub={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},Xt=e=>({applyToStack:t=>{t.add(mb(e.bodyLengthChecker),ub)}});function hb(e){return t=>async r=>{let{request:n}=r;return q.isInstance(n)&&n.body&&e.runtime==="node"&&(n.headers={...n.headers,Expect:"100-continue"}),t({...r,request:n})}}var pb={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},Bf=e=>({applyToStack:t=>{t.add(hb(e),pb)}});var yb=e=>t=>async r=>{if(!q.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:o=""}=e.requestHandler.metadata||{};if(o.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]="";else if(!n.headers.host){let s=n.hostname;n.port!=null&&(s+=`:${n.port}`),n.headers.host=s}return t(r)},gb={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Jt=e=>({applyToStack:t=>{t.add(yb(e),gb)}});var Cb=()=>(e,t)=>async r=>{var n,o;try{let s=await e(r),{clientName:i,commandName:a,logger:c,dynamoDbDocumentClientOptions:d={}}=t,{overrideInputFilterSensitiveLog:f,overrideOutputFilterSensitiveLog:h}=d,p=f??t.inputFilterSensitiveLog,E=h??t.outputFilterSensitiveLog,{$metadata:b,...T}=s.output;return(n=c==null?void 0:c.info)==null||n.call(c,{clientName:i,commandName:a,input:p(r.input),output:E(T),metadata:b}),s}catch(s){let{clientName:i,commandName:a,logger:c,dynamoDbDocumentClientOptions:d={}}=t,{overrideInputFilterSensitiveLog:f}=d,h=f??t.inputFilterSensitiveLog;throw(o=c==null?void 0:c.error)==null||o.call(c,{clientName:i,commandName:a,input:h(r.input),error:s,metadata:s.$metadata}),s}},xb={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},Zt=e=>({applyToStack:t=>{t.add(Cb(),xb)}});var Mf="X-Amzn-Trace-Id",wb="AWS_LAMBDA_FUNCTION_NAME",Eb="_X_AMZN_TRACE_ID",bb=e=>t=>async r=>{let{request:n}=r;if(!q.isInstance(n)||e.runtime!=="node"||n.headers.hasOwnProperty(Mf))return t(r);let o=process.env[wb],s=process.env[Eb],i=a=>typeof a=="string"&&a.length>0;return i(o)&&i(s)&&(n.headers[Mf]=s),t({...r,request:n})},Sb={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},er=e=>({applyToStack:t=>{t.add(bb(e),Sb)}});var ft;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(ft||(ft={}));var Rr=3,mt="STANDARD";var Ff=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],Lf=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],zf=[500,502,503,504],Uf=["ECONNRESET","EPIPE","ETIMEDOUT"];var sn=e=>{var t,r;return((t=e.$metadata)==null?void 0:t.httpStatusCode)===429||Ff.includes(e.name)||((r=e.$retryable)==null?void 0:r.throttling)==!0},ls=e=>{var t;return Lf.includes(e.name)||Uf.includes((e==null?void 0:e.code)||"")||zf.includes(((t=e.$metadata)==null?void 0:t.httpStatusCode)||0)},$f=e=>{var t;if(((t=e.$metadata)==null?void 0:t.httpStatusCode)!==void 0){let r=e.$metadata.httpStatusCode;return 500<=r&&r<=599&&!ls(e)}return!1};var so=class{constructor(t){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=(t==null?void 0:t.beta)??.7,this.minCapacity=(t==null?void 0:t.minCapacity)??1,this.minFillRate=(t==null?void 0:t.minFillRate)??.5,this.scaleConstant=(t==null?void 0:t.scaleConstant)??.4,this.smooth=(t==null?void 0:t.smooth)??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>setTimeout(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),sn(t)){let o=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=o,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(o),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}};var fs="amz-sdk-invocation-id",ms="amz-sdk-request";var jf=()=>{let e=100;return{computeNextBackoffDelay:n=>Math.floor(Math.min(2e4,Math.random()*2**n*e)),setDelayBase:n=>{e=n}}};var Vf=(e,t,r,n)=>{let o=e,s=(n==null?void 0:n.retryCost)??5,i=(n==null?void 0:n.timeoutRetryCost)??10,a=(n==null?void 0:n.retryBackoffStrategy)??jf(),c=e,d=Math.min(2e4,t),f,h=r??0,p=Ae=>Ae==="TRANSIENT"?i:s,E=()=>h,b=()=>d,T=()=>f,v=Ae=>p(Ae)<=c;return{getRetryCount:E,getRetryDelay:b,getLastRetryCost:T,hasRetryTokens:v,getRetryTokenCount:Ae=>{let br=Ae.errorType;if(!v(br))throw new Error("No retry token available");let jn=p(br),xg=br==="THROTTLING"?500:100;a.setDelayBase(xg);let Gc=a.computeNextBackoffDelay(h);if(Ae.retryAfterHint){let wg=Ae.retryAfterHint.getTime()-Date.now();d=Math.max(wg||0,Gc)}else d=Gc;return h++,f=jn,c-=jn,jn},releaseRetryTokens:Ae=>{c+=Ae??1,c=Math.min(c,o)}}};var cn=class{constructor(t){this.maxAttemptsProvider=t,this.mode=ft.STANDARD,this.retryToken=Vf(500,100),this.maxAttemptsProvider=t}async acquireInitialRetryToken(t){return this.retryToken}async refreshRetryTokenForRetry(t,r){let n=await this.getMaxAttempts();if(this.shouldRetry(t,r,n))return t.getRetryTokenCount(r),t;throw new Error("No retry token available")}recordSuccess(t){this.retryToken.releaseRetryTokens(t.getLastRetryCost())}async getMaxAttempts(){let t;try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${Rr}`),Rr}}shouldRetry(t,r,n){return t.getRetryCount()<n&&t.hasRetryTokens(r.errorType)&&this.isRetryableError(r.errorType)}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}};var hs=class{constructor(t,r){this.maxAttemptsProvider=t,this.mode=ft.ADAPTIVE;let{rateLimiter:n}=r??{};this.rateLimiter=n??new so,this.standardRetryStrategy=new cn(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(t,r)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}};var Aa=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`);var Yf="AWS_MAX_ATTEMPTS",Qf="max_attempts",tr={environmentVariableSelector:e=>{let t=e[Yf];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${Yf} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[Qf];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${Qf} mast be a number, got "${t}"`);return r},default:Rr},rr=e=>{let{retryStrategy:t}=e,r=pe(e.maxAttempts??Rr);return{...e,maxAttempts:r,retryStrategy:async()=>t||(await pe(e.retryMode)()===ft.ADAPTIVE?new hs(r):new cn(r))}},kb="AWS_RETRY_MODE",Ab="retry_mode",nr={environmentVariableSelector:e=>e[kb],configFileSelector:e=>e[Ab],default:mt};ki();var _b=e=>(t,r)=>async n=>{let o=await e.retryStrategy(),s=await e.maxAttempts();if(Rb(o)){o=o;let i=await o.acquireInitialRetryToken(r.partition_id),a=new Error,c=0,d=0,{request:f}=n;for(q.isInstance(f)&&(f.headers[fs]=zo());;)try{q.isInstance(f)&&(f.headers[ms]=`attempt=${c+1}; max=${s}`);let{response:h,output:p}=await t(n);return o.recordSuccess(i),p.$metadata.attempts=c+1,p.$metadata.totalRetryDelay=d,{response:h,output:p}}catch(h){let p=Nb(h);a=Aa(h);try{i=await o.refreshRetryTokenForRetry(i,p)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=d,a}c=i.getRetryCount();let E=i.getRetryDelay();d+=E,await new Promise(b=>setTimeout(b,E))}}else return o=o,o!=null&&o.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",o.mode]]),o.retry(t,n)},Rb=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",Nb=e=>{let t={errorType:Tb(e)},r=Pb(e.$response);return r&&(t.retryAfterHint=r),t},Tb=e=>sn(e)?"THROTTLING":ls(e)?"TRANSIENT":$f(e)?"SERVER_ERROR":"CLIENT_ERROR",Ib={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},or=e=>({applyToStack:t=>{t.add(_b(e),Ib)}}),Pb=e=>{if(!Je.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)};var Oe=class extends Error{constructor(t,r=!0){super(t),this.tryNextLink=r,this.name="ProviderError",Object.setPrototypeOf(this,Oe.prototype)}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}};var D=class extends Oe{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="CredentialsProviderError",Object.setPrototypeOf(this,D.prototype)}};var De=class extends Oe{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="TokenProviderError",Object.setPrototypeOf(this,De.prototype)}};function ps(...e){return()=>{let t=Promise.reject(new Oe("No providers in chain"));for(let r of e)t=t.catch(n=>{if(n!=null&&n.tryNextLink)return r();throw n});return t}}var Xf=e=>()=>Promise.resolve(e);var sr=(e,t,r)=>{let n,o,s,i=!1,a=async()=>{o||(o=e());try{n=await o,s=!0,i=!1}finally{o=void 0}return n};return t===void 0?async c=>((!s||c!=null&&c.forceRefresh)&&(n=await a()),n):async c=>((!s||c!=null&&c.forceRefresh)&&(n=await a()),i?n:r&&!r(n)?(i=!0,n):(t(n)&&await a(),n))};var Jf={},_a={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),Jf[e]=t,_a[t]=e}function Zf(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in _a)t[r/2]=_a[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}function ye(e){let t="";for(let r=0;r<e.byteLength;r++)t+=Jf[e[r]];return t}var em="X-Amz-Algorithm",tm="X-Amz-Credential",Ra="X-Amz-Date",rm="X-Amz-SignedHeaders",nm="X-Amz-Expires",Na="X-Amz-Signature",Ta="X-Amz-Security-Token";var Ia="authorization",Pa=Ra.toLowerCase(),vb="date",om=[Ia,Pa,vb],sm=Na.toLowerCase(),io="x-amz-content-sha256",im=Ta.toLowerCase();var am={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},cm=/^proxy-/,dm=/^sec-/;var ys="AWS4-HMAC-SHA256";var lm="AWS4-HMAC-SHA256-PAYLOAD",fm="UNSIGNED-PAYLOAD",mm=50,va="aws4_request",um=60*60*24*7;var gs={},Oa=[],Cs=(e,t,r)=>`${e}/${t}/${r}/${va}`,pm=async(e,t,r,n,o)=>{let s=await hm(e,t.secretAccessKey,t.accessKeyId),i=`${r}:${n}:${o}:${ye(s)}:${t.sessionToken}`;if(i in gs)return gs[i];for(Oa.push(i);Oa.length>mm;)delete gs[Oa.shift()];let a=`AWS4${t.secretAccessKey}`;for(let c of[r,n,o,va])a=await hm(e,a,c);return gs[i]=a};var hm=(e,t,r)=>{let n=new e(t);return n.update(ve(r)),n.digest()};var xs=({headers:e},t,r)=>{let n={};for(let o of Object.keys(e).sort()){if(e[o]==null)continue;let s=o.toLowerCase();(s in am||t!=null&&t.has(s)||cm.test(s)||dm.test(s))&&(!r||r&&!r.has(s))||(n[s]=e[o].trim().replace(/\s+/g," "))}return n};var ut=e=>encodeURIComponent(e).replace(/[!'()*]/g,Ob),Ob=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`;var Da=({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e).sort()){if(n.toLowerCase()===sm)continue;t.push(n);let o=e[n];typeof o=="string"?r[n]=`${ut(n)}=${ut(o)}`:Array.isArray(o)&&(r[n]=o.slice(0).sort().reduce((s,i)=>s.concat([`${ut(n)}=${ut(i)}`]),[]).join("&"))}return t.map(n=>r[n]).filter(n=>n).join("&")};var ao=async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===io)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||tn(t)){let n=new r;return n.update(ve(t)),ye(await n.digest())}return fm};var ym=(e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1};var ws=({headers:e,query:t,...r})=>({...r,headers:{...e},query:t?Db(t):void 0}),Db=e=>Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{});var Ba=(e,t={})=>{var o;let{headers:r,query:n={}}=typeof e.clone=="function"?e.clone():ws(e);for(let s of Object.keys(r)){let i=s.toLowerCase();i.slice(0,6)==="x-amz-"&&!((o=t.unhoistableHeaders)!=null&&o.has(i))&&(n[s]=r[s],delete r[s])}return{...e,headers:r,query:n}};var Es=e=>{e=typeof e.clone=="function"?e.clone():ws(e);for(let t of Object.keys(e.headers))om.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e};var gm=e=>Bb(e).toISOString().replace(/\.\d{3}Z$/,"Z"),Bb=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e;var Nr=class{constructor({applyChecksum:t,credentials:r,region:n,service:o,sha256:s,uriEscapePath:i=!0}){this.service=o,this.sha256=s,this.uriEscapePath=i,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=pe(n),this.credentialProvider=pe(r)}async presign(t,r={}){let{signingDate:n=new Date,expiresIn:o=3600,unsignableHeaders:s,unhoistableHeaders:i,signableHeaders:a,signingRegion:c,signingService:d}=r,f=await this.credentialProvider();this.validateResolvedCredentials(f);let h=c??await this.regionProvider(),{longDate:p,shortDate:E}=bs(n);if(o>um)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let b=Cs(E,h,d??this.service),T=Ba(Es(t),{unhoistableHeaders:i});f.sessionToken&&(T.query[Ta]=f.sessionToken),T.query[em]=ys,T.query[tm]=`${f.accessKeyId}/${b}`,T.query[Ra]=p,T.query[nm]=o.toString(10);let v=xs(T,s,a);return T.query[rm]=Cm(v),T.query[Na]=await this.getSignature(p,b,this.getSigningKey(f,h,E,d),this.createCanonicalRequest(T,v,await ao(t,this.sha256))),T}async sign(t,r){return typeof t=="string"?this.signString(t,r):t.headers&&t.payload?this.signEvent(t,r):this.signRequest(t,r)}async signEvent({headers:t,payload:r},{signingDate:n=new Date,priorSignature:o,signingRegion:s,signingService:i}){let a=s??await this.regionProvider(),{shortDate:c,longDate:d}=bs(n),f=Cs(c,a,i??this.service),h=await ao({headers:{},body:r},this.sha256),p=new this.sha256;p.update(t);let E=ye(await p.digest()),b=[lm,d,f,o,E,h].join(`
`);return this.signString(b,{signingDate:n,signingRegion:a,signingService:i})}async signString(t,{signingDate:r=new Date,signingRegion:n,signingService:o}={}){let s=await this.credentialProvider();this.validateResolvedCredentials(s);let i=n??await this.regionProvider(),{shortDate:a}=bs(r),c=new this.sha256(await this.getSigningKey(s,i,a,o));return c.update(ve(t)),ye(await c.digest())}async signRequest(t,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:o,signingRegion:s,signingService:i}={}){let a=await this.credentialProvider();this.validateResolvedCredentials(a);let c=s??await this.regionProvider(),d=Es(t),{longDate:f,shortDate:h}=bs(r),p=Cs(h,c,i??this.service);d.headers[Pa]=f,a.sessionToken&&(d.headers[im]=a.sessionToken);let E=await ao(d,this.sha256);!ym(io,d.headers)&&this.applyChecksum&&(d.headers[io]=E);let b=xs(d,o,n),T=await this.getSignature(f,p,this.getSigningKey(a,c,h,i),this.createCanonicalRequest(d,b,E));return d.headers[Ia]=`${ys} Credential=${a.accessKeyId}/${p}, SignedHeaders=${Cm(b)}, Signature=${T}`,d}createCanonicalRequest(t,r,n){let o=Object.keys(r).sort();return`${t.method}
${this.getCanonicalPath(t)}
${Da(t)}
${o.map(s=>`${s}:${r[s]}`).join(`
`)}

${o.join(";")}
${n}`}async createStringToSign(t,r,n){let o=new this.sha256;o.update(ve(n));let s=await o.digest();return`${ys}
${t}
${r}
${ye(s)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){let r=[];for(let s of t.split("/"))(s==null?void 0:s.length)!==0&&s!=="."&&(s===".."?r.pop():r.push(s));let n=`${t!=null&&t.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&(t!=null&&t.endsWith("/"))?"/":""}`;return encodeURIComponent(n).replace(/%2F/g,"/")}return t}async getSignature(t,r,n,o){let s=await this.createStringToSign(t,r,o),i=new this.sha256(await n);return i.update(ve(s)),ye(await i.digest())}getSigningKey(t,r,n,o){return pm(this.sha256,t,n,r,o||this.service)}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}},bs=e=>{let t=gm(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}},Cm=e=>Object.keys(e).sort().join(";");var Mb=3e5,Ss=e=>{let t=e.credentials?Fb(e.credentials):e.credentialDefaultProvider(e),{signingEscapePath:r=!0,systemClockOffset:n=e.systemClockOffset||0,sha256:o}=e,s;return e.signer?s=pe(e.signer):e.regionInfoProvider?s=()=>pe(e.region)().then(async i=>[await e.regionInfoProvider(i,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},i]).then(([i,a])=>{let{signingRegion:c,signingService:d}=i;e.signingRegion=e.signingRegion||c||a,e.signingName=e.signingName||d||e.serviceId;let f={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:r},h=e.signerConstructor||Nr;return new h(f)}):s=async i=>{i=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await pe(e.region)(),properties:{}},i);let a=i.signingRegion,c=i.signingName;e.signingRegion=e.signingRegion||a,e.signingName=e.signingName||c||e.serviceId;let d={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:r},f=e.signerConstructor||Nr;return new f(d)},{...e,systemClockOffset:n,signingEscapePath:r,credentials:t,signer:s}};var Fb=e=>typeof e=="function"?sr(e,t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<Mb,t=>t.expiration!==void 0):pe(e);var ks=e=>new Date(Date.now()+e);var xm=(e,t)=>Math.abs(ks(t).getTime()-e)>=3e5;var Ma=(e,t)=>{let r=Date.parse(e);return xm(r,t)?r-Date.now():t};var Lb=e=>(t,r)=>async function(n){var d,f,h,p;if(!q.isInstance(n.request))return t(n);let o=(h=(f=(d=r.endpointV2)==null?void 0:d.properties)==null?void 0:f.authSchemes)==null?void 0:h[0],s=(o==null?void 0:o.name)==="sigv4a"?(p=o==null?void 0:o.signingRegionSet)==null?void 0:p.join(","):void 0,i=await e.signer(o),a=await t({...n,request:await i.sign(n.request,{signingDate:ks(e.systemClockOffset),signingRegion:s||r.signing_region,signingService:r.signing_service})}).catch(E=>{let b=E.ServerTime??wm(E.$response);throw b&&(e.systemClockOffset=Ma(b,e.systemClockOffset)),E}),c=wm(a.response);return c&&(e.systemClockOffset=Ma(c,e.systemClockOffset)),a},wm=e=>{var t,r;return Je.isInstance(e)?((t=e.headers)==null?void 0:t.date)??((r=e.headers)==null?void 0:r.Date):void 0},zb={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},As=e=>({applyToStack:t=>{t.addRelativeTo(Lb(e),zb)}});function ir(e){return{...e,customUserAgent:typeof e.customUserAgent=="string"?[[e.customUserAgent]]:e.customUserAgent}}var Fa={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}}],version:"1.1"};var Em=Fa,bm="",$b=e=>{let{partitions:t}=Em;for(let n of t){let{regions:o,outputs:s}=n;for(let[i,a]of Object.entries(o))if(i===e)return{...s,...a}}for(let n of t){let{regionRegex:o,outputs:s}=n;if(new RegExp(o).test(e))return{...s}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},Sm=(e,t="")=>{Em=e,bm=t},jb=()=>{Sm(Fa,"")},La=()=>bm;var _t="endpoints";function Ge(e){return typeof e!="object"||e==null?e:"ref"in e?`$${Ge(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(Ge).join(", ")})`:JSON.stringify(e,null,2)}var te=class extends Error{constructor(t){super(t),this.name="EndpointError"}};var ja={};Ur(ja,{aws:()=>za,booleanEquals:()=>Hb,getAttr:()=>Ua,isSet:()=>Vb,isValidHostLabel:()=>Rs,not:()=>Wb,parseURL:()=>Yb,stringEquals:()=>Qb,substring:()=>Xb,uriEncode:()=>Jb});var za={};Ur(za,{getUserAgentPrefix:()=>La,isVirtualHostableS3Bucket:()=>km,parseArn:()=>Gb,partition:()=>$b,setPartitionInfo:()=>Sm,useDefaultPartitionInfo:()=>jb});var qb=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),_s=e=>qb.test(e)||e.startsWith("[")&&e.endsWith("]");var Kb=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),Rs=(e,t=!1)=>{if(!t)return Kb.test(e);let r=e.split(".");for(let n of r)if(!Rs(n))return!1;return!0};var km=(e,t=!1)=>{if(t){for(let r of e.split("."))if(!km(r))return!1;return!0}return!(!Rs(e)||e.length<3||e.length>63||e!==e.toLowerCase()||_s(e))};var Gb=e=>{let t=e.split(":");if(t.length<6)return null;let[r,n,o,s,i,...a]=t;return r!=="arn"||n===""||o===""||a[0]===""?null:{partition:n,service:o,region:s,accountId:i,resourceId:a[0].includes("/")?a[0].split("/"):a}};var Hb=(e,t)=>e===t;var Am=e=>{let t=e.split("."),r=[];for(let n of t){let o=n.indexOf("[");if(o!==-1){if(n.indexOf("]")!==n.length-1)throw new te(`Path: '${e}' does not end with ']'`);let s=n.slice(o+1,-1);if(Number.isNaN(parseInt(s)))throw new te(`Invalid array index: '${s}' in path: '${e}'`);o!==0&&r.push(n.slice(0,o)),r.push(s)}else r.push(n)}return r};var Ua=(e,t)=>Am(t).reduce((r,n)=>{if(typeof r!="object")throw new te(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e);var Vb=e=>e!=null;var Wb=e=>!e;var _m;(function(e){e.HEADER="header",e.QUERY="query"})(_m||(_m={}));var Rm;(function(e){e.AAAA="AAAA",e.A="A"})(Rm||(Rm={}));var dn;(function(e){e.HTTP="http",e.HTTPS="https"})(dn||(dn={}));var Nm;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(Nm||(Nm={}));var $a={[dn.HTTP]:80,[dn.HTTPS]:443},Yb=e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:p,port:E,protocol:b="",path:T="",query:v={}}=e,Fe=new URL(`${b}//${p}${E?`:${E}`:""}${T}`);return Fe.search=Object.entries(v).map(([Er,Ae])=>`${Er}=${Ae}`).join("&"),Fe}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:o,pathname:s,protocol:i,search:a}=t;if(a)return null;let c=i.slice(0,-1);if(!Object.values(dn).includes(c))return null;let d=_s(o),f=r.includes(`${n}:${$a[c]}`)||typeof e=="string"&&e.includes(`${n}:${$a[c]}`),h=`${n}${f?`:${$a[c]}`:""}`;return{scheme:c,authority:h,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:d}};var Qb=(e,t)=>e===t;var Xb=(e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r);var Jb=e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`);var Ns=(e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},o=0;for(;o<e.length;){let s=e.indexOf("{",o);if(s===-1){r.push(e.slice(o));break}r.push(e.slice(o,s));let i=e.indexOf("}",s);if(i===-1){r.push(e.slice(s));break}e[s+1]==="{"&&e[i+1]==="}"&&(r.push(e.slice(s+1,i)),o=i+2);let a=e.substring(s+1,i);if(a.includes("#")){let[c,d]=a.split("#");r.push(Ua(n[c],d))}else r.push(n[a]);o=i+1}return r.join("")};var Tm=({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e];var ar=(e,t,r)=>{if(typeof e=="string")return Ns(e,r);if(e.fn)return Ts(e,r);if(e.ref)return Tm(e,r);throw new te(`'${t}': ${String(e)} is not a string, function or reference.`)};var Ts=({fn:e,argv:t},r)=>{let n=t.map(o=>["boolean","number"].includes(typeof o)?o:ar(o,"arg",r));return e.split(".").reduce((o,s)=>o[s],ja)(...n)};var Im=({assign:e,...t},r)=>{var o,s;if(e&&e in r.referenceRecord)throw new te(`'${e}' is already defined in Reference Record.`);let n=Ts(t,r);return(s=(o=r.logger)==null?void 0:o.debug)==null||s.call(o,_t,`evaluateCondition: ${Ge(t)} = ${Ge(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}};var ln=(e=[],t)=>{var n,o;let r={};for(let s of e){let{result:i,toAssign:a}=Im(s,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!i)return{result:i};a&&(r[a.name]=a.value,(o=(n=t.logger)==null?void 0:n.debug)==null||o.call(n,_t,`assign: ${a.name} := ${Ge(a.value)}`))}return{result:!0,referenceRecord:r}};var Pm=(e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:o.map(s=>{let i=ar(s,"Header value entry",t);if(typeof i!="string")throw new te(`Header '${n}' value '${i}' is not a string`);return i})}),{});var qa=(e,t)=>{if(Array.isArray(e))return e.map(r=>qa(r,t));switch(typeof e){case"string":return Ns(e,t);case"object":if(e===null)throw new te(`Unexpected endpoint property: ${e}`);return Is(e,t);case"boolean":return e;default:throw new te(`Unexpected endpoint property type: ${typeof e}`)}};var Is=(e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:qa(o,t)}),{});var vm=(e,t)=>{let r=ar(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new te(`Endpoint URL must be a string, got ${typeof r}`)};var Om=(e,t)=>{var f,h;let{conditions:r,endpoint:n}=e,{result:o,referenceRecord:s}=ln(r,t);if(!o)return;let i={...t,referenceRecord:{...t.referenceRecord,...s}},{url:a,properties:c,headers:d}=n;return(h=(f=t.logger)==null?void 0:f.debug)==null||h.call(f,_t,`Resolving endpoint from template: ${Ge(n)}`),{...d!=null&&{headers:Pm(d,i)},...c!=null&&{properties:Is(c,i)},url:vm(a,i)}};var Dm=(e,t)=>{let{conditions:r,error:n}=e,{result:o,referenceRecord:s}=ln(r,t);if(o)throw new te(ar(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...s}}))};var Bm=(e,t)=>{let{conditions:r,rules:n}=e,{result:o,referenceRecord:s}=ln(r,t);if(o)return Ps(n,{...t,referenceRecord:{...t.referenceRecord,...s}})};var Ps=(e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=Om(r,t);if(n)return n}else if(r.type==="error")Dm(r,t);else if(r.type==="tree"){let n=Bm(r,t);if(n)return n}else throw new te(`Unknown endpoint rule: ${r}`);throw new te("Rules evaluation failed")};var cr=(e,t)=>{var d,f,h,p,E;let{endpointParams:r,logger:n}=t,{parameters:o,rules:s}=e;(f=(d=t.logger)==null?void 0:d.debug)==null||f.call(d,_t,`Initial EndpointParams: ${Ge(r)}`);let i=Object.entries(o).filter(([,b])=>b.default!=null).map(([b,T])=>[b,T.default]);if(i.length>0)for(let[b,T]of i)r[b]=r[b]??T;let a=Object.entries(o).filter(([,b])=>b.required).map(([b])=>b);for(let b of a)if(r[b]==null)throw new te(`Missing required parameter: '${b}'`);let c=Ps(s,{endpointParams:r,logger:n,referenceRecord:{}});if((h=t.endpointParams)!=null&&h.Endpoint)try{let b=new URL(t.endpointParams.Endpoint),{protocol:T,port:v}=b;c.url.protocol=T,c.url.port=v}catch{}return(E=(p=t.logger)==null?void 0:p.debug)==null||E.call(p,_t,`Resolved endpoint: ${Ge(c)}`),c};var Ka="user-agent",vs="x-amz-user-agent",Ga=" ",Mm=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g;var Zb=e=>(t,r)=>async n=>{var p,E;let{request:o}=n;if(!q.isInstance(o))return t(n);let{headers:s}=o,i=((p=r==null?void 0:r.userAgent)==null?void 0:p.map(Ha))||[],a=(await e.defaultUserAgentProvider()).map(Ha),c=((E=e==null?void 0:e.customUserAgent)==null?void 0:E.map(Ha))||[],d=La(),f=(d?[d]:[]).concat([...a,...i,...c]).join(Ga),h=[...a.filter(b=>b.startsWith("aws-sdk-")),...c].join(Ga);return e.runtime!=="browser"?(h&&(s[vs]=s[vs]?`${s[Ka]} ${h}`:h),s[Ka]=f):s[vs]=f,t({...n,request:o})},Ha=([e,t])=>{let r=e.indexOf("/"),n=e.substring(0,r),o=e.substring(r+1);return n==="api"&&(o=o.toLowerCase()),[n,o,t].filter(s=>s&&s.length>0).map(s=>s==null?void 0:s.replace(Mm,"_")).join("/")},eS={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},dr=e=>({applyToStack:t=>{t.add(Zb(e),eS)}});var Fm=e=>({...e,useFipsEndpoint:e.useFipsEndpoint??!1,useDualstackEndpoint:e.useDualstackEndpoint??!1,useAccelerateEndpoint:e.useAccelerateEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,disableMultiregionAccessPoints:e.disableMultiregionAccessPoints??!1,defaultSigningName:"s3"});var Lm={name:"@aws-sdk/client-s3",description:"AWS SDK for JavaScript S3 Client for Node.js, Browser and React Native",version:"3.309.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo s3",test:"yarn test:unit","test:e2e":"ts-mocha test/**/*.ispec.ts && karma start karma.conf.js","test:unit":"ts-mocha test/**/*.spec.ts"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha1-browser":"3.0.0","@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.309.0","@aws-sdk/config-resolver":"3.306.0","@aws-sdk/credential-provider-node":"3.309.0","@aws-sdk/eventstream-serde-browser":"3.306.0","@aws-sdk/eventstream-serde-config-resolver":"3.306.0","@aws-sdk/eventstream-serde-node":"3.306.0","@aws-sdk/fetch-http-handler":"3.306.0","@aws-sdk/hash-blob-browser":"3.306.0","@aws-sdk/hash-node":"3.306.0","@aws-sdk/hash-stream-node":"3.306.0","@aws-sdk/invalid-dependency":"3.306.0","@aws-sdk/md5-js":"3.306.0","@aws-sdk/middleware-bucket-endpoint":"3.306.0","@aws-sdk/middleware-content-length":"3.306.0","@aws-sdk/middleware-endpoint":"3.306.0","@aws-sdk/middleware-expect-continue":"3.306.0","@aws-sdk/middleware-flexible-checksums":"3.306.0","@aws-sdk/middleware-host-header":"3.306.0","@aws-sdk/middleware-location-constraint":"3.306.0","@aws-sdk/middleware-logger":"3.306.0","@aws-sdk/middleware-recursion-detection":"3.306.0","@aws-sdk/middleware-retry":"3.306.0","@aws-sdk/middleware-sdk-s3":"3.306.0","@aws-sdk/middleware-serde":"3.306.0","@aws-sdk/middleware-signing":"3.306.0","@aws-sdk/middleware-ssec":"3.306.0","@aws-sdk/middleware-stack":"3.306.0","@aws-sdk/middleware-user-agent":"3.306.0","@aws-sdk/node-config-provider":"3.306.0","@aws-sdk/node-http-handler":"3.306.0","@aws-sdk/protocol-http":"3.306.0","@aws-sdk/signature-v4-multi-region":"3.306.0","@aws-sdk/smithy-client":"3.309.0","@aws-sdk/types":"3.306.0","@aws-sdk/url-parser":"3.306.0","@aws-sdk/util-base64":"3.303.0","@aws-sdk/util-body-length-browser":"3.303.0","@aws-sdk/util-body-length-node":"3.303.0","@aws-sdk/util-defaults-mode-browser":"3.309.0","@aws-sdk/util-defaults-mode-node":"3.309.0","@aws-sdk/util-endpoints":"3.306.0","@aws-sdk/util-retry":"3.306.0","@aws-sdk/util-stream-browser":"3.306.0","@aws-sdk/util-stream-node":"3.306.0","@aws-sdk/util-user-agent-browser":"3.306.0","@aws-sdk/util-user-agent-node":"3.306.0","@aws-sdk/util-utf8":"3.303.0","@aws-sdk/util-waiter":"3.306.0","@aws-sdk/xml-builder":"3.303.0","fast-xml-parser":"4.1.2",tslib:"^2.5.0"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.303.0","@tsconfig/node14":"1.0.3","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-s3",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-s3"}};var zm=rt(sa());var ke=class extends qe{constructor(t){super(t),Object.setPrototypeOf(this,ke.prototype)}};var fn=class extends ke{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,fn.prototype)}},mn=class extends ke{constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),this.name="MalformedPolicyDocumentException",this.$fault="client",Object.setPrototypeOf(this,mn.prototype)}},un=class extends ke{constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),this.name="PackedPolicyTooLargeException",this.$fault="client",Object.setPrototypeOf(this,un.prototype)}},hn=class extends ke{constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),this.name="RegionDisabledException",this.$fault="client",Object.setPrototypeOf(this,hn.prototype)}},pn=class extends ke{constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),this.name="IDPRejectedClaimException",this.$fault="client",Object.setPrototypeOf(this,pn.prototype)}},yn=class extends ke{constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),this.name="InvalidIdentityTokenException",this.$fault="client",Object.setPrototypeOf(this,yn.prototype)}},gn=class extends ke{constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),this.name="IDPCommunicationErrorException",this.$fault="client",Object.setPrototypeOf(this,gn.prototype)}};var Um=async(e,t)=>{let r={"content-type":"application/x-www-form-urlencoded"},n;return n=Zm({...aS(e,t),Action:"AssumeRole",Version:"2011-06-15"}),Xm(t,r,"/",void 0,n)};var $m=async(e,t)=>{let r={"content-type":"application/x-www-form-urlencoded"},n;return n=Zm({...cS(e,t),Action:"AssumeRoleWithWebIdentity",Version:"2011-06-15"}),Xm(t,r,"/",void 0,n)};var jm=async(e,t)=>{if(e.statusCode>=300)return rS(e,t);let r=await Va(e.body,t),n={};n=uS(r.AssumeRoleResult,t);let o={$metadata:Rt(e),...n};return Promise.resolve(o)},rS=async(e,t)=>{let r={...e,body:await Jm(e.body,t)},n=eu(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await Km(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await Gm(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await Hm(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await Vm(r,t);default:let o=r.body;it({output:e,parsedBody:o.Error,exceptionCtor:ke,errorCode:n})}};var qm=async(e,t)=>{if(e.statusCode>=300)return nS(e,t);let r=await Va(e.body,t),n={};n=hS(r.AssumeRoleWithWebIdentityResult,t);let o={$metadata:Rt(e),...n};return Promise.resolve(o)},nS=async(e,t)=>{let r={...e,body:await Jm(e.body,t)},n=eu(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await Km(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await oS(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await sS(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await iS(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await Gm(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await Hm(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await Vm(r,t);default:let o=r.body;it({output:e,parsedBody:o.Error,exceptionCtor:ke,errorCode:n})}};var Km=async(e,t)=>{let r=e.body,n=pS(r.Error,t),o=new fn({$metadata:Rt(e),...n});return W(o,r)},oS=async(e,t)=>{let r=e.body,n=yS(r.Error,t),o=new gn({$metadata:Rt(e),...n});return W(o,r)},sS=async(e,t)=>{let r=e.body,n=gS(r.Error,t),o=new pn({$metadata:Rt(e),...n});return W(o,r)};var iS=async(e,t)=>{let r=e.body,n=CS(r.Error,t),o=new yn({$metadata:Rt(e),...n});return W(o,r)},Gm=async(e,t)=>{let r=e.body,n=xS(r.Error,t),o=new mn({$metadata:Rt(e),...n});return W(o,r)},Hm=async(e,t)=>{let r=e.body,n=wS(r.Error,t),o=new un({$metadata:Rt(e),...n});return W(o,r)},Vm=async(e,t)=>{let r=e.body,n=ES(r.Error,t),o=new hn({$metadata:Rt(e),...n});return W(o,r)},aS=(e,t)=>{var n,o,s;let r={};if(e.RoleArn!=null&&(r.RoleArn=e.RoleArn),e.RoleSessionName!=null&&(r.RoleSessionName=e.RoleSessionName),e.PolicyArns!=null){let i=Wm(e.PolicyArns,t);((n=e.PolicyArns)==null?void 0:n.length)===0&&(r.PolicyArns=[]),Object.entries(i).forEach(([a,c])=>{let d=`PolicyArns.${a}`;r[d]=c})}if(e.Policy!=null&&(r.Policy=e.Policy),e.DurationSeconds!=null&&(r.DurationSeconds=e.DurationSeconds),e.Tags!=null){let i=mS(e.Tags,t);((o=e.Tags)==null?void 0:o.length)===0&&(r.Tags=[]),Object.entries(i).forEach(([a,c])=>{let d=`Tags.${a}`;r[d]=c})}if(e.TransitiveTagKeys!=null){let i=fS(e.TransitiveTagKeys,t);((s=e.TransitiveTagKeys)==null?void 0:s.length)===0&&(r.TransitiveTagKeys=[]),Object.entries(i).forEach(([a,c])=>{let d=`TransitiveTagKeys.${a}`;r[d]=c})}return e.ExternalId!=null&&(r.ExternalId=e.ExternalId),e.SerialNumber!=null&&(r.SerialNumber=e.SerialNumber),e.TokenCode!=null&&(r.TokenCode=e.TokenCode),e.SourceIdentity!=null&&(r.SourceIdentity=e.SourceIdentity),r};var cS=(e,t)=>{var n;let r={};if(e.RoleArn!=null&&(r.RoleArn=e.RoleArn),e.RoleSessionName!=null&&(r.RoleSessionName=e.RoleSessionName),e.WebIdentityToken!=null&&(r.WebIdentityToken=e.WebIdentityToken),e.ProviderId!=null&&(r.ProviderId=e.ProviderId),e.PolicyArns!=null){let o=Wm(e.PolicyArns,t);((n=e.PolicyArns)==null?void 0:n.length)===0&&(r.PolicyArns=[]),Object.entries(o).forEach(([s,i])=>{let a=`PolicyArns.${s}`;r[a]=i})}return e.Policy!=null&&(r.Policy=e.Policy),e.DurationSeconds!=null&&(r.DurationSeconds=e.DurationSeconds),r};var Wm=(e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let s=dS(o,t);Object.entries(s).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},dS=(e,t)=>{let r={};return e.arn!=null&&(r.arn=e.arn),r},lS=(e,t)=>{let r={};return e.Key!=null&&(r.Key=e.Key),e.Value!=null&&(r.Value=e.Value),r},fS=(e,t)=>{let r={},n=1;for(let o of e)o!==null&&(r[`member.${n}`]=o,n++);return r},mS=(e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let s=lS(o,t);Object.entries(s).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},Ym=(e,t)=>{let r={};return e.AssumedRoleId!==void 0&&(r.AssumedRoleId=N(e.AssumedRoleId)),e.Arn!==void 0&&(r.Arn=N(e.Arn)),r},uS=(e,t)=>{let r={};return e.Credentials!==void 0&&(r.Credentials=Qm(e.Credentials,t)),e.AssumedRoleUser!==void 0&&(r.AssumedRoleUser=Ym(e.AssumedRoleUser,t)),e.PackedPolicySize!==void 0&&(r.PackedPolicySize=bt(e.PackedPolicySize)),e.SourceIdentity!==void 0&&(r.SourceIdentity=N(e.SourceIdentity)),r};var hS=(e,t)=>{let r={};return e.Credentials!==void 0&&(r.Credentials=Qm(e.Credentials,t)),e.SubjectFromWebIdentityToken!==void 0&&(r.SubjectFromWebIdentityToken=N(e.SubjectFromWebIdentityToken)),e.AssumedRoleUser!==void 0&&(r.AssumedRoleUser=Ym(e.AssumedRoleUser,t)),e.PackedPolicySize!==void 0&&(r.PackedPolicySize=bt(e.PackedPolicySize)),e.Provider!==void 0&&(r.Provider=N(e.Provider)),e.Audience!==void 0&&(r.Audience=N(e.Audience)),e.SourceIdentity!==void 0&&(r.SourceIdentity=N(e.SourceIdentity)),r},Qm=(e,t)=>{let r={};return e.AccessKeyId!==void 0&&(r.AccessKeyId=N(e.AccessKeyId)),e.SecretAccessKey!==void 0&&(r.SecretAccessKey=N(e.SecretAccessKey)),e.SessionToken!==void 0&&(r.SessionToken=N(e.SessionToken)),e.Expiration!==void 0&&(r.Expiration=Ie(Yn(e.Expiration))),r};var pS=(e,t)=>{let r={};return e.message!==void 0&&(r.message=N(e.message)),r};var yS=(e,t)=>{let r={};return e.message!==void 0&&(r.message=N(e.message)),r},gS=(e,t)=>{let r={};return e.message!==void 0&&(r.message=N(e.message)),r};var CS=(e,t)=>{let r={};return e.message!==void 0&&(r.message=N(e.message)),r},xS=(e,t)=>{let r={};return e.message!==void 0&&(r.message=N(e.message)),r},wS=(e,t)=>{let r={};return e.message!==void 0&&(r.message=N(e.message)),r},ES=(e,t)=>{let r={};return e.message!==void 0&&(r.message=N(e.message)),r},Rt=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),bS=(e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),SS=(e,t)=>bS(e,t).then(r=>t.utf8Encoder(r)),Xm=async(e,t,r,n,o)=>{let{hostname:s,protocol:i="https",port:a,path:c}=await e.endpoint(),d={protocol:i,hostname:s,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(d.hostname=n),o!==void 0&&(d.body=o),new q(d)},Va=(e,t)=>SS(e,t).then(r=>{if(r.length){let n=new zm.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,d)=>d.trim()===""&&d.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let o=n.parse(r),s="#text",i=Object.keys(o)[0],a=o[i];return a[s]&&(a[i]=a[s],delete a[s]),Qn(a)}return{}}),Jm=async(e,t)=>{let r=await Va(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},Zm=e=>Object.entries(e).map(([t,r])=>Xr(t)+"="+Xr(r)).join("&"),eu=(e,t)=>{var r;if(((r=t.Error)==null?void 0:r.Code)!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"};var Cn=class extends Te{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use($e(r,this.serialize,this.deserialize)),this.middlewareStack.use(je(r,Cn.getEndpointParameterInstructions())),this.middlewareStack.use(As(r));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"STSClient",commandName:"AssumeRoleCommand",inputFilterSensitiveLog:f=>f,outputFilterSensitiveLog:f=>f},{requestHandler:d}=r;return o.resolve(f=>d.handle(f.request,n||{}),c)}serialize(t,r){return Um(t,r)}deserialize(t,r){return jm(t,r)}};var xn=class extends Te{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use($e(r,this.serialize,this.deserialize)),this.middlewareStack.use(je(r,xn.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"STSClient",commandName:"AssumeRoleWithWebIdentityCommand",inputFilterSensitiveLog:f=>f,outputFilterSensitiveLog:f=>f},{requestHandler:d}=r;return o.resolve(f=>d.handle(f.request,n||{}),c)}serialize(t,r){return $m(t,r)}deserialize(t,r){return qm(t,r)}};var tu=(e,{stsClientCtor:t})=>Ss({...e,stsClientCtor:t});var ru=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"});var nu={name:"@aws-sdk/client-sts",description:"AWS SDK for JavaScript Sts Client for Node.js, Browser and React Native",version:"3.309.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sts",test:"yarn test:unit","test:unit":"jest"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/config-resolver":"3.306.0","@aws-sdk/credential-provider-node":"3.309.0","@aws-sdk/fetch-http-handler":"3.306.0","@aws-sdk/hash-node":"3.306.0","@aws-sdk/invalid-dependency":"3.306.0","@aws-sdk/middleware-content-length":"3.306.0","@aws-sdk/middleware-endpoint":"3.306.0","@aws-sdk/middleware-host-header":"3.306.0","@aws-sdk/middleware-logger":"3.306.0","@aws-sdk/middleware-recursion-detection":"3.306.0","@aws-sdk/middleware-retry":"3.306.0","@aws-sdk/middleware-sdk-sts":"3.306.0","@aws-sdk/middleware-serde":"3.306.0","@aws-sdk/middleware-signing":"3.306.0","@aws-sdk/middleware-stack":"3.306.0","@aws-sdk/middleware-user-agent":"3.306.0","@aws-sdk/node-config-provider":"3.306.0","@aws-sdk/node-http-handler":"3.306.0","@aws-sdk/protocol-http":"3.306.0","@aws-sdk/smithy-client":"3.309.0","@aws-sdk/types":"3.306.0","@aws-sdk/url-parser":"3.306.0","@aws-sdk/util-base64":"3.303.0","@aws-sdk/util-body-length-browser":"3.303.0","@aws-sdk/util-body-length-node":"3.303.0","@aws-sdk/util-defaults-mode-browser":"3.309.0","@aws-sdk/util-defaults-mode-node":"3.309.0","@aws-sdk/util-endpoints":"3.306.0","@aws-sdk/util-retry":"3.306.0","@aws-sdk/util-user-agent-browser":"3.306.0","@aws-sdk/util-user-agent-node":"3.306.0","@aws-sdk/util-utf8":"3.303.0","fast-xml-parser":"4.1.2",tslib:"^2.5.0"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.303.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sts",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sts"}};var ou="us-east-1",su=e=>typeof e!="function"?e===void 0?ou:e:async()=>{try{return await e()}catch{return ou}},Wa=(e,t)=>{let r,n;return async(o,s)=>{if(n=o,!r){let{logger:a,region:c,requestHandler:d}=e;r=new t({logger:a,credentialDefaultProvider:()=>async()=>n,region:su(c||e.region),...d?{requestHandler:d}:{}})}let{Credentials:i}=await r.send(new Cn(s));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${s.RoleArn}`);return{accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration}}},Ya=(e,t)=>{let r;return async n=>{if(!r){let{logger:s,region:i,requestHandler:a}=e;r=new t({logger:s,region:su(i||e.region),...a?{requestHandler:a}:{}})}let{Credentials:o}=await r.send(new xn(n));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);return{accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration}}},iu=e=>t=>e({roleAssumer:Wa(t,t.stsClientCtor),roleAssumerWithWebIdentity:Ya(t,t.stsClientCtor),...t});var AS="AWS_ACCESS_KEY_ID",_S="AWS_SECRET_ACCESS_KEY",RS="AWS_SESSION_TOKEN",NS="AWS_CREDENTIAL_EXPIRATION",Os=()=>async()=>{let e=process.env[AS],t=process.env[_S],r=process.env[RS],n=process.env[NS];if(e&&t)return{accessKeyId:e,secretAccessKey:t,...r&&{sessionToken:r},...n&&{expiration:new Date(n)}};throw new D("Unable to find environment variable credentials.")};var au=require("os"),cu=require("path"),wn=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${cu.sep}`}=process.env;return e||t||(r?`${n}${r}`:(0,au.homedir)())};var Qa="AWS_PROFILE",TS="default",He=e=>e.profile||process.env[Qa]||TS;var du=require("crypto"),lu=require("path");var Ds=e=>{let r=(0,du.createHash)("sha1").update(e).digest("hex");return(0,lu.join)(wn(),".aws","sso","cache",`${r}.json`)};var fu=require("fs");var{readFile:IS}=fu.promises,Bs=async e=>{let t=Ds(e),r=await IS(t,"utf8");return JSON.parse(r)};var mu=require("path");var PS="AWS_CONFIG_FILE",Ms=()=>process.env[PS]||(0,mu.join)(wn(),".aws","config");var uu=require("path");var vS="AWS_SHARED_CREDENTIALS_FILE",hu=()=>process.env[vS]||(0,uu.join)(wn(),".aws","credentials");var pu=/^profile\s(["'])?([^\1]+)\1$/,yu=e=>Object.entries(e).filter(([t])=>pu.test(t)).reduce((t,[r,n])=>({...t,[pu.exec(r)[2]]:n}),{...e.default&&{default:e.default}});var OS=["__proto__","profile __proto__"],co=e=>{let t={},r;for(let n of e.split(/\r?\n/))if(n=n.split(/(^|\s)[;#]/)[0].trim(),n[0]==="["&&n[n.length-1]==="]"){if(r=n.substring(1,n.length-1),OS.includes(r))throw new Error(`Found invalid profile name "${r}"`)}else if(r){let s=n.indexOf("="),i=0,a=n.length-1;if(s!==-1&&s!==i&&s!==a){let[d,f]=[n.substring(0,s).trim(),n.substring(s+1).trim()];t[r]=t[r]||{},t[r][d]=f}}return t};var gu=require("fs"),{readFile:DS}=gu.promises,Xa={},lo=(e,t)=>((!Xa[e]||t!=null&&t.ignoreCache)&&(Xa[e]=DS(e,"utf8")),Xa[e]);var Cu=()=>({}),Fs=async(e={})=>{let{filepath:t=hu(),configFilepath:r=Ms()}=e,n=await Promise.all([lo(r,{ignoreCache:e.ignoreCache}).then(co).then(yu).catch(Cu),lo(t,{ignoreCache:e.ignoreCache}).then(co).catch(Cu)]);return{configFile:n[0],credentialsFile:n[1]}};var xu=/^sso-session\s(["'])?([^\1]+)\1$/,wu=e=>Object.entries(e).filter(([t])=>xu.test(t)).reduce((t,[r,n])=>({...t,[xu.exec(r)[2]]:n}),{});var BS=()=>({}),Ls=async(e={})=>lo(e.configFilepath??Ms()).then(co).then(wu).catch(BS);var Eu=(...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t};var lr=async e=>{let t=await Fs(e);return Eu(t.configFile,t.credentialsFile)};var Au=require("url");var bu=require("buffer"),Su=require("http");function Nt(e){return new Promise((t,r)=>{var o;let n=(0,Su.request)({method:"GET",...e,hostname:(o=e.hostname)==null?void 0:o.replace(/^\[(.+)\]$/,"$1")});n.on("error",s=>{r(Object.assign(new Oe("Unable to connect to instance metadata service"),s)),n.destroy()}),n.on("timeout",()=>{r(new Oe("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",s=>{let{statusCode:i=400}=s;(i<200||300<=i)&&(r(Object.assign(new Oe("Error response received from instance metadata service"),{statusCode:i})),n.destroy());let a=[];s.on("data",c=>{a.push(c)}),s.on("end",()=>{t(bu.Buffer.concat(a)),n.destroy()})}),n.end()})}var zs=e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string",Us=e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration)});var $s=({maxRetries:e=0,timeout:t=1e3})=>({maxRetries:e,timeout:t});var fo=(e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r};var mo="AWS_CONTAINER_CREDENTIALS_FULL_URI",uo="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",ku="AWS_CONTAINER_AUTHORIZATION_TOKEN",js=(e={})=>{let{timeout:t,maxRetries:r}=$s(e);return()=>fo(async()=>{let n=await US(),o=JSON.parse(await MS(t,n));if(!zs(o))throw new D("Invalid response received from instance metadata service.");return Us(o)},r)},MS=async(e,t)=>(process.env[ku]&&(t.headers={...t.headers,Authorization:process.env[ku]}),(await Nt({...t,timeout:e})).toString()),FS="169.254.170.2",LS={localhost:!0,"127.0.0.1":!0},zS={"http:":!0,"https:":!0},US=async()=>{if(process.env[uo])return{hostname:FS,path:process.env[uo]};if(process.env[mo]){let e=(0,Au.parse)(process.env[mo]);if(!e.hostname||!(e.hostname in LS))throw new D(`${e.hostname} is not a valid container metadata service hostname`,!1);if(!e.protocol||!(e.protocol in zS))throw new D(`${e.protocol} is not a valid container metadata service protocol`,!1);return{...e,port:e.port?parseInt(e.port,10):void 0}}throw new D(`The container metadata credential provider cannot be used unless the ${uo} or ${mo} environment variable is set`,!1)};var _u=e=>async()=>{try{let t=e(process.env);if(t===void 0)throw new Error;return t}catch(t){throw new D(t.message||`Cannot load config from environment variables with getter: ${e}`)}};var Ru=(e,{preferredFile:t="config",...r}={})=>async()=>{let n=He(r),{configFile:o,credentialsFile:s}=await Fs(r),i=s[n]||{},a=o[n]||{},c=t==="config"?{...i,...a}:{...a,...i};try{let d=e(c);if(d===void 0)throw new Error;return d}catch(d){throw new D(d.message||`Cannot load config for profile ${n} in SDK configuration files with getter: ${e}`)}};var $S=e=>typeof e=="function",Nu=e=>$S(e)?async()=>await e():Xf(e);var H=({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>sr(ps(_u(e),Ru(t,n),Nu(r)));var ho;(function(e){e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]"})(ho||(ho={}));var jS="AWS_EC2_METADATA_SERVICE_ENDPOINT",qS="ec2_metadata_service_endpoint",Tu={environmentVariableSelector:e=>e[jS],configFileSelector:e=>e[qS],default:void 0};var fr;(function(e){e.IPv4="IPv4",e.IPv6="IPv6"})(fr||(fr={}));var KS="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",GS="ec2_metadata_service_endpoint_mode",Iu={environmentVariableSelector:e=>e[KS],configFileSelector:e=>e[GS],default:fr.IPv4};var po=async()=>Ne(await HS()||await VS()),HS=async()=>H(Tu)(),VS=async()=>{let e=await H(Iu)();switch(e){case fr.IPv4:return ho.IPv4;case fr.IPv6:return ho.IPv6;default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(fr)}`)}};var WS="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",Ja=(e,t)=>{let r=300+Math.floor(Math.random()*300),n=new Date(Date.now()+r*1e3);t.warn("Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(newExpiration)}.\nFor more information, please visit: "+WS);let o=e.originalExpiration??e.expiration;return{...e,...o?{originalExpiration:o}:{},expiration:n}};var Pu=(e,t={})=>{let r=(t==null?void 0:t.logger)||console,n;return async()=>{let o;try{o=await e(),o.expiration&&o.expiration.getTime()<Date.now()&&(o=Ja(o,r))}catch(s){if(n)r.warn("Credential renew failed: ",s),o=Ja(n,r);else throw s}return n=o,o}};var vu="/latest/meta-data/iam/security-credentials/",YS="/latest/api/token",qs=(e={})=>Pu(QS(e),{logger:e.logger}),QS=e=>{let t=!1,{timeout:r,maxRetries:n}=$s(e),o=async(s,i)=>{let a=(await fo(async()=>{let c;try{c=await JS(i)}catch(d){throw d.statusCode===401&&(t=!1),d}return c},s)).trim();return fo(async()=>{let c;try{c=await ZS(a,i)}catch(d){throw d.statusCode===401&&(t=!1),d}return c},s)};return async()=>{let s=await po();if(t)return o(n,{...s,timeout:r});{let i;try{i=(await XS({...s,timeout:r})).toString()}catch(a){if((a==null?void 0:a.statusCode)===400)throw Object.assign(a,{message:"EC2 Metadata token request returned error"});return(a.message==="TimeoutError"||[403,404,405].includes(a.statusCode))&&(t=!0),o(n,{...s,timeout:r})}return o(n,{...s,headers:{"x-aws-ec2-metadata-token":i},timeout:r})}}},XS=async e=>Nt({...e,path:YS,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),JS=async e=>(await Nt({...e,path:vu})).toString(),ZS=async(e,t)=>{let r=JSON.parse((await Nt({...t,path:vu+e})).toString());if(!zs(r))throw new D("Invalid response received from instance metadata service.");return Us(r)};var Ou=(e,t)=>{let r={EcsContainer:js,Ec2InstanceMetadata:qs,Environment:Os};if(e in r)return r[e]();throw new D(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`)};var Du=e=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(e0(e)||t0(e)),e0=e=>typeof e.source_profile=="string"&&typeof e.credential_source>"u",t0=e=>typeof e.credential_source=="string"&&typeof e.source_profile>"u",Bu=async(e,t,r,n={})=>{let o=t[e];if(!r.roleAssumer)throw new D(`Profile ${e} requires a role to be assumed, but no role assumption callback was provided.`,!1);let{source_profile:s}=o;if(s&&s in n)throw new D(`Detected a cycle attempting to resolve credentials for profile ${He(r)}. Profiles visited: `+Object.keys(n).join(", "),!1);let i=s?Ks(s,t,r,{...n,[s]:!0}):Ou(o.credential_source,e)(),a={RoleArn:o.role_arn,RoleSessionName:o.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:o.external_id},{mfa_serial:c}=o;if(c){if(!r.mfaCodeProvider)throw new D(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,!1);a.SerialNumber=c,a.TokenCode=await r.mfaCodeProvider(c)}let d=await i;return r.roleAssumer(d,a)};var Fu=require("child_process"),Lu=require("util");var Mu=(e,t)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let r=new Date;if(new Date(t.Expiration)<r)throw Error(`Profile ${e} credential_process returned expired credentials.`)}return{accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)}}};var zu=async(e,t)=>{let r=t[e];if(t[e]){let n=r.credential_process;if(n!==void 0){let o=(0,Lu.promisify)(Fu.exec);try{let{stdout:s}=await o(n),i;try{i=JSON.parse(s.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return Mu(e,i)}catch(s){throw new D(s.message)}}else throw new D(`Profile ${e} did not contain credential_process.`)}else throw new D(`Profile ${e} could not be found in shared credentials file.`)};var Gs=(e={})=>async()=>{let t=await lr(e);return zu(He(e),t)};var Uu=e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string",$u=async(e,t)=>Gs({...e,profile:t})();var yo=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string");var et=class extends qe{constructor(t){super(t),Object.setPrototypeOf(this,et.prototype)}};var En=class extends et{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,En.prototype)}},bn=class extends et{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,bn.prototype)}},Sn=class extends et{constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,Sn.prototype)}},kn=class extends et{constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),this.name="UnauthorizedException",this.$fault="client",Object.setPrototypeOf(this,kn.prototype)}},ju=e=>({...e,...e.accessToken&&{accessToken:kr}}),r0=e=>({...e,...e.secretAccessKey&&{secretAccessKey:kr},...e.sessionToken&&{sessionToken:kr}}),qu=e=>({...e,...e.roleCredentials&&{roleCredentials:r0(e.roleCredentials)}});var Ku=async(e,t)=>{let{hostname:r,protocol:n="https",port:o,path:s}=await t.endpoint(),i=Tr({},f0,{"x-amz-sso_bearer_token":e.accessToken}),a=`${s!=null&&s.endsWith("/")?s.slice(0,-1):s||""}/federation/credentials`,c=Tr({role_name:[,Ie(e.roleName,"roleName")],account_id:[,Ie(e.accountId,"accountId")]}),d;return new q({protocol:n,hostname:r,port:o,method:"GET",headers:i,path:a,query:c,body:d})};var Gu=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return n0(e,t);let r=Tr({$metadata:go(e)}),n=Ie(Qr(await Hu(e.body,t)),"body");return n.roleCredentials!=null&&(r.roleCredentials=c0(n.roleCredentials,t)),r},n0=async(e,t)=>{let r={...e,body:await m0(e.body,t)},n=u0(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await o0(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await s0(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await i0(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await a0(r,t);default:let o=r.body;it({output:e,parsedBody:o,exceptionCtor:et,errorCode:n})}};var Tr=Ar,o0=async(e,t)=>{let r=Tr({}),n=e.body;n.message!=null&&(r.message=N(n.message));let o=new En({$metadata:go(e),...r});return W(o,e.body)},s0=async(e,t)=>{let r=Tr({}),n=e.body;n.message!=null&&(r.message=N(n.message));let o=new bn({$metadata:go(e),...r});return W(o,e.body)},i0=async(e,t)=>{let r=Tr({}),n=e.body;n.message!=null&&(r.message=N(n.message));let o=new Sn({$metadata:go(e),...r});return W(o,e.body)},a0=async(e,t)=>{let r=Tr({}),n=e.body;n.message!=null&&(r.message=N(n.message));let o=new kn({$metadata:go(e),...r});return W(o,e.body)};var c0=(e,t)=>({accessKeyId:N(e.accessKeyId),expiration:Yr(e.expiration),secretAccessKey:N(e.secretAccessKey),sessionToken:N(e.sessionToken)});var go=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),d0=(e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),l0=(e,t)=>d0(e,t).then(r=>t.utf8Encoder(r)),f0=e=>e!=null&&e!==""&&(!Object.getOwnPropertyNames(e).includes("length")||e.length!=0)&&(!Object.getOwnPropertyNames(e).includes("size")||e.size!=0),Hu=(e,t)=>l0(e,t).then(r=>r.length?JSON.parse(r):{}),m0=async(e,t)=>{let r=await Hu(e,t);return r.message=r.message??r.Message,r},u0=(e,t)=>{let r=(s,i)=>Object.keys(s).find(a=>a.toLowerCase()===i.toLowerCase()),n=s=>{let i=s;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},o=r(e.headers,"x-amzn-errortype");if(o!==void 0)return n(e.headers[o]);if(t.code!==void 0)return n(t.code);if(t.__type!==void 0)return n(t.__type)};var An=class extends Te{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use($e(r,this.serialize,this.deserialize)),this.middlewareStack.use(je(r,An.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"SSOClient",commandName:"GetRoleCredentialsCommand",inputFilterSensitiveLog:ju,outputFilterSensitiveLog:qu},{requestHandler:d}=r;return o.resolve(f=>d.handle(f.request,n||{}),c)}serialize(t,r){return Ku(t,r)}deserialize(t,r){return Gu(t,r)}};var Vu=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"});var Wu={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.309.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/config-resolver":"3.306.0","@aws-sdk/fetch-http-handler":"3.306.0","@aws-sdk/hash-node":"3.306.0","@aws-sdk/invalid-dependency":"3.306.0","@aws-sdk/middleware-content-length":"3.306.0","@aws-sdk/middleware-endpoint":"3.306.0","@aws-sdk/middleware-host-header":"3.306.0","@aws-sdk/middleware-logger":"3.306.0","@aws-sdk/middleware-recursion-detection":"3.306.0","@aws-sdk/middleware-retry":"3.306.0","@aws-sdk/middleware-serde":"3.306.0","@aws-sdk/middleware-stack":"3.306.0","@aws-sdk/middleware-user-agent":"3.306.0","@aws-sdk/node-config-provider":"3.306.0","@aws-sdk/node-http-handler":"3.306.0","@aws-sdk/protocol-http":"3.306.0","@aws-sdk/smithy-client":"3.309.0","@aws-sdk/types":"3.306.0","@aws-sdk/url-parser":"3.306.0","@aws-sdk/util-base64":"3.303.0","@aws-sdk/util-body-length-browser":"3.303.0","@aws-sdk/util-body-length-node":"3.303.0","@aws-sdk/util-defaults-mode-browser":"3.309.0","@aws-sdk/util-defaults-mode-node":"3.309.0","@aws-sdk/util-endpoints":"3.306.0","@aws-sdk/util-retry":"3.306.0","@aws-sdk/util-user-agent-browser":"3.306.0","@aws-sdk/util-user-agent-node":"3.306.0","@aws-sdk/util-utf8":"3.303.0",tslib:"^2.5.0"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.303.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}};var Qu=require("buffer"),Hs=require("crypto"),Ve=class{constructor(t,r){this.algorithmIdentifier=t,this.secret=r,this.reset()}update(t,r){this.hash.update(ve(Yu(t,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,Hs.createHmac)(this.algorithmIdentifier,Yu(this.secret)):(0,Hs.createHash)(this.algorithmIdentifier)}};function Yu(e,t){return Qu.Buffer.isBuffer(e)?e:typeof e=="string"?rn(e,t):ArrayBuffer.isView(e)?At(e.buffer,e.byteOffset,e.byteLength):At(e)}function Za(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=ut(r),Array.isArray(n))for(let o=0,s=n.length;o<s;o++)t.push(`${r}=${ut(n[o])}`);else{let o=r;(n||typeof n=="string")&&(o+=`=${ut(n)}`),t.push(o)}}return t.join("&")}var Vs=require("http"),Ws=require("https");var Xu=["ECONNRESET","EPIPE","ETIMEDOUT"];var ec=e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t};var Zu=require("stream");function tc(e,t){(t.headers.Expect||t.headers.expect)==="100-continue"?e.on("continue",()=>{Ju(e,t.body)}):Ju(e,t.body)}function Ju(e,t){t instanceof Zu.Readable?t.pipe(e):t?e.end(Buffer.from(t)):e.end()}var eh=0,ht=class{constructor(t){this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(this.resolveDefaultConfig(o))}).catch(n):r(this.resolveDefaultConfig(t))})}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:o,httpAgent:s,httpsAgent:i}=t||{},a=!0,c=50;return{connectionTimeout:n,socketTimeout:o,requestTimeout:r??n??o??eh,httpAgent:s||new Vs.Agent({keepAlive:a,maxSockets:c}),httpsAgent:i||new Ws.Agent({keepAlive:a,maxSockets:c})}}destroy(){var t,r,n,o;(r=(t=this.config)==null?void 0:t.httpAgent)==null||r.destroy(),(o=(n=this.config)==null?void 0:n.httpsAgent)==null||o.destroy()}async handle(t,{abortSignal:r}={}){return this.config||(this.config=await this.configProvider),new Promise((n,o)=>{var h;if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(r!=null&&r.aborted){let p=new Error("Request aborted");p.name="AbortError",o(p);return}let s=t.protocol==="https:",i=Za(t.query||{}),a={headers:t.headers,host:t.hostname,method:t.method,path:i?`${t.path}?${i}`:t.path,port:t.port,agent:s?this.config.httpsAgent:this.config.httpAgent},d=(s?Ws.request:Vs.request)(a,p=>{let E=new Je({statusCode:p.statusCode||-1,headers:ec(p.headers),body:p});n({response:E})});d.on("error",p=>{Xu.includes(p.code)?o(Object.assign(p,{name:"TimeoutError"})):o(p)});let f=((h=this.config)==null?void 0:h.requestTimeout)??eh;d.setTimeout(f,()=>{d.destroy(),o(Object.assign(new Error(`Connection timed out after ${f} ms`),{name:"TimeoutError"}))}),r&&(r.onabort=()=>{d.abort();let p=new Error("Request aborted");p.name="AbortError",o(p)}),tc(d,t)})}};var rc=class{constructor(t){this.sessions=[],this.sessions=t??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(t){this.sessions.push(t)}contains(t){return this.sessions.includes(t)}remove(t){this.sessions=this.sessions.filter(r=>r!==t)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(t){for(let r of this.sessions)r===t&&(r.destroyed||r.destroy())}};var th=require("stream"),Ys=class extends th.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}_write(t,r,n){this.bufferedBytes.push(t),n()}};var pt=e=>new Promise((t,r)=>{let n=new Ys;e.pipe(n),e.on("error",o=>{n.end(),r(o)}),n.on("error",r),n.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.bufferedBytes));t(o)})});var Qs=require("fs"),mr=e=>{if(!e)return 0;if(typeof e=="string")return Buffer.from(e).length;if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.path=="string"||Buffer.isBuffer(e.path))return(0,Qs.lstatSync)(e.path).size;if(typeof e.fd=="number")return(0,Qs.fstatSync)(e.fd).size;throw new Error(`Body Length computation failed for ${e}`)};var Xs=require("os"),Co=require("process");var rh=()=>{try{return typeof require=="function"&&typeof module<"u"&&require("aws-crt")?["md/crt-avail"]:null}catch{return null}};var p0="AWS_SDK_UA_APP_ID",y0="sdk-ua-app-id",ur=({serviceId:e,clientVersion:t})=>{let r=[["aws-sdk-js",t],[`os/${(0,Xs.platform)()}`,(0,Xs.release)()],["lang/js"],["md/nodejs",`${Co.versions.node}`]],n=rh();n&&r.push(n),e&&r.push([`api/${e}`,t]),Co.env.AWS_EXECUTION_ENV&&r.push([`exec-env/${Co.env.AWS_EXECUTION_ENV}`]);let o=H({environmentVariableSelector:i=>i[p0],configFileSelector:i=>i[y0],default:void 0})(),s;return async()=>{if(!s){let i=await o;s=i?[...r,[`app/${i}`]]:[...r]}return s}};var g0=/^[A-Za-z0-9+/]*={0,2}$/,hr=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!g0.exec(e))throw new TypeError("Invalid base64 string.");let t=rn(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};var pr=e=>At(e.buffer,e.byteOffset,e.byteLength).toString("base64");var lh="required",Tt="fn",It="argv",_n="ref",nc="PartitionResult",yt="tree",xo="error",wo="endpoint",nh={[lh]:!1,type:"String"},oh={[lh]:!0,default:!1,type:"Boolean"},fh={[_n]:"Endpoint"},mh={[Tt]:"booleanEquals",[It]:[{[_n]:"UseFIPS"},!0]},uh={[Tt]:"booleanEquals",[It]:[{[_n]:"UseDualStack"},!0]},gt={},sh={[Tt]:"booleanEquals",[It]:[!0,{[Tt]:"getAttr",[It]:[{[_n]:nc},"supportsFIPS"]}]},ih={[Tt]:"booleanEquals",[It]:[!0,{[Tt]:"getAttr",[It]:[{[_n]:nc},"supportsDualStack"]}]},ah=[fh],ch=[mh],dh=[uh],C0={version:"1.0",parameters:{Region:nh,UseDualStack:oh,UseFIPS:oh,Endpoint:nh},rules:[{conditions:[{[Tt]:"aws.partition",[It]:[{[_n]:"Region"}],assign:nc}],type:yt,rules:[{conditions:[{[Tt]:"isSet",[It]:ah},{[Tt]:"parseURL",[It]:ah,assign:"url"}],type:yt,rules:[{conditions:ch,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:xo},{type:yt,rules:[{conditions:dh,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:xo},{endpoint:{url:fh,properties:gt,headers:gt},type:wo}]}]},{conditions:[mh,uh],type:yt,rules:[{conditions:[sh,ih],type:yt,rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:gt,headers:gt},type:wo}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:xo}]},{conditions:ch,type:yt,rules:[{conditions:[sh],type:yt,rules:[{type:yt,rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:gt,headers:gt},type:wo}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:xo}]},{conditions:dh,type:yt,rules:[{conditions:[ih],type:yt,rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:gt,headers:gt},type:wo}]},{error:"DualStack is enabled but this partition does not support DualStack",type:xo}]},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:gt,headers:gt},type:wo}]}]},hh=C0;var ph=(e,t={})=>cr(hh,{endpointParams:e,logger:t.logger});var yh=e=>({apiVersion:"2019-06-10",base64Decoder:(e==null?void 0:e.base64Decoder)??hr,base64Encoder:(e==null?void 0:e.base64Encoder)??pr,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??ph,logger:(e==null?void 0:e.logger)??new ot,serviceId:(e==null?void 0:e.serviceId)??"SSO",urlParser:(e==null?void 0:e.urlParser)??Ne,utf8Decoder:(e==null?void 0:e.utf8Decoder)??ct,utf8Encoder:(e==null?void 0:e.utf8Encoder)??Ht});var gh="AWS_EXECUTION_ENV",oc="AWS_REGION",sc="AWS_DEFAULT_REGION",Ch="AWS_EC2_METADATA_DISABLED",xh=["in-region","cross-region","mobile","standard","legacy"],wh="/latest/meta-data/placement/region";var x0="AWS_DEFAULTS_MODE",w0="defaults_mode",Eh={environmentVariableSelector:e=>e[x0],configFileSelector:e=>e[w0],default:"legacy"};var yr=({region:e=H(lt),defaultsMode:t=H(Eh)}={})=>sr(async()=>{let r=typeof t=="function"?await t():t;switch(r==null?void 0:r.toLowerCase()){case"auto":return E0(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r==null?void 0:r.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${xh.join(", ")}, got ${r}`)}}),E0=async e=>{if(e){let t=typeof e=="function"?await e():e,r=await b0();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},b0=async()=>{if(process.env[gh]&&(process.env[oc]||process.env[sc]))return process.env[oc]??process.env[sc];if(!process.env[Ch])try{let e=await po();return(await Nt({...e,path:wh})).toString()}catch{}};var bh=e=>{jt(process.version);let t=yr(e),r=()=>t().then($t),n=yh(e);return{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??mr,defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??ur({serviceId:n.serviceId,clientVersion:Wu.version}),maxAttempts:(e==null?void 0:e.maxAttempts)??H(tr),region:(e==null?void 0:e.region)??H(lt,Yt),requestHandler:(e==null?void 0:e.requestHandler)??new ht(r),retryMode:(e==null?void 0:e.retryMode)??H({...nr,default:async()=>(await r()).retryMode||mt}),sha256:(e==null?void 0:e.sha256)??Ve.bind(null,"sha256"),streamCollector:(e==null?void 0:e.streamCollector)??pt,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??H(Vt),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??H(Wt)}};var Js=class extends st{constructor(t){let r=bh(t),n=Vu(r),o=Qt(n),s=zt(o),i=rr(s),a=i,c=ir(a);super(c),this.config=c,this.middlewareStack.use(or(this.config)),this.middlewareStack.use(Xt(this.config)),this.middlewareStack.use(Jt(this.config)),this.middlewareStack.use(Zt(this.config)),this.middlewareStack.use(er(this.config)),this.middlewareStack.use(dr(this.config))}destroy(){super.destroy()}};var Rn="To refresh this SSO session run 'aws sso login' with the corresponding profile.";var me=class extends qe{constructor(t){super(t),Object.setPrototypeOf(this,me.prototype)}};var Nn=class extends me{constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,Nn.prototype),this.error=t.error,this.error_description=t.error_description}},Tn=class extends me{constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),this.name="AuthorizationPendingException",this.$fault="client",Object.setPrototypeOf(this,Tn.prototype),this.error=t.error,this.error_description=t.error_description}},In=class extends me{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,In.prototype),this.error=t.error,this.error_description=t.error_description}},Pn=class extends me{constructor(t){super({name:"InternalServerException",$fault:"server",...t}),this.name="InternalServerException",this.$fault="server",Object.setPrototypeOf(this,Pn.prototype),this.error=t.error,this.error_description=t.error_description}},vn=class extends me{constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),this.name="InvalidClientException",this.$fault="client",Object.setPrototypeOf(this,vn.prototype),this.error=t.error,this.error_description=t.error_description}},On=class extends me{constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),this.name="InvalidGrantException",this.$fault="client",Object.setPrototypeOf(this,On.prototype),this.error=t.error,this.error_description=t.error_description}},Dn=class extends me{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,Dn.prototype),this.error=t.error,this.error_description=t.error_description}},Bn=class extends me{constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),this.name="InvalidScopeException",this.$fault="client",Object.setPrototypeOf(this,Bn.prototype),this.error=t.error,this.error_description=t.error_description}},Mn=class extends me{constructor(t){super({name:"SlowDownException",$fault:"client",...t}),this.name="SlowDownException",this.$fault="client",Object.setPrototypeOf(this,Mn.prototype),this.error=t.error,this.error_description=t.error_description}},Fn=class extends me{constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),this.name="UnauthorizedClientException",this.$fault="client",Object.setPrototypeOf(this,Fn.prototype),this.error=t.error,this.error_description=t.error_description}},Ln=class extends me{constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),this.name="UnsupportedGrantTypeException",this.$fault="client",Object.setPrototypeOf(this,Ln.prototype),this.error=t.error,this.error_description=t.error_description}};var Sh=async(e,t)=>{let{hostname:r,protocol:n="https",port:o,path:s}=await t.endpoint(),i={"content-type":"application/json"},a=`${s!=null&&s.endsWith("/")?s.slice(0,-1):s||""}/token`,c;return c=JSON.stringify({...e.clientId!=null&&{clientId:e.clientId},...e.clientSecret!=null&&{clientSecret:e.clientSecret},...e.code!=null&&{code:e.code},...e.deviceCode!=null&&{deviceCode:e.deviceCode},...e.grantType!=null&&{grantType:e.grantType},...e.redirectUri!=null&&{redirectUri:e.redirectUri},...e.refreshToken!=null&&{refreshToken:e.refreshToken},...e.scope!=null&&{scope:B0(e.scope,t)}}),new q({protocol:n,hostname:r,port:o,method:"POST",headers:i,path:a,body:c})};var kh=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return S0(e,t);let r=We({$metadata:Ye(e)}),n=Ie(Qr(await Ah(e.body,t)),"body");return n.accessToken!=null&&(r.accessToken=N(n.accessToken)),n.expiresIn!=null&&(r.expiresIn=Go(n.expiresIn)),n.idToken!=null&&(r.idToken=N(n.idToken)),n.refreshToken!=null&&(r.refreshToken=N(n.refreshToken)),n.tokenType!=null&&(r.tokenType=N(n.tokenType)),r},S0=async(e,t)=>{let r={...e,body:await L0(e.body,t)},n=z0(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await k0(r,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await A0(r,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await _0(r,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await R0(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await N0(r,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await T0(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await I0(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await P0(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await v0(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await O0(r,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await D0(r,t);default:let o=r.body;it({output:e,parsedBody:o,exceptionCtor:me,errorCode:n})}};var We=Ar,k0=async(e,t)=>{let r=We({}),n=e.body;n.error!=null&&(r.error=N(n.error)),n.error_description!=null&&(r.error_description=N(n.error_description));let o=new Nn({$metadata:Ye(e),...r});return W(o,e.body)},A0=async(e,t)=>{let r=We({}),n=e.body;n.error!=null&&(r.error=N(n.error)),n.error_description!=null&&(r.error_description=N(n.error_description));let o=new Tn({$metadata:Ye(e),...r});return W(o,e.body)},_0=async(e,t)=>{let r=We({}),n=e.body;n.error!=null&&(r.error=N(n.error)),n.error_description!=null&&(r.error_description=N(n.error_description));let o=new In({$metadata:Ye(e),...r});return W(o,e.body)},R0=async(e,t)=>{let r=We({}),n=e.body;n.error!=null&&(r.error=N(n.error)),n.error_description!=null&&(r.error_description=N(n.error_description));let o=new Pn({$metadata:Ye(e),...r});return W(o,e.body)},N0=async(e,t)=>{let r=We({}),n=e.body;n.error!=null&&(r.error=N(n.error)),n.error_description!=null&&(r.error_description=N(n.error_description));let o=new vn({$metadata:Ye(e),...r});return W(o,e.body)};var T0=async(e,t)=>{let r=We({}),n=e.body;n.error!=null&&(r.error=N(n.error)),n.error_description!=null&&(r.error_description=N(n.error_description));let o=new On({$metadata:Ye(e),...r});return W(o,e.body)},I0=async(e,t)=>{let r=We({}),n=e.body;n.error!=null&&(r.error=N(n.error)),n.error_description!=null&&(r.error_description=N(n.error_description));let o=new Dn({$metadata:Ye(e),...r});return W(o,e.body)},P0=async(e,t)=>{let r=We({}),n=e.body;n.error!=null&&(r.error=N(n.error)),n.error_description!=null&&(r.error_description=N(n.error_description));let o=new Bn({$metadata:Ye(e),...r});return W(o,e.body)},v0=async(e,t)=>{let r=We({}),n=e.body;n.error!=null&&(r.error=N(n.error)),n.error_description!=null&&(r.error_description=N(n.error_description));let o=new Mn({$metadata:Ye(e),...r});return W(o,e.body)},O0=async(e,t)=>{let r=We({}),n=e.body;n.error!=null&&(r.error=N(n.error)),n.error_description!=null&&(r.error_description=N(n.error_description));let o=new Fn({$metadata:Ye(e),...r});return W(o,e.body)},D0=async(e,t)=>{let r=We({}),n=e.body;n.error!=null&&(r.error=N(n.error)),n.error_description!=null&&(r.error_description=N(n.error_description));let o=new Ln({$metadata:Ye(e),...r});return W(o,e.body)},B0=(e,t)=>e.filter(r=>r!=null).map(r=>r),Ye=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),M0=(e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),F0=(e,t)=>M0(e,t).then(r=>t.utf8Encoder(r));var Ah=(e,t)=>F0(e,t).then(r=>r.length?JSON.parse(r):{}),L0=async(e,t)=>{let r=await Ah(e,t);return r.message=r.message??r.Message,r},z0=(e,t)=>{let r=(s,i)=>Object.keys(s).find(a=>a.toLowerCase()===i.toLowerCase()),n=s=>{let i=s;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},o=r(e.headers,"x-amzn-errortype");if(o!==void 0)return n(e.headers[o]);if(t.code!==void 0)return n(t.code);if(t.__type!==void 0)return n(t.__type)};var zn=class extends Te{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use($e(r,this.serialize,this.deserialize)),this.middlewareStack.use(je(r,zn.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"SSOOIDCClient",commandName:"CreateTokenCommand",inputFilterSensitiveLog:f=>f,outputFilterSensitiveLog:f=>f},{requestHandler:d}=r;return o.resolve(f=>d.handle(f.request,n||{}),c)}serialize(t,r){return Sh(t,r)}deserialize(t,r){return kh(t,r)}};var _h=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssooidc"});var Rh={name:"@aws-sdk/client-sso-oidc",description:"AWS SDK for JavaScript Sso Oidc Client for Node.js, Browser and React Native",version:"3.309.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso-oidc"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/config-resolver":"3.306.0","@aws-sdk/fetch-http-handler":"3.306.0","@aws-sdk/hash-node":"3.306.0","@aws-sdk/invalid-dependency":"3.306.0","@aws-sdk/middleware-content-length":"3.306.0","@aws-sdk/middleware-endpoint":"3.306.0","@aws-sdk/middleware-host-header":"3.306.0","@aws-sdk/middleware-logger":"3.306.0","@aws-sdk/middleware-recursion-detection":"3.306.0","@aws-sdk/middleware-retry":"3.306.0","@aws-sdk/middleware-serde":"3.306.0","@aws-sdk/middleware-stack":"3.306.0","@aws-sdk/middleware-user-agent":"3.306.0","@aws-sdk/node-config-provider":"3.306.0","@aws-sdk/node-http-handler":"3.306.0","@aws-sdk/protocol-http":"3.306.0","@aws-sdk/smithy-client":"3.309.0","@aws-sdk/types":"3.306.0","@aws-sdk/url-parser":"3.306.0","@aws-sdk/util-base64":"3.303.0","@aws-sdk/util-body-length-browser":"3.303.0","@aws-sdk/util-body-length-node":"3.303.0","@aws-sdk/util-defaults-mode-browser":"3.309.0","@aws-sdk/util-defaults-mode-node":"3.309.0","@aws-sdk/util-endpoints":"3.306.0","@aws-sdk/util-retry":"3.306.0","@aws-sdk/util-user-agent-browser":"3.306.0","@aws-sdk/util-user-agent-node":"3.306.0","@aws-sdk/util-utf8":"3.303.0",tslib:"^2.5.0"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.303.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso-oidc",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso-oidc"}};var Bh="required",Pt="fn",vt="argv",Un="ref",ac="PartitionResult",Ct="tree",Eo="error",bo="endpoint",Nh={[Bh]:!1,type:"String"},Th={[Bh]:!0,default:!1,type:"Boolean"},Mh={[Un]:"Endpoint"},Fh={[Pt]:"booleanEquals",[vt]:[{[Un]:"UseFIPS"},!0]},Lh={[Pt]:"booleanEquals",[vt]:[{[Un]:"UseDualStack"},!0]},xt={},Ih={[Pt]:"booleanEquals",[vt]:[!0,{[Pt]:"getAttr",[vt]:[{[Un]:ac},"supportsFIPS"]}]},Ph={[Pt]:"booleanEquals",[vt]:[!0,{[Pt]:"getAttr",[vt]:[{[Un]:ac},"supportsDualStack"]}]},vh=[Mh],Oh=[Fh],Dh=[Lh],$0={version:"1.0",parameters:{Region:Nh,UseDualStack:Th,UseFIPS:Th,Endpoint:Nh},rules:[{conditions:[{[Pt]:"aws.partition",[vt]:[{[Un]:"Region"}],assign:ac}],type:Ct,rules:[{conditions:[{[Pt]:"isSet",[vt]:vh},{[Pt]:"parseURL",[vt]:vh,assign:"url"}],type:Ct,rules:[{conditions:Oh,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Eo},{type:Ct,rules:[{conditions:Dh,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Eo},{endpoint:{url:Mh,properties:xt,headers:xt},type:bo}]}]},{conditions:[Fh,Lh],type:Ct,rules:[{conditions:[Ih,Ph],type:Ct,rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:xt,headers:xt},type:bo}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Eo}]},{conditions:Oh,type:Ct,rules:[{conditions:[Ih],type:Ct,rules:[{type:Ct,rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:xt,headers:xt},type:bo}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:Eo}]},{conditions:Dh,type:Ct,rules:[{conditions:[Ph],type:Ct,rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:xt,headers:xt},type:bo}]},{error:"DualStack is enabled but this partition does not support DualStack",type:Eo}]},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:xt,headers:xt},type:bo}]}]},zh=$0;var Uh=(e,t={})=>cr(zh,{endpointParams:e,logger:t.logger});var $h=e=>({apiVersion:"2019-06-10",base64Decoder:(e==null?void 0:e.base64Decoder)??hr,base64Encoder:(e==null?void 0:e.base64Encoder)??pr,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??Uh,logger:(e==null?void 0:e.logger)??new ot,serviceId:(e==null?void 0:e.serviceId)??"SSO OIDC",urlParser:(e==null?void 0:e.urlParser)??Ne,utf8Decoder:(e==null?void 0:e.utf8Decoder)??ct,utf8Encoder:(e==null?void 0:e.utf8Encoder)??Ht});var jh=e=>{jt(process.version);let t=yr(e),r=()=>t().then($t),n=$h(e);return{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??mr,defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??ur({serviceId:n.serviceId,clientVersion:Rh.version}),maxAttempts:(e==null?void 0:e.maxAttempts)??H(tr),region:(e==null?void 0:e.region)??H(lt,Yt),requestHandler:(e==null?void 0:e.requestHandler)??new ht(r),retryMode:(e==null?void 0:e.retryMode)??H({...nr,default:async()=>(await r()).retryMode||mt}),sha256:(e==null?void 0:e.sha256)??Ve.bind(null,"sha256"),streamCollector:(e==null?void 0:e.streamCollector)??pt,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??H(Vt),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??H(Wt)}};var Zs=class extends st{constructor(t){let r=jh(t),n=_h(r),o=Qt(n),s=zt(o),i=rr(s),a=i,c=ir(a);super(c),this.config=c,this.middlewareStack.use(or(this.config)),this.middlewareStack.use(Xt(this.config)),this.middlewareStack.use(Jt(this.config)),this.middlewareStack.use(Zt(this.config)),this.middlewareStack.use(er(this.config)),this.middlewareStack.use(dr(this.config))}destroy(){super.destroy()}};var cc={},qh=e=>{if(cc[e])return cc[e];let t=new Zs({region:e});return cc[e]=t,t};var Kh=(e,t)=>qh(t).send(new zn({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}));var dc=e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new De(`Token is expired. ${Rn}`,!1)};var gr=(e,t,r=!1)=>{if(typeof t>"u")throw new De(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${Rn}`,!1)};var Gh=require("fs"),{writeFile:j0}=Gh.promises,Hh=(e,t)=>{let r=Ds(e),n=JSON.stringify(t,null,2);return j0(r,n)};var Vh=new Date(0),Wh=(e={})=>async()=>{let t=await lr(e),r=He(e),n=t[r];if(n){if(!n.sso_session)throw new De(`Profile '${r}' is missing required property 'sso_session'.`)}else throw new De(`Profile '${r}' could not be found in shared credentials file.`,!1);let o=n.sso_session,i=(await Ls(e))[o];if(!i)throw new De(`Sso session '${o}' could not be found in shared credentials file.`,!1);for(let E of["sso_start_url","sso_region"])if(!i[E])throw new De(`Sso session '${o}' is missing required property '${E}'.`,!1);let a=i.sso_start_url,c=i.sso_region,d;try{d=await Bs(o)}catch{throw new De(`The SSO session token associated with profile=${r} was not found or is invalid. ${Rn}`,!1)}gr("accessToken",d.accessToken),gr("expiresAt",d.expiresAt);let{accessToken:f,expiresAt:h}=d,p={token:f,expiration:new Date(h)};if(p.expiration.getTime()-Date.now()>3e5)return p;if(Date.now()-Vh.getTime()<30*1e3)return dc(p),p;gr("clientId",d.clientId,!0),gr("clientSecret",d.clientSecret,!0),gr("refreshToken",d.refreshToken,!0);try{Vh.setTime(Date.now());let E=await Kh(d,c);gr("accessToken",E.accessToken),gr("expiresIn",E.expiresIn);let b=new Date(Date.now()+E.expiresIn*1e3);try{await Hh(o,{...d,accessToken:E.accessToken,expiresAt:b.toISOString(),refreshToken:E.refreshToken})}catch{}return{token:E.accessToken,expiration:b}}catch{return dc(p),p}};var K0=15*60*1e3,So=!1,lc=async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoClient:s,profile:i})=>{let a,c="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let v=await Wh({profile:i})();a={accessToken:v.token,expiresAt:new Date(v.expiration).toISOString()}}catch(v){throw new D(v.message,So)}else try{a=await Bs(e)}catch{throw new D(`The SSO session associated with this profile is invalid. ${c}`,So)}if(new Date(a.expiresAt).getTime()-Date.now()<=K0)throw new D(`The SSO session associated with this profile has expired. ${c}`,So);let{accessToken:d}=a,f=s||new Js({region:n}),h;try{h=await f.send(new An({accountId:r,roleName:o,accessToken:d}))}catch(v){throw D.from(v,So)}let{roleCredentials:{accessKeyId:p,secretAccessKey:E,sessionToken:b,expiration:T}={}}=h;if(!p||!E||!b||!T)throw new D("SSO returns an invalid temporary credential.",So);return{accessKeyId:p,secretAccessKey:E,sessionToken:b,expiration:new Date(T)}};var ei=e=>{let{sso_start_url:t,sso_account_id:r,sso_region:n,sso_role_name:o}=e;if(!t||!r||!n||!o)throw new D(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,!1);return e};var ti=(e={})=>async()=>{let{ssoStartUrl:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoClient:s,ssoSession:i}=e,a=He(e);if(!t&&!r&&!n&&!o&&!i){let d=(await lr(e))[a];if(!d)throw new D(`Profile ${a} was not found.`);if(!yo(d))throw new D(`Profile ${a} is not configured with SSO credentials.`);if(d!=null&&d.sso_session){let v=(await Ls(e))[d.sso_session],Fe=` configurations in profile ${a} and sso-session ${d.sso_session}`;if(n&&n!==v.sso_region)throw new D("Conflicting SSO region"+Fe,!1);if(t&&t!==v.sso_start_url)throw new D("Conflicting SSO start_url"+Fe,!1);d.sso_region=v.sso_region,d.sso_start_url=v.sso_start_url}let{sso_start_url:f,sso_account_id:h,sso_region:p,sso_role_name:E,sso_session:b}=ei(d);return lc({ssoStartUrl:f,ssoSession:b,ssoAccountId:h,ssoRegion:p,ssoRoleName:E,ssoClient:s,profile:a})}else{if(!t||!r||!n||!o)throw new D('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"');return lc({ssoStartUrl:t,ssoSession:i,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoClient:s,profile:a})}};var Yh=e=>{let{sso_start_url:t,sso_account_id:r,sso_session:n,sso_region:o,sso_role_name:s}=ei(e);return ti({ssoStartUrl:t,ssoAccountId:r,ssoSession:n,ssoRegion:o,ssoRoleName:s})()};var fc=e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1,mc=e=>Promise.resolve({accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token});var Xh=require("fs");var Qh=e=>()=>{let{roleArn:t,roleSessionName:r,webIdentityToken:n,providerId:o,policyArns:s,policy:i,durationSeconds:a,roleAssumerWithWebIdentity:c}=e;if(!c)throw new D(`Role Arn '${t}' needs to be assumed with web identity, but no role assumption callback was provided.`,!1);return c({RoleArn:t,RoleSessionName:r??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:n,ProviderId:o,PolicyArns:s,Policy:i,DurationSeconds:a})};var G0="AWS_WEB_IDENTITY_TOKEN_FILE",H0="AWS_ROLE_ARN",V0="AWS_ROLE_SESSION_NAME",ri=(e={})=>async()=>W0(e),W0=e=>{let t=(e==null?void 0:e.webIdentityTokenFile)??process.env[G0],r=(e==null?void 0:e.roleArn)??process.env[H0],n=(e==null?void 0:e.roleSessionName)??process.env[V0];if(!t||!r)throw new D("Web identity configuration not specified");return Qh({...e,webIdentityToken:(0,Xh.readFileSync)(t,{encoding:"ascii"}),roleArn:r,roleSessionName:n})()};var Jh=e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,Zh=async(e,t)=>ri({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity})();var Ks=async(e,t,r,n={})=>{let o=t[e];if(Object.keys(n).length>0&&fc(o))return mc(o);if(Du(o))return Bu(e,t,r,n);if(fc(o))return mc(o);if(Jh(o))return Zh(o,r);if(Uu(o))return $u(r,e);if(yo(o))return Yh(o);throw new D(`Profile ${e} could not be found or parsed in shared credentials file.`)};var ep=(e={})=>async()=>{let t=await lr(e);return Ks(He(e),t,e)};var Y0="AWS_EC2_METADATA_DISABLED",tp=e=>process.env[uo]||process.env[mo]?js(e):process.env[Y0]?async()=>{throw new D("EC2 Instance Metadata Service access disabled")}:qs(e);var ni=(e={})=>sr(ps(...e.profile||process.env[Qa]?[]:[Os()],ti(e),ep(e),Gs(e),ri(e),tp(e),async()=>{throw new D("Could not load credentials from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0);var lp="required",$="type",Y="fn",Q="argv",Cr="ref",Ir="properties",Pr="headers";var hc="PartitionResult",Qe="tree",vr="booleanEquals",ge="stringEquals",fp="sigv4",mp="us-east-1",up="sts",ne="endpoint",hp="https://sts.{Region}.{PartitionResult#dnsSuffix}",ko="error",pc="getAttr",rp={[lp]:!1,[$]:"String"},uc={[lp]:!0,default:!1,[$]:"Boolean"},Ce={[Cr]:"Region"},pp={[Cr]:"UseFIPS"},yp={[Cr]:"UseDualStack"},np={[Y]:"isSet",[Q]:[{[Cr]:"Endpoint"}]},gp={[Cr]:"Endpoint"},xe={url:"https://sts.amazonaws.com",[Ir]:{authSchemes:[{name:fp,signingRegion:mp,signingName:up}]},[Pr]:{}},Ot={},op={conditions:[{[Y]:ge,[Q]:[Ce,"aws-global"]}],[ne]:xe,[$]:ne},Cp={[Y]:vr,[Q]:[pp,!0]},xp={[Y]:vr,[Q]:[yp,!0]},sp={[Y]:vr,[Q]:[!0,{[Y]:pc,[Q]:[{[Cr]:hc},"supportsFIPS"]}]},wp={[Cr]:hc},ip={[Y]:vr,[Q]:[!0,{[Y]:pc,[Q]:[wp,"supportsDualStack"]}]},ap={url:hp,[Ir]:{},[Pr]:{}},Q0=[gp],cp=[Cp],dp=[xp],X0={version:"1.0",parameters:{Region:rp,UseDualStack:uc,UseFIPS:uc,Endpoint:rp,UseGlobalEndpoint:uc},rules:[{conditions:[{[Y]:"aws.partition",[Q]:[Ce],assign:hc}],[$]:Qe,rules:[{conditions:[{[Y]:vr,[Q]:[{[Cr]:"UseGlobalEndpoint"},!0]},{[Y]:vr,[Q]:[pp,!1]},{[Y]:vr,[Q]:[yp,!1]},{[Y]:"not",[Q]:[np]}],[$]:Qe,rules:[{conditions:[{[Y]:ge,[Q]:[Ce,"ap-northeast-1"]}],endpoint:xe,[$]:ne},{conditions:[{[Y]:ge,[Q]:[Ce,"ap-south-1"]}],endpoint:xe,[$]:ne},{conditions:[{[Y]:ge,[Q]:[Ce,"ap-southeast-1"]}],endpoint:xe,[$]:ne},{conditions:[{[Y]:ge,[Q]:[Ce,"ap-southeast-2"]}],endpoint:xe,[$]:ne},op,{conditions:[{[Y]:ge,[Q]:[Ce,"ca-central-1"]}],endpoint:xe,[$]:ne},{conditions:[{[Y]:ge,[Q]:[Ce,"eu-central-1"]}],endpoint:xe,[$]:ne},{conditions:[{[Y]:ge,[Q]:[Ce,"eu-north-1"]}],endpoint:xe,[$]:ne},{conditions:[{[Y]:ge,[Q]:[Ce,"eu-west-1"]}],endpoint:xe,[$]:ne},{conditions:[{[Y]:ge,[Q]:[Ce,"eu-west-2"]}],endpoint:xe,[$]:ne},{conditions:[{[Y]:ge,[Q]:[Ce,"eu-west-3"]}],endpoint:xe,[$]:ne},{conditions:[{[Y]:ge,[Q]:[Ce,"sa-east-1"]}],endpoint:xe,[$]:ne},{conditions:[{[Y]:ge,[Q]:[Ce,mp]}],endpoint:xe,[$]:ne},{conditions:[{[Y]:ge,[Q]:[Ce,"us-east-2"]}],endpoint:xe,[$]:ne},{conditions:[{[Y]:ge,[Q]:[Ce,"us-west-1"]}],endpoint:xe,[$]:ne},{conditions:[{[Y]:ge,[Q]:[Ce,"us-west-2"]}],endpoint:xe,[$]:ne},{endpoint:{url:hp,[Ir]:{authSchemes:[{name:fp,signingRegion:"{Region}",signingName:up}]},[Pr]:Ot},[$]:ne}]},{conditions:[np,{[Y]:"parseURL",[Q]:Q0,assign:"url"}],[$]:Qe,rules:[{conditions:cp,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[$]:ko},{[$]:Qe,rules:[{conditions:dp,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[$]:ko},{endpoint:{url:gp,[Ir]:Ot,[Pr]:Ot},[$]:ne}]}]},{conditions:[Cp,xp],[$]:Qe,rules:[{conditions:[sp,ip],[$]:Qe,rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",[Ir]:Ot,[Pr]:Ot},[$]:ne}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[$]:ko}]},{conditions:cp,[$]:Qe,rules:[{conditions:[sp],[$]:Qe,rules:[{[$]:Qe,rules:[{conditions:[{[Y]:ge,[Q]:["aws-us-gov",{[Y]:pc,[Q]:[wp,"name"]}]}],endpoint:ap,[$]:ne},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",[Ir]:Ot,[Pr]:Ot},[$]:ne}]}]},{error:"FIPS is enabled but this partition does not support FIPS",[$]:ko}]},{conditions:dp,[$]:Qe,rules:[{conditions:[ip],[$]:Qe,rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",[Ir]:Ot,[Pr]:Ot},[$]:ne}]},{error:"DualStack is enabled but this partition does not support DualStack",[$]:ko}]},{[$]:Qe,rules:[op,{endpoint:ap,[$]:ne}]}]}]},Ep=X0;var bp=(e,t={})=>cr(Ep,{endpointParams:e,logger:t.logger});var Sp=e=>({apiVersion:"2011-06-15",base64Decoder:(e==null?void 0:e.base64Decoder)??hr,base64Encoder:(e==null?void 0:e.base64Encoder)??pr,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??bp,logger:(e==null?void 0:e.logger)??new ot,serviceId:(e==null?void 0:e.serviceId)??"STS",urlParser:(e==null?void 0:e.urlParser)??Ne,utf8Decoder:(e==null?void 0:e.utf8Decoder)??ct,utf8Encoder:(e==null?void 0:e.utf8Encoder)??Ht});var kp=e=>{jt(process.version);let t=yr(e),r=()=>t().then($t),n=Sp(e);return{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??mr,credentialDefaultProvider:(e==null?void 0:e.credentialDefaultProvider)??iu(ni),defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??ur({serviceId:n.serviceId,clientVersion:nu.version}),maxAttempts:(e==null?void 0:e.maxAttempts)??H(tr),region:(e==null?void 0:e.region)??H(lt,Yt),requestHandler:(e==null?void 0:e.requestHandler)??new ht(r),retryMode:(e==null?void 0:e.retryMode)??H({...nr,default:async()=>(await r()).retryMode||mt}),sha256:(e==null?void 0:e.sha256)??Ve.bind(null,"sha256"),streamCollector:(e==null?void 0:e.streamCollector)??pt,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??H(Vt),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??H(Wt)}};var Or=class extends st{constructor(t){let r=kp(t),n=ru(r),o=Qt(n),s=zt(o),i=rr(s),a=i,c=tu(a,{stsClientCtor:Or}),d=ir(c);super(d),this.config=d,this.middlewareStack.use(or(this.config)),this.middlewareStack.use(Xt(this.config)),this.middlewareStack.use(Jt(this.config)),this.middlewareStack.use(Zt(this.config)),this.middlewareStack.use(er(this.config)),this.middlewareStack.use(dr(this.config))}destroy(){super.destroy()}};var Ap=(e,t)=>t?class extends e{constructor(n){super(n);for(let o of t)this.middlewareStack.use(o)}}:e,J0=(e={},t)=>Wa(e,Ap(Or,t)),Z0=(e={},t)=>Ya(e,Ap(Or,t)),_p=e=>t=>e({roleAssumer:J0(t),roleAssumerWithWebIdentity:Z0(t),...t});var Op=rt(no());var xr=class{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,o=Math.abs(Math.round(t));n>-1&&o>0;n--,o/=256)r[n]=o;return t<0&&Rp(r),new xr(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&Rp(t),parseInt(ye(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function Rp(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}var oi=class{constructor(t,r){this.toUtf8=t,this.fromUtf8=r}format(t){let r=[];for(let s of Object.keys(t)){let i=this.fromUtf8(s);r.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(t[s]))}let n=new Uint8Array(r.reduce((s,i)=>s+i.byteLength,0)),o=0;for(let s of r)n.set(s,o),o+=s.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":let o=new Uint8Array(9);return o[0]=5,o.set(t.value.bytes,1),o;case"binary":let s=new DataView(new ArrayBuffer(3+t.value.byteLength));s.setUint8(0,6),s.setUint16(1,t.value.byteLength,!1);let i=new Uint8Array(s.buffer);return i.set(t.value,3),i;case"string":let a=this.fromUtf8(t.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);let d=new Uint8Array(c.buffer);return d.set(a,3),d;case"timestamp":let f=new Uint8Array(9);return f[0]=8,f.set(xr.fromNumber(t.value.valueOf()).bytes,1),f;case"uuid":if(!ck.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);let h=new Uint8Array(17);return h[0]=9,h.set(Zf(t.value.replace(/\-/g,"")),1),h}}parse(t){let r={},n=0;for(;n<t.byteLength;){let o=t.getUint8(n++),s=this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+n,o));switch(n+=o,t.getUint8(n++)){case 0:r[s]={type:Tp,value:!0};break;case 1:r[s]={type:Tp,value:!1};break;case 2:r[s]={type:ek,value:t.getInt8(n++)};break;case 3:r[s]={type:tk,value:t.getInt16(n,!1)},n+=2;break;case 4:r[s]={type:rk,value:t.getInt32(n,!1)},n+=4;break;case 5:r[s]={type:nk,value:new xr(new Uint8Array(t.buffer,t.byteOffset+n,8))},n+=8;break;case 6:let i=t.getUint16(n,!1);n+=2,r[s]={type:ok,value:new Uint8Array(t.buffer,t.byteOffset+n,i)},n+=i;break;case 7:let a=t.getUint16(n,!1);n+=2,r[s]={type:sk,value:this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+n,a))},n+=a;break;case 8:r[s]={type:ik,value:new Date(new xr(new Uint8Array(t.buffer,t.byteOffset+n,8)).valueOf())},n+=8;break;case 9:let c=new Uint8Array(t.buffer,t.byteOffset+n,16);n+=16,r[s]={type:ak,value:`${ye(c.subarray(0,4))}-${ye(c.subarray(4,6))}-${ye(c.subarray(6,8))}-${ye(c.subarray(8,10))}-${ye(c.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return r}},Np;(function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"})(Np||(Np={}));var Tp="boolean",ek="byte",tk="short",rk="integer",nk="long",ok="binary",sk="string",ik="timestamp",ak="uuid",ck=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;var Ip=rt(no()),Pp=4,wr=Pp*2,Dr=4,dk=wr+Dr*2;function vp({byteLength:e,byteOffset:t,buffer:r}){if(e<dk)throw new Error("Provided message too short to accommodate event stream message overhead");let n=new DataView(r,t,e),o=n.getUint32(0,!1);if(e!==o)throw new Error("Reported message length does not match received message length");let s=n.getUint32(Pp,!1),i=n.getUint32(wr,!1),a=n.getUint32(e-Dr,!1),c=new Ip.Crc32().update(new Uint8Array(r,t,wr));if(i!==c.digest())throw new Error(`The prelude checksum specified in the message (${i}) does not match the calculated CRC32 checksum (${c.digest()})`);if(c.update(new Uint8Array(r,t+wr,e-(wr+Dr))),a!==c.digest())throw new Error(`The message checksum (${c.digest()}) did not match the expected value of ${a}`);return{headers:new DataView(r,t+wr+Dr,s),body:new Uint8Array(r,t+wr+Dr+s,o-s-(wr+Dr+Dr))}}var si=class{constructor(t,r){this.headerMarshaller=new oi(t,r)}encode({headers:t,body:r}){let n=this.headerMarshaller.format(t),o=n.byteLength+r.byteLength+16,s=new Uint8Array(o),i=new DataView(s.buffer,s.byteOffset,s.byteLength),a=new Op.Crc32;return i.setUint32(0,o,!1),i.setUint32(4,n.byteLength,!1),i.setUint32(8,a.update(s.subarray(0,8)).digest(),!1),s.set(n,12),s.set(r,n.byteLength+12),i.setUint32(o-4,a.update(s.subarray(8,o-4)).digest(),!1),s}decode(t){let{headers:r,body:n}=vp(t);return{headers:this.headerMarshaller.parse(r),body:n}}formatHeaders(t){return this.headerMarshaller.format(t)}};function Dp(e){let t=0,r=0,n=null,o=null,s=a=>{if(typeof a!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+a);t=a,r=4,n=new Uint8Array(a),new DataView(n.buffer).setUint32(0,a,!1)},i=async function*(){let a=e[Symbol.asyncIterator]();for(;;){let{value:c,done:d}=await a.next();if(d){if(t)if(t===r)yield n;else throw new Error("Truncated event message received.");else return;return}let f=c.length,h=0;for(;h<f;){if(!n){let E=f-h;o||(o=new Uint8Array(4));let b=Math.min(4-r,E);if(o.set(c.slice(h,h+b),r),r+=b,h+=b,r<4)break;s(new DataView(o.buffer).getUint32(0,!1)),o=null}let p=Math.min(t-r,f-h);n.set(c.slice(h,h+p),r),r+=p,h+=p,t&&t===r&&(yield n,n=null,t=0,r=0)}}};return{[Symbol.asyncIterator]:i}}function Bp(e,t){return{[Symbol.asyncIterator]:async function*(){for await(let r of e){let n=t.eventStreamCodec.decode(r),{value:o}=n.headers[":message-type"];if(o==="error"){let s=new Error(n.headers[":error-message"].value||"UnknownError");throw s.name=n.headers[":error-code"].value,s}else if(o==="exception"){let s=n.headers[":exception-type"].value,i={[s]:n},a=await t.deserializer(i);if(a.$unknown){let c=new Error(t.toUtf8(n.body));throw c.name=s,c}throw a[s]}else if(o==="event"){let s={[n.headers[":event-type"].value]:n},i=await t.deserializer(s);if(i.$unknown)continue;yield i}else throw Error(`Unrecognizable event type: ${n.headers[":event-type"].value}`)}}}}var Ao=class{constructor({utf8Encoder:t,utf8Decoder:r}){this.eventStreamCodec=new si(t,r),this.utfEncoder=t}deserialize(t,r){let n=Dp(t);return Bp(n,{eventStreamCodec:this.eventStreamCodec,deserializer:r,toUtf8:this.utfEncoder})}serialize(t,r){let n=this,o=async function*(){for await(let s of t)yield n.eventStreamCodec.encode(r(s));yield new Uint8Array(0)};return{[Symbol.asyncIterator]:o}}};var Fp=require("stream");async function*Mp(e){let t=!1,r=!1,n=new Array;for(e.on("error",o=>{if(t||(t=!0),o)throw o}),e.on("data",o=>{n.push(o)}),e.on("end",()=>{t=!0});!r;){let o=await new Promise(s=>setTimeout(()=>s(n.shift()),0));o&&(yield o),r=t&&n.length===0}}var ii=class{constructor({utf8Encoder:t,utf8Decoder:r}){this.universalMarshaller=new Ao({utf8Decoder:r,utf8Encoder:t})}deserialize(t,r){let n=typeof t[Symbol.asyncIterator]=="function"?t:Mp(t);return this.universalMarshaller.deserialize(n,r)}serialize(t,r){return Fp.Readable.from(this.universalMarshaller.serialize(t,r))}};var Lp=e=>new ii(e);var zp=require("stream"),_o=class extends zp.Writable{constructor(t,r){super(r),this.hash=t}_write(t,r,n){try{this.hash.update(ve(t))}catch(o){return n(o)}n()}};var Up=(e,t)=>{if(t.readableFlowing!==null)throw new Error("Unable to calculate hash for flowing readable stream");let r=new e,n=new _o(r);return t.pipe(n),new Promise((o,s)=>{t.on("error",i=>{n.end(),s(i)}),n.on("error",s),n.on("finish",()=>{r.digest().then(o).catch(s)})})};var lk="AWS_S3_USE_ARN_REGION",fk="s3_use_arn_region",$p={environmentVariableSelector:e=>dt(e,lk,Ke.ENV),configFileSelector:e=>dt(e,fk,Ke.CONFIG),default:!1};var jp=require("stream"),qp=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:o,checksumLocationName:s,streamHasher:i}=t,a=r!==void 0&&o!==void 0&&s!==void 0&&i!==void 0,c=a?i(o,e):void 0,d=new jp.Readable({read:()=>{}});return e.on("data",f=>{d.push(`${(n(f)||0).toString(16)}\r
${f.toString()}\r
`)}),e.on("end",async()=>{if(d.push(`0\r
`),a){let f=r(await c);d.push(`${s}:${f}\r
`),d.push(`\r
`)}d.push(null)}),d};var ai=require("stream"),Gp=require("util"),Kp="The stream has already been transformed.",Hp=e=>{var n,o;if(!(e instanceof ai.Readable)){let s=((o=(n=e==null?void 0:e.__proto__)==null?void 0:n.constructor)==null?void 0:o.name)||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${s}`)}let t=!1,r=async()=>{if(t)throw new Error(Kp);return t=!0,await pt(e)};return Object.assign(e,{transformToByteArray:r,transformToString:async s=>{let i=await r();return s===void 0||Buffer.isEncoding(s)?At(i.buffer,i.byteOffset,i.byteLength).toString(s):new Gp.TextDecoder(s).decode(i)},transformToWebStream:()=>{if(t)throw new Error(Kp);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof ai.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please make sure you are using Node.js >= 17.0.0, or polyfill is available.");return t=!0,ai.Readable.toWeb(e)}})};var ci=class{constructor(t){this.sigv4Signer=new Nr(t),this.signerOptions=t}async sign(t,r={}){if(r.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().sign(t,r)}return this.sigv4Signer.sign(t,r)}async presign(t,r={}){if(r.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().presign(t,r)}return this.sigv4Signer.presign(t,r)}getSigv4aSigner(){if(!this.sigv4aSigner){let t;try{if(t=typeof require=="function"&&require("@aws-sdk/signature-v4-crt").CrtSignerV4,typeof t!="function")throw new Error}catch(r){throw r.message=`${r.message}
Please check if you have installed "@aws-sdk/signature-v4-crt" package explicitly. 
For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`,r}this.sigv4aSigner=new t({...this.signerOptions,signingAlgorithm:1})}return this.sigv4aSigner}};var Fc="required",l="type",g="rules",y="conditions",m="fn",u="argv",x="ref",ue="assign",k="url",A="properties",B="authSchemes",M="disableDoubleEncoding",F="signingName",L="signingRegion",_="headers";var C="tree",Me="isSet",Ro="substring",Zy="hardwareType",eg="regionPrefix",Vp="abbaSuffix",Bc="outpostId",vo="aws.partition",I="stringEquals",Fr="isValidHostLabel",se="not",R="error",tg="parseURL",Lc="s3-outposts",w="endpoint",S="booleanEquals",rg="aws.parseArn",z="s3",Wp="aws.isVirtualHostableS3Bucket",oe="getAttr",O="name",yc="Host override cannot be combined with Dualstack, FIPS, or S3 Accelerate",ng="https://{Bucket}.s3.{partitionResult#dnsSuffix}",og="bucketArn",sg="arnType",hi="",zc="s3-object-lambda",ig="accesspoint",Uc="accessPointName",Yp="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",Qp="mrapPartition",Xp="outpostType",Jp="arnPrefix",Lr="{url#scheme}://{url#authority}{url#path}",ag="https://s3.{partitionResult#dnsSuffix}",gc={[Fc]:!1,[l]:"String"},No={[Fc]:!0,default:!1,[l]:"Boolean"},di={[Fc]:!1,[l]:"Boolean"},cg={[m]:Me,[u]:[{[x]:"Bucket"}]},wt={[x]:"Bucket"},Zp={[x]:Zy},ey={[y]:[{[m]:se,[u]:[{[m]:Me,[u]:[{[x]:"Endpoint"}]}]}],[R]:"Expected a endpoint to be specified but no endpoint was found",[l]:R},U={[m]:se,[u]:[{[m]:Me,[u]:[{[x]:"Endpoint"}]}]},j={[m]:Me,[u]:[{[x]:"Endpoint"}]},Z={[m]:tg,[u]:[{[x]:"Endpoint"}],[ue]:"url"},li={[B]:[{[M]:!0,[O]:"sigv4",[F]:Lc,[L]:"{Region}"}]},de={},ty={[x]:"ForcePathStyle"},ry={[y]:[{[m]:"uriEncode",[u]:[wt],[ue]:"uri_encoded_bucket"}],[l]:C,[g]:[{[y]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!0]},j],[R]:"Cannot set dual-stack in combination with a custom endpoint.",[l]:R},{[l]:C,[g]:[{[y]:[{[m]:vo,[u]:[{[x]:"Region"}],[ue]:"partitionResult"}],[l]:C,[g]:[{[l]:C,[g]:[{[y]:[{[m]:S,[u]:[{[x]:"Accelerate"},!1]}],[l]:C,[g]:[{[l]:C,[g]:[{[y]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!0]},U,{[m]:S,[u]:[{[x]:"UseFIPS"},!0]},{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[_]:{}},[l]:w},{[y]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!0]},U,{[m]:S,[u]:[{[x]:"UseFIPS"},!0]},{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[_]:{}},[l]:w},{[y]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!0]},U,{[m]:S,[u]:[{[x]:"UseFIPS"},!0]},{[m]:se,[u]:[{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}]},{[m]:S,[u]:[{[x]:"UseGlobalEndpoint"},!0]}],[l]:C,[g]:[{[w]:{[k]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"{Region}"}]},[_]:{}},[l]:w}]},{[y]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!0]},U,{[m]:S,[u]:[{[x]:"UseFIPS"},!0]},{[m]:se,[u]:[{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}]},{[m]:S,[u]:[{[x]:"UseGlobalEndpoint"},!1]}],[w]:{[k]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"{Region}"}]},[_]:{}},[l]:w},{[y]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!1]},j,Z,{[m]:S,[u]:[{[x]:"UseFIPS"},!0]},{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[_]:{}},[l]:w},{[y]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!1]},j,Z,{[m]:S,[u]:[{[x]:"UseFIPS"},!0]},{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[_]:{}},[l]:w},{[y]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!1]},j,Z,{[m]:S,[u]:[{[x]:"UseFIPS"},!0]},{[m]:se,[u]:[{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}]},{[m]:S,[u]:[{[x]:"UseGlobalEndpoint"},!0]}],[l]:C,[g]:[{[w]:{[k]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"{Region}"}]},[_]:{}},[l]:w}]},{[y]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!1]},j,Z,{[m]:S,[u]:[{[x]:"UseFIPS"},!0]},{[m]:se,[u]:[{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}]},{[m]:S,[u]:[{[x]:"UseGlobalEndpoint"},!1]}],[w]:{[k]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"{Region}"}]},[_]:{}},[l]:w},{[y]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!1]},U,{[m]:S,[u]:[{[x]:"UseFIPS"},!0]},{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[_]:{}},[l]:w},{[y]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!1]},U,{[m]:S,[u]:[{[x]:"UseFIPS"},!0]},{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[_]:{}},[l]:w},{[y]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!1]},U,{[m]:S,[u]:[{[x]:"UseFIPS"},!0]},{[m]:se,[u]:[{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}]},{[m]:S,[u]:[{[x]:"UseGlobalEndpoint"},!0]}],[l]:C,[g]:[{[w]:{[k]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"{Region}"}]},[_]:{}},[l]:w}]},{[y]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!1]},U,{[m]:S,[u]:[{[x]:"UseFIPS"},!0]},{[m]:se,[u]:[{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}]},{[m]:S,[u]:[{[x]:"UseGlobalEndpoint"},!1]}],[w]:{[k]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"{Region}"}]},[_]:{}},[l]:w},{[y]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!0]},U,{[m]:S,[u]:[{[x]:"UseFIPS"},!1]},{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[_]:{}},[l]:w},{[y]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!0]},U,{[m]:S,[u]:[{[x]:"UseFIPS"},!1]},{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[_]:{}},[l]:w},{[y]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!0]},U,{[m]:S,[u]:[{[x]:"UseFIPS"},!1]},{[m]:se,[u]:[{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}]},{[m]:S,[u]:[{[x]:"UseGlobalEndpoint"},!0]}],[l]:C,[g]:[{[w]:{[k]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"{Region}"}]},[_]:{}},[l]:w}]},{[y]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!0]},U,{[m]:S,[u]:[{[x]:"UseFIPS"},!1]},{[m]:se,[u]:[{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}]},{[m]:S,[u]:[{[x]:"UseGlobalEndpoint"},!1]}],[w]:{[k]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"{Region}"}]},[_]:{}},[l]:w},{[y]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!1]},j,Z,{[m]:S,[u]:[{[x]:"UseFIPS"},!1]},{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[_]:{}},[l]:w},{[y]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!1]},j,Z,{[m]:S,[u]:[{[x]:"UseFIPS"},!1]},{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[_]:{}},[l]:w},{[y]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!1]},j,Z,{[m]:S,[u]:[{[x]:"UseFIPS"},!1]},{[m]:se,[u]:[{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}]},{[m]:S,[u]:[{[x]:"UseGlobalEndpoint"},!0]}],[l]:C,[g]:[{[y]:[{[m]:I,[u]:[{[x]:"Region"},"us-east-1"]}],[w]:{[k]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"{Region}"}]},[_]:{}},[l]:w},{[w]:{[k]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"{Region}"}]},[_]:{}},[l]:w}]},{[y]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!1]},j,Z,{[m]:S,[u]:[{[x]:"UseFIPS"},!1]},{[m]:se,[u]:[{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}]},{[m]:S,[u]:[{[x]:"UseGlobalEndpoint"},!1]}],[w]:{[k]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"{Region}"}]},[_]:{}},[l]:w},{[y]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!1]},U,{[m]:S,[u]:[{[x]:"UseFIPS"},!1]},{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[_]:{}},[l]:w},{[y]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!1]},U,{[m]:S,[u]:[{[x]:"UseFIPS"},!1]},{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[_]:{}},[l]:w},{[y]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!1]},U,{[m]:S,[u]:[{[x]:"UseFIPS"},!1]},{[m]:se,[u]:[{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}]},{[m]:S,[u]:[{[x]:"UseGlobalEndpoint"},!0]}],[l]:C,[g]:[{[y]:[{[m]:I,[u]:[{[x]:"Region"},"us-east-1"]}],[w]:{[k]:"https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"{Region}"}]},[_]:{}},[l]:w},{[w]:{[k]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"{Region}"}]},[_]:{}},[l]:w}]},{[y]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!1]},U,{[m]:S,[u]:[{[x]:"UseFIPS"},!1]},{[m]:se,[u]:[{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}]},{[m]:S,[u]:[{[x]:"UseGlobalEndpoint"},!1]}],[w]:{[k]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"{Region}"}]},[_]:{}},[l]:w}]}]},{[R]:"Path-style addressing cannot be used with S3 Accelerate",[l]:R}]}]},{[R]:"A valid partition could not be determined",[l]:R}]}]},ee={[m]:S,[u]:[{[x]:"UseDualStack"},!0]},fe={[m]:S,[u]:[{[x]:"Accelerate"},!1]},re={[m]:S,[u]:[{[x]:"UseFIPS"},!0]},V={[m]:se,[u]:[{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}]},we={[m]:S,[u]:[{[x]:"UseGlobalEndpoint"},!0]},be={[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"{Region}"}]},Ee={[m]:S,[u]:[{[x]:"UseGlobalEndpoint"},!1]},X={[m]:S,[u]:[{[x]:"UseDualStack"},!1]},K={[m]:S,[u]:[{[x]:"UseFIPS"},!1]},Br={[R]:"A valid partition could not be determined",[l]:R},Cc={[y]:[re,{[m]:I,[u]:[{[m]:oe,[u]:[{[x]:"partitionResult"},O]},"aws-cn"]}],[R]:"Partition does not support FIPS",[l]:R},Ek={[m]:I,[u]:[{[m]:oe,[u]:[{[x]:"partitionResult"},O]},"aws-cn"]},tt={[m]:S,[u]:[{[x]:"Accelerate"},!0]},ny={[y]:[ee,re,fe,U,{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[_]:{}},[l]:w},oy={[k]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[A]:be,[_]:{}},sy={[y]:[X,re,fe,U,{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[_]:{}},[l]:w},iy={[k]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[A]:be,[_]:{}},ay={[y]:[ee,K,tt,U,{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[_]:{}},[l]:w},cy={[k]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[A]:be,[_]:{}},dy={[y]:[ee,K,fe,U,{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[_]:{}},[l]:w},ly={[k]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[A]:be,[_]:{}},fy={[y]:[X,K,fe,j,Z,{[m]:S,[u]:[{[m]:oe,[u]:[{[x]:"url"},"isIp"]},!0]},{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[_]:{}},[l]:w},my={[m]:S,[u]:[{[m]:oe,[u]:[{[x]:"url"},"isIp"]},!0]},$c={[x]:"url"},uy={[y]:[X,K,fe,j,Z,{[m]:S,[u]:[{[m]:oe,[u]:[$c,"isIp"]},!1]},{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"{url#scheme}://{Bucket}.{url#authority}{url#path}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[_]:{}},[l]:w},hy={[m]:S,[u]:[{[m]:oe,[u]:[$c,"isIp"]},!1]},xc={[k]:"{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",[A]:be,[_]:{}},Mc={[k]:"{url#scheme}://{Bucket}.{url#authority}{url#path}",[A]:be,[_]:{}},py={[w]:Mc,[l]:w},yy={[y]:[X,K,tt,U,{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[_]:{}},[l]:w},wc={[k]:"https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",[A]:be,[_]:{}},gy={[y]:[X,K,fe,U,{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:ng,[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[_]:{}},[l]:w},Cy={[k]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[A]:be,[_]:{}},fi={[R]:"Invalid region: region was not a valid DNS name.",[l]:R},Be={[x]:og},dg={[x]:sg},Ec={[m]:oe,[u]:[Be,"service"]},jc={[x]:Uc},xy={[y]:[ee],[R]:"S3 Object Lambda does not support Dual-stack",[l]:R},wy={[y]:[tt],[R]:"S3 Object Lambda does not support S3 Accelerate",[l]:R},Ey={[y]:[{[m]:Me,[u]:[{[x]:"DisableAccessPoints"}]},{[m]:S,[u]:[{[x]:"DisableAccessPoints"},!0]}],[R]:"Access points are not supported for this operation",[l]:R},bc={[y]:[{[m]:Me,[u]:[{[x]:"UseArnRegion"}]},{[m]:S,[u]:[{[x]:"UseArnRegion"},!1]},{[m]:se,[u]:[{[m]:I,[u]:[{[m]:oe,[u]:[Be,"region"]},"{Region}"]}]}],[R]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[l]:R},qc={[m]:oe,[u]:[{[x]:"bucketPartition"},O]},lg={[m]:oe,[u]:[Be,"accountId"]},by={[y]:[re,{[m]:I,[u]:[qc,"aws-cn"]}],[R]:"Partition does not support FIPS",[l]:R},Sc={[B]:[{[M]:!0,[O]:"sigv4",[F]:zc,[L]:"{bucketArn#region}"}]},Sy={[R]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[l]:R},kc={[R]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[l]:R},Ac={[R]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[l]:R},_c={[R]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[l]:R},ky={[R]:"Could not load partition for ARN region `{bucketArn#region}`",[l]:R},Ay={[R]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[l]:R},_y={[R]:"Invalid ARN: bucket ARN is missing a region",[l]:R},Ry={[R]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[l]:R},To={[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"{bucketArn#region}"}]},Ny={[B]:[{[M]:!0,[O]:"sigv4",[F]:Lc,[L]:"{bucketArn#region}"}]},Ty={[x]:"UseObjectLambdaEndpoint"},Rc={[B]:[{[M]:!0,[O]:"sigv4",[F]:zc,[L]:"{Region}"}]},Iy={[y]:[re,ee,j,Z,{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:Lr,[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[_]:{}},[l]:w},fg={[w]:{[k]:Lr,[A]:be,[_]:{}},[l]:w},Io={[k]:Lr,[A]:be,[_]:{}},Py={[y]:[re,ee,U,{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[_]:{}},[l]:w},vy={[k]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[A]:be,[_]:{}},Oy={[y]:[re,X,j,Z,{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:Lr,[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[_]:{}},[l]:w},Dy={[y]:[re,X,U,{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[_]:{}},[l]:w},By={[k]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[A]:be,[_]:{}},My={[y]:[K,ee,j,Z,{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:Lr,[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[_]:{}},[l]:w},Fy={[y]:[K,ee,U,{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[_]:{}},[l]:w},Ly={[k]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[A]:be,[_]:{}},zy={[y]:[K,X,j,Z,{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:Lr,[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[_]:{}},[l]:w},Uy={[y]:[K,X,U,{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:ag,[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[_]:{}},[l]:w},$y={[k]:"https://s3.{Region}.{partitionResult#dnsSuffix}",[A]:be,[_]:{}},ui=[{[x]:"Region"}],bk=[wt],jy=[{[m]:Fr,[u]:[{[x]:Bc},!1]}],qy=[{[m]:I,[u]:[{[x]:eg},"beta"]}],Sk=[{[x]:"Endpoint"}],Po=[j,Z],Ky=[cg],Gy=[{[m]:rg,[u]:[wt]}],kk=[ee,j],Mr=[{[m]:vo,[u]:ui,[ue]:"partitionResult"}],$n=[{[m]:I,[u]:[{[x]:"Region"},"us-east-1"]}],Hy=[{[m]:Fr,[u]:[{[x]:"Region"},!1]}],Nc=[{[m]:I,[u]:[dg,ig]}],Vy=[{[m]:oe,[u]:[Be,"resourceId[1]"],[ue]:Uc},{[m]:se,[u]:[{[m]:I,[u]:[jc,hi]}]}],Ak=[Be,"resourceId[1]"],Wy=[ee],Tc=[tt],Ic=[{[m]:se,[u]:[{[m]:I,[u]:[{[m]:oe,[u]:[Be,"region"]},hi]}]}],Yy=[{[m]:se,[u]:[{[m]:Me,[u]:[{[m]:oe,[u]:[Be,"resourceId[2]"]}]}]}],_k=[Be,"resourceId[2]"],Pc=[{[m]:vo,[u]:[{[m]:oe,[u]:[Be,"region"]}],[ue]:"bucketPartition"}],Qy=[{[m]:I,[u]:[qc,{[m]:oe,[u]:[{[x]:"partitionResult"},O]}]}],vc=[{[m]:Fr,[u]:[{[m]:oe,[u]:[Be,"region"]},!0]}],Oc=[{[m]:Fr,[u]:[lg,!1]}],Xy=[{[m]:Fr,[u]:[jc,!1]}],mi=[re],Jy=[{[m]:Fr,[u]:[{[x]:"Region"},!0]}],Dc=[fg],Rk={version:"1.0",parameters:{Bucket:gc,Region:gc,UseFIPS:No,UseDualStack:No,Endpoint:gc,ForcePathStyle:di,Accelerate:No,UseGlobalEndpoint:No,UseObjectLambdaEndpoint:di,DisableAccessPoints:di,DisableMultiRegionAccessPoints:No,UseArnRegion:di},[g]:[{[l]:C,[g]:[{[y]:[{[m]:Me,[u]:ui}],[l]:C,[g]:[{[l]:C,[g]:[{[y]:[cg,{[m]:Ro,[u]:[wt,49,50,!0],[ue]:Zy},{[m]:Ro,[u]:[wt,8,12,!0],[ue]:eg},{[m]:Ro,[u]:[wt,0,7,!0],[ue]:Vp},{[m]:Ro,[u]:[wt,32,49,!0],[ue]:Bc},{[m]:vo,[u]:ui,[ue]:"regionPartition"},{[m]:I,[u]:[{[x]:Vp},"--op-s3"]}],[l]:C,[g]:[{[y]:jy,[l]:C,[g]:[{[l]:C,[g]:[{[y]:[{[m]:I,[u]:[Zp,"e"]}],[l]:C,[g]:[{[y]:qy,[l]:C,[g]:[ey,{[y]:Po,endpoint:{[k]:"https://{Bucket}.ec2.{url#authority}",[A]:li,[_]:de},[l]:w}]},{endpoint:{[k]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[A]:li,[_]:de},[l]:w}]},{[y]:[{[m]:I,[u]:[Zp,"o"]}],[l]:C,[g]:[{[y]:qy,[l]:C,[g]:[ey,{[y]:Po,endpoint:{[k]:"https://{Bucket}.op-{outpostId}.{url#authority}",[A]:li,[_]:de},[l]:w}]},{endpoint:{[k]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[A]:li,[_]:de},[l]:w}]},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[l]:R}]}]},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[l]:R}]},{[y]:Ky,[l]:C,[g]:[{[y]:[j,{[m]:se,[u]:[{[m]:Me,[u]:[{[m]:tg,[u]:Sk}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[l]:R},{[l]:C,[g]:[{[y]:[{[m]:Me,[u]:[ty]},{[m]:S,[u]:[ty,!0]}],[l]:C,[g]:[{[l]:C,[g]:[{[y]:Gy,error:"Path-style addressing cannot be used with ARN buckets",[l]:R},ry]}]},{[y]:[{[m]:Wp,[u]:[wt,!1]}],[l]:C,[g]:[{[y]:Mr,[l]:C,[g]:[{[l]:C,[g]:[{[y]:Hy,[l]:C,[g]:[{[l]:C,[g]:[Cc,{[l]:C,[g]:[{[y]:[tt,re],error:"Accelerate cannot be used with FIPS",[l]:R},{[l]:C,[g]:[{[y]:[tt,Ek],error:"S3 Accelerate cannot be used in this region",[l]:R},{[l]:C,[g]:[{[y]:[j,ee],error:yc,[l]:R},{[l]:C,[g]:[{[y]:[j,re],error:yc,[l]:R},{[l]:C,[g]:[{[y]:[j,tt],error:yc,[l]:R},{[l]:C,[g]:[ny,ny,{[y]:[ee,re,fe,U,V,we],[l]:C,[g]:[{endpoint:oy,[l]:w}]},{[y]:[ee,re,fe,U,V,Ee],endpoint:oy,[l]:w},sy,sy,{[y]:[X,re,fe,U,V,we],[l]:C,[g]:[{endpoint:iy,[l]:w}]},{[y]:[X,re,fe,U,V,Ee],endpoint:iy,[l]:w},ay,ay,{[y]:[ee,K,tt,U,V,we],[l]:C,[g]:[{endpoint:cy,[l]:w}]},{[y]:[ee,K,tt,U,V,Ee],endpoint:cy,[l]:w},dy,dy,{[y]:[ee,K,fe,U,V,we],[l]:C,[g]:[{endpoint:ly,[l]:w}]},{[y]:[ee,K,fe,U,V,Ee],endpoint:ly,[l]:w},fy,uy,fy,uy,{[y]:[X,K,fe,j,Z,my,V,we],[l]:C,[g]:[{[y]:$n,endpoint:xc,[l]:w},{endpoint:xc,[l]:w}]},{[y]:[X,K,fe,j,Z,hy,V,we],[l]:C,[g]:[{[y]:$n,endpoint:Mc,[l]:w},py]},{[y]:[X,K,fe,j,Z,my,V,Ee],endpoint:xc,[l]:w},{[y]:[X,K,fe,j,Z,hy,V,Ee],endpoint:Mc,[l]:w},yy,yy,{[y]:[X,K,tt,U,V,we],[l]:C,[g]:[{[y]:$n,endpoint:wc,[l]:w},{endpoint:wc,[l]:w}]},{[y]:[X,K,tt,U,V,Ee],endpoint:wc,[l]:w},gy,gy,{[y]:[X,K,fe,U,V,we],[l]:C,[g]:[{[y]:$n,endpoint:{[k]:ng,[A]:be,[_]:de},[l]:w},{endpoint:Cy,[l]:w}]},{[y]:[X,K,fe,U,V,Ee],endpoint:Cy,[l]:w}]}]}]}]}]}]}]}]},fi]}]},Br]},{[y]:[j,Z,{[m]:I,[u]:[{[m]:oe,[u]:[$c,"scheme"]},"http"]},{[m]:Wp,[u]:[wt,!0]},K,X,fe],[l]:C,[g]:[{[y]:Mr,[l]:C,[g]:[{[l]:C,[g]:[{[y]:Hy,[l]:C,[g]:[py]},fi]}]},Br]},{[y]:[{[m]:rg,[u]:bk,[ue]:og}],[l]:C,[g]:[{[y]:[{[m]:oe,[u]:[Be,"resourceId[0]"],[ue]:sg},{[m]:se,[u]:[{[m]:I,[u]:[dg,hi]}]}],[l]:C,[g]:[{[l]:C,[g]:[{[y]:[{[m]:I,[u]:[Ec,zc]}],[l]:C,[g]:[{[y]:Nc,[l]:C,[g]:[{[l]:C,[g]:[{[y]:Vy,[l]:C,[g]:[{[l]:C,[g]:[xy,{[l]:C,[g]:[wy,{[l]:C,[g]:[{[y]:Ic,[l]:C,[g]:[{[l]:C,[g]:[Ey,{[l]:C,[g]:[{[y]:Yy,[l]:C,[g]:[{[l]:C,[g]:[bc,{[l]:C,[g]:[{[y]:Pc,[l]:C,[g]:[{[l]:C,[g]:[{[y]:Mr,[l]:C,[g]:[{[l]:C,[g]:[{[y]:Qy,[l]:C,[g]:[{[l]:C,[g]:[{[y]:vc,[l]:C,[g]:[{[l]:C,[g]:[{[y]:[{[m]:I,[u]:[lg,hi]}],error:"Invalid ARN: Missing account id",[l]:R},{[l]:C,[g]:[{[y]:Oc,[l]:C,[g]:[{[l]:C,[g]:[{[y]:Xy,[l]:C,[g]:[{[l]:C,[g]:[by,{[l]:C,[g]:[{[y]:Po,endpoint:{[k]:Yp,[A]:Sc,[_]:de},[l]:w},{[y]:mi,endpoint:{[k]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[A]:Sc,[_]:de},[l]:w},{endpoint:{[k]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[A]:Sc,[_]:de},[l]:w}]}]}]},Sy]}]},kc]}]}]},Ac]}]},_c]}]},Br]}]},ky]}]}]},Ay]}]}]},_y]}]}]}]},Ry]}]},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[l]:R}]},{[y]:Nc,[l]:C,[g]:[{[y]:Vy,[l]:C,[g]:[{[l]:C,[g]:[{[y]:Ic,[l]:C,[g]:[{[y]:Nc,[l]:C,[g]:[{[y]:Ic,[l]:C,[g]:[{[l]:C,[g]:[Ey,{[l]:C,[g]:[{[y]:Yy,[l]:C,[g]:[{[l]:C,[g]:[bc,{[l]:C,[g]:[{[y]:Pc,[l]:C,[g]:[{[l]:C,[g]:[{[y]:Mr,[l]:C,[g]:[{[l]:C,[g]:[{[y]:[{[m]:I,[u]:[qc,"{partitionResult#name}"]}],[l]:C,[g]:[{[l]:C,[g]:[{[y]:vc,[l]:C,[g]:[{[l]:C,[g]:[{[y]:[{[m]:I,[u]:[Ec,z]}],[l]:C,[g]:[{[l]:C,[g]:[{[y]:Oc,[l]:C,[g]:[{[l]:C,[g]:[{[y]:Xy,[l]:C,[g]:[{[l]:C,[g]:[{[y]:Tc,error:"Access Points do not support S3 Accelerate",[l]:R},{[l]:C,[g]:[by,{[l]:C,[g]:[{[y]:kk,error:"DualStack cannot be combined with a Host override (PrivateLink)",[l]:R},{[l]:C,[g]:[{[y]:[re,ee],endpoint:{[k]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[A]:To,[_]:de},[l]:w},{[y]:[re,X],endpoint:{[k]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[A]:To,[_]:de},[l]:w},{[y]:[K,ee],endpoint:{[k]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[A]:To,[_]:de},[l]:w},{[y]:[K,X,j,Z],endpoint:{[k]:Yp,[A]:To,[_]:de},[l]:w},{[y]:[K,X],endpoint:{[k]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[A]:To,[_]:de},[l]:w}]}]}]}]}]},Sy]}]},kc]}]},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[l]:R}]}]},Ac]}]},_c]}]},Br]}]},ky]}]}]},Ay]}]}]},_y]}]},{[l]:C,[g]:[{[y]:[{[m]:Fr,[u]:[jc,!0]}],[l]:C,[g]:[{[l]:C,[g]:[{[y]:Wy,error:"S3 MRAP does not support dual-stack",[l]:R},{[l]:C,[g]:[{[y]:mi,error:"S3 MRAP does not support FIPS",[l]:R},{[l]:C,[g]:[{[y]:Tc,error:"S3 MRAP does not support S3 Accelerate",[l]:R},{[l]:C,[g]:[{[y]:[{[m]:S,[u]:[{[x]:"DisableMultiRegionAccessPoints"},!0]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[l]:R},{[l]:C,[g]:[{[y]:[{[m]:vo,[u]:ui,[ue]:Qp}],[l]:C,[g]:[{[l]:C,[g]:[{[y]:[{[m]:I,[u]:[{[m]:oe,[u]:[{[x]:Qp},O]},{[m]:oe,[u]:[Be,"partition"]}]}],[l]:C,[g]:[{endpoint:{[k]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[A]:{[B]:[{[M]:!0,name:"sigv4a",[F]:z,signingRegionSet:["*"]}]},[_]:de},[l]:w}]},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[l]:R}]}]},{error:"{Region} was not a valid region",[l]:R}]}]}]}]}]}]},{error:"Invalid Access Point Name",[l]:R}]}]}]},Ry]},{[y]:[{[m]:I,[u]:[Ec,Lc]}],[l]:C,[g]:[{[y]:Wy,error:"S3 Outposts does not support Dual-stack",[l]:R},{[l]:C,[g]:[{[y]:mi,error:"S3 Outposts does not support FIPS",[l]:R},{[l]:C,[g]:[{[y]:Tc,error:"S3 Outposts does not support S3 Accelerate",[l]:R},{[l]:C,[g]:[{[y]:[{[m]:Me,[u]:[{[m]:oe,[u]:[Be,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[l]:R},{[l]:C,[g]:[{[y]:[{[m]:oe,[u]:Ak,[ue]:Bc}],[l]:C,[g]:[{[l]:C,[g]:[{[y]:jy,[l]:C,[g]:[{[l]:C,[g]:[bc,{[l]:C,[g]:[{[y]:Pc,[l]:C,[g]:[{[l]:C,[g]:[{[y]:Mr,[l]:C,[g]:[{[l]:C,[g]:[{[y]:Qy,[l]:C,[g]:[{[l]:C,[g]:[{[y]:vc,[l]:C,[g]:[{[l]:C,[g]:[{[y]:Oc,[l]:C,[g]:[{[l]:C,[g]:[{[y]:[{[m]:oe,[u]:_k,[ue]:Xp}],[l]:C,[g]:[{[l]:C,[g]:[{[y]:[{[m]:oe,[u]:[Be,"resourceId[3]"],[ue]:Uc}],[l]:C,[g]:[{[l]:C,[g]:[{[y]:[{[m]:I,[u]:[{[x]:Xp},ig]}],[l]:C,[g]:[{[l]:C,[g]:[{[y]:Po,endpoint:{[k]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[A]:Ny,[_]:de},[l]:w},{endpoint:{[k]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[A]:Ny,[_]:de},[l]:w}]}]},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[l]:R}]}]},{error:"Invalid ARN: expected an access point name",[l]:R}]}]},{error:"Invalid ARN: Expected a 4-component resource",[l]:R}]}]},kc]}]},Ac]}]},_c]}]},Br]}]},{error:"Could not load partition for ARN region {bucketArn#region}",[l]:R}]}]}]},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[l]:R}]}]},{error:"Invalid ARN: The Outpost Id was not set",[l]:R}]}]}]}]}]},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[l]:R}]}]},{error:"Invalid ARN: No ARN type specified",[l]:R}]},{[y]:[{[m]:Ro,[u]:[wt,0,4,!1],[ue]:Jp},{[m]:I,[u]:[{[x]:Jp},"arn:"]},{[m]:se,[u]:[{[m]:Me,[u]:Gy}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[l]:R},ry]}]},{[y]:[{[m]:Me,[u]:[Ty]},{[m]:S,[u]:[Ty,!0]}],[l]:C,[g]:[{[y]:Mr,[l]:C,[g]:[{[l]:C,[g]:[{[y]:Jy,[l]:C,[g]:[{[l]:C,[g]:[xy,{[l]:C,[g]:[wy,{[l]:C,[g]:[Cc,{[l]:C,[g]:[{[y]:Po,endpoint:{[k]:Lr,[A]:Rc,[_]:de},[l]:w},{[y]:mi,endpoint:{[k]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[A]:Rc,[_]:de},[l]:w},{endpoint:{[k]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[A]:Rc,[_]:de},[l]:w}]}]}]}]}]},fi]}]},Br]},{[y]:[{[m]:se,[u]:Ky}],[l]:C,[g]:[{[y]:Mr,[l]:C,[g]:[{[l]:C,[g]:[{[y]:Jy,[l]:C,[g]:[{[l]:C,[g]:[Cc,{[l]:C,[g]:[Iy,Iy,{[y]:[re,ee,j,Z,V,we],[l]:C,[g]:Dc},{[y]:[re,ee,j,Z,V,Ee],endpoint:Io,[l]:w},Py,Py,{[y]:[re,ee,U,V,we],[l]:C,[g]:[{endpoint:vy,[l]:w}]},{[y]:[re,ee,U,V,Ee],endpoint:vy,[l]:w},Oy,Oy,{[y]:[re,X,j,Z,V,we],[l]:C,[g]:Dc},{[y]:[re,X,j,Z,V,Ee],endpoint:Io,[l]:w},Dy,Dy,{[y]:[re,X,U,V,we],[l]:C,[g]:[{endpoint:By,[l]:w}]},{[y]:[re,X,U,V,Ee],endpoint:By,[l]:w},My,My,{[y]:[K,ee,j,Z,V,we],[l]:C,[g]:Dc},{[y]:[K,ee,j,Z,V,Ee],endpoint:Io,[l]:w},Fy,Fy,{[y]:[K,ee,U,V,we],[l]:C,[g]:[{endpoint:Ly,[l]:w}]},{[y]:[K,ee,U,V,Ee],endpoint:Ly,[l]:w},zy,zy,{[y]:[K,X,j,Z,V,we],[l]:C,[g]:[{[y]:$n,endpoint:Io,[l]:w},fg]},{[y]:[K,X,j,Z,V,Ee],endpoint:Io,[l]:w},Uy,Uy,{[y]:[K,X,U,V,we],[l]:C,[g]:[{[y]:$n,endpoint:{[k]:ag,[A]:be,[_]:de},[l]:w},{endpoint:$y,[l]:w}]},{[y]:[K,X,U,V,Ee],endpoint:$y,[l]:w}]}]}]},fi]}]},Br]}]}]},{error:"A region must be set when sending requests to S3.",[l]:R}]}]},mg=Rk;var ug=(e,t={})=>cr(mg,{endpointParams:e,logger:t.logger});var hg=e=>({apiVersion:"2006-03-01",base64Decoder:(e==null?void 0:e.base64Decoder)??hr,base64Encoder:(e==null?void 0:e.base64Encoder)??pr,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??ug,logger:(e==null?void 0:e.logger)??new ot,serviceId:(e==null?void 0:e.serviceId)??"S3",signerConstructor:(e==null?void 0:e.signerConstructor)??ci,signingEscapePath:(e==null?void 0:e.signingEscapePath)??!1,urlParser:(e==null?void 0:e.urlParser)??Ne,useArnRegion:(e==null?void 0:e.useArnRegion)??!1,utf8Decoder:(e==null?void 0:e.utf8Decoder)??ct,utf8Encoder:(e==null?void 0:e.utf8Encoder)??Ht});var pg=e=>{jt(process.version);let t=yr(e),r=()=>t().then($t),n=hg(e);return{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??mr,credentialDefaultProvider:(e==null?void 0:e.credentialDefaultProvider)??_p(ni),defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??ur({serviceId:n.serviceId,clientVersion:Lm.version}),eventStreamSerdeProvider:(e==null?void 0:e.eventStreamSerdeProvider)??Lp,getAwsChunkedEncodingStream:(e==null?void 0:e.getAwsChunkedEncodingStream)??qp,maxAttempts:(e==null?void 0:e.maxAttempts)??H(tr),md5:(e==null?void 0:e.md5)??Ve.bind(null,"md5"),region:(e==null?void 0:e.region)??H(lt,Yt),requestHandler:(e==null?void 0:e.requestHandler)??new ht(r),retryMode:(e==null?void 0:e.retryMode)??H({...nr,default:async()=>(await r()).retryMode||mt}),sdkStreamMixin:(e==null?void 0:e.sdkStreamMixin)??Hp,sha1:(e==null?void 0:e.sha1)??Ve.bind(null,"sha1"),sha256:(e==null?void 0:e.sha256)??Ve.bind(null,"sha256"),streamCollector:(e==null?void 0:e.streamCollector)??pt,streamHasher:(e==null?void 0:e.streamHasher)??Up,useArnRegion:(e==null?void 0:e.useArnRegion)??H($p),useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??H(Vt),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??H(Wt)}};var pi=class extends st{constructor(t){let r=pg(t),n=Fm(r),o=Qt(n),s=zt(o),i=rr(s),a=i,c=Ss(a),d=Ql(c),f=ir(d),h=Of(f);super(h),this.config=h,this.middlewareStack.use(or(this.config)),this.middlewareStack.use(Xt(this.config)),this.middlewareStack.use(Jt(this.config)),this.middlewareStack.use(Zt(this.config)),this.middlewareStack.use(er(this.config)),this.middlewareStack.use(As(this.config)),this.middlewareStack.use(Xl(this.config)),this.middlewareStack.use(Bf(this.config)),this.middlewareStack.use(dr(this.config))}destroy(){super.destroy()}};var gg=new pi({});async function Nk(){try{let e=(0,zr.getInput)("bucket",{required:!0}),t=(0,zr.getMultilineInput)("path",{required:!0}),r=(0,zr.getInput)("prefix"),n=(await Promise.all(t.map(async i=>Cg(e,[r,i].filter(Boolean).join("/"))))).flat(),o=Array.from(new Set(n)).filter((i,a,c)=>!c.some(d=>i!==d&&d.startsWith(i))),s=0;await Promise.all(o.map(async i=>{let a=(0,yi.join)(process.cwd(),r.length?i.slice(i.indexOf("/")+1):i);if(a.at(-1)==="/"){await(0,Kc.mkdir)(a,{recursive:!0}),console.info("Created directory:",a);return}let d=new nn({Bucket:e,Key:i}),f=await gg.send(d);if(f.Body!==void 0){await(0,Kc.mkdir)((0,yi.dirname)(a),{recursive:!0});let h=(0,yg.createWriteStream)(a);f.Body.pipe(h),s++,console.info("Downloaded:",a)}})),console.log("### Total files downloaded:",s,"###")}catch(e){e instanceof Error&&(0,zr.setFailed)(e)}}async function Cg(e,t,r){let n=new on({Bucket:e,Prefix:t,ContinuationToken:r}),o=await gg.send(n),s=(o.Contents??[]).map(i=>i.Key??"").filter(Boolean);return o.IsTruncated?s.concat(await Cg(e,t,o.NextContinuationToken)):s}Nk();
/*! Bundled license information:

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)
*/
