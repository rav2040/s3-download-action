"use strict";var by=Object.create;var ho=Object.defineProperty;var Sy=Object.getOwnPropertyDescriptor;var ky=Object.getOwnPropertyNames;var _y=Object.getPrototypeOf,Ay=Object.prototype.hasOwnProperty;var ce=(e,t)=>()=>(e&&(t=e(e=0)),t);var H=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Tn=(e,t)=>{for(var r in t)ho(e,r,{get:t[r],enumerable:!0})},uc=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of ky(t))!Ay.call(e,o)&&o!==r&&ho(e,o,{get:()=>t[o],enumerable:!(n=Sy(t,o))||n.enumerable});return e};var Tt=(e,t,r)=>(r=e!=null?by(_y(e)):{},uc(t||!e||!e.__esModule?ho(r,"default",{value:e,enumerable:!0}):r,e)),po=e=>uc(ho({},"__esModule",{value:!0}),e);var yo=H(Pr=>{"use strict";Object.defineProperty(Pr,"__esModule",{value:!0});Pr.toCommandProperties=Pr.toCommandValue=void 0;function Ry(e){return e==null?"":typeof e=="string"||e instanceof String?e:JSON.stringify(e)}Pr.toCommandValue=Ry;function Ny(e){return Object.keys(e).length?{title:e.title,file:e.file,line:e.startLine,endLine:e.endLine,col:e.startColumn,endColumn:e.endColumn}:{}}Pr.toCommandProperties=Ny});var gc=H(ve=>{"use strict";var Ty=ve&&ve.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Iy=ve&&ve.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Py=ve&&ve.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Ty(t,e,r);return Iy(t,e),t};Object.defineProperty(ve,"__esModule",{value:!0});ve.issue=ve.issueCommand=void 0;var vy=Py(require("os")),pc=yo();function yc(e,t,r){let n=new Ws(e,t,r);process.stdout.write(n.toString()+vy.EOL)}ve.issueCommand=yc;function Oy(e,t=""){yc(e,{},t)}ve.issue=Oy;var hc="::",Ws=class{constructor(t,r,n){t||(t="missing.command"),this.command=t,this.properties=r,this.message=n}toString(){let t=hc+this.command;if(this.properties&&Object.keys(this.properties).length>0){t+=" ";let r=!0;for(let n in this.properties)if(this.properties.hasOwnProperty(n)){let o=this.properties[n];o&&(r?r=!1:t+=",",t+=`${n}=${By(o)}`)}}return t+=`${hc}${Dy(this.message)}`,t}};function Dy(e){return pc.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function By(e){return pc.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}});function In(){return go>Co.length-16&&(Cc.default.randomFillSync(Co),go=0),Co.slice(go,go+=16)}var Cc,Co,go,Ys=ce(()=>{Cc=Tt(require("crypto")),Co=new Uint8Array(256),go=Co.length});var xc,wc=ce(()=>{xc=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function My(e){return typeof e=="string"&&xc.test(e)}var It,Pn=ce(()=>{wc();It=My});function Fy(e,t=0){let r=(ue[e[t+0]]+ue[e[t+1]]+ue[e[t+2]]+ue[e[t+3]]+"-"+ue[e[t+4]]+ue[e[t+5]]+"-"+ue[e[t+6]]+ue[e[t+7]]+"-"+ue[e[t+8]]+ue[e[t+9]]+"-"+ue[e[t+10]]+ue[e[t+11]]+ue[e[t+12]]+ue[e[t+13]]+ue[e[t+14]]+ue[e[t+15]]).toLowerCase();if(!It(r))throw TypeError("Stringified UUID is invalid");return r}var ue,Pt,vn=ce(()=>{Pn();ue=[];for(let e=0;e<256;++e)ue.push((e+256).toString(16).substr(1));Pt=Fy});function Ly(e,t,r){let n=t&&r||0,o=t||new Array(16);e=e||{};let s=e.node||Ec,i=e.clockseq!==void 0?e.clockseq:Qs;if(s==null||i==null){let y=e.random||(e.rng||In)();s==null&&(s=Ec=[y[0]|1,y[1],y[2],y[3],y[4],y[5]]),i==null&&(i=Qs=(y[6]<<8|y[7])&16383)}let a=e.msecs!==void 0?e.msecs:Date.now(),c=e.nsecs!==void 0?e.nsecs:Js+1,d=a-Xs+(c-Js)/1e4;if(d<0&&e.clockseq===void 0&&(i=i+1&16383),(d<0||a>Xs)&&e.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Xs=a,Js=c,Qs=i,a+=122192928e5;let f=((a&268435455)*1e4+c)%4294967296;o[n++]=f>>>24&255,o[n++]=f>>>16&255,o[n++]=f>>>8&255,o[n++]=f&255;let h=a/4294967296*1e4&268435455;o[n++]=h>>>8&255,o[n++]=h&255,o[n++]=h>>>24&15|16,o[n++]=h>>>16&255,o[n++]=i>>>8|128,o[n++]=i&255;for(let y=0;y<6;++y)o[n+y]=s[y];return t||Pt(o)}var Ec,Qs,Xs,Js,bc,Sc=ce(()=>{Ys();vn();Xs=0,Js=0;bc=Ly});function zy(e){if(!It(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var xo,Zs=ce(()=>{Pn();xo=zy});function Uy(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}function wo(e,t,r){function n(o,s,i,a){if(typeof o=="string"&&(o=Uy(o)),typeof s=="string"&&(s=xo(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+o.length);if(c.set(s),c.set(o,s.length),c=r(c),c[6]=c[6]&15|t,c[8]=c[8]&63|128,i){a=a||0;for(let d=0;d<16;++d)i[a+d]=c[d];return i}return Pt(c)}try{n.name=e}catch{}return n.DNS=$y,n.URL=jy,n}var $y,jy,ei=ce(()=>{vn();Zs();$y="6ba7b810-9dad-11d1-80b4-00c04fd430c8",jy="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function qy(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),kc.default.createHash("md5").update(e).digest()}var kc,_c,Ac=ce(()=>{kc=Tt(require("crypto"));_c=qy});var Ky,Rc,Nc=ce(()=>{ei();Ac();Ky=wo("v3",48,_c),Rc=Ky});function Gy(e,t,r){e=e||{};let n=e.random||(e.rng||In)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let o=0;o<16;++o)t[r+o]=n[o];return t}return Pt(n)}var Eo,Tc=ce(()=>{Ys();vn();Eo=Gy});function Hy(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),Ic.default.createHash("sha1").update(e).digest()}var Ic,Pc,vc=ce(()=>{Ic=Tt(require("crypto"));Pc=Hy});var Vy,Oc,Dc=ce(()=>{ei();vc();Vy=wo("v5",80,Pc),Oc=Vy});var Bc,Mc=ce(()=>{Bc="00000000-0000-0000-0000-000000000000"});function Wy(e){if(!It(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}var Fc,Lc=ce(()=>{Pn();Fc=Wy});var zc={};Tn(zc,{NIL:()=>Bc,parse:()=>xo,stringify:()=>Pt,v1:()=>bc,v3:()=>Rc,v4:()=>Eo,v5:()=>Oc,validate:()=>It,version:()=>Fc});var ti=ce(()=>{Sc();Nc();Tc();Dc();Mc();Lc();Pn();vn();Zs()});var qc=H(Oe=>{"use strict";var Yy=Oe&&Oe.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Qy=Oe&&Oe.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),$c=Oe&&Oe.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Yy(t,e,r);return Qy(t,e),t};Object.defineProperty(Oe,"__esModule",{value:!0});Oe.prepareKeyValueMessage=Oe.issueFileCommand=void 0;var Uc=$c(require("fs")),ri=$c(require("os")),Xy=(ti(),po(zc)),jc=yo();function Jy(e,t){let r=process.env[`GITHUB_${e}`];if(!r)throw new Error(`Unable to find environment variable for file command ${e}`);if(!Uc.existsSync(r))throw new Error(`Missing file at path: ${r}`);Uc.appendFileSync(r,`${jc.toCommandValue(t)}${ri.EOL}`,{encoding:"utf8"})}Oe.issueFileCommand=Jy;function Zy(e,t){let r=`ghadelimiter_${Xy.v4()}`,n=jc.toCommandValue(t);if(e.includes(r))throw new Error(`Unexpected input: name should not contain the delimiter "${r}"`);if(n.includes(r))throw new Error(`Unexpected input: value should not contain the delimiter "${r}"`);return`${e}<<${r}${ri.EOL}${n}${ri.EOL}${r}`}Oe.prepareKeyValueMessage=Zy});var Gc=H(vr=>{"use strict";Object.defineProperty(vr,"__esModule",{value:!0});vr.checkBypass=vr.getProxyUrl=void 0;function eg(e){let t=e.protocol==="https:";if(Kc(e))return;let r=(()=>t?process.env.https_proxy||process.env.HTTPS_PROXY:process.env.http_proxy||process.env.HTTP_PROXY)();if(r)return new URL(r)}vr.getProxyUrl=eg;function Kc(e){if(!e.hostname)return!1;let t=e.hostname;if(tg(t))return!0;let r=process.env.no_proxy||process.env.NO_PROXY||"";if(!r)return!1;let n;e.port?n=Number(e.port):e.protocol==="http:"?n=80:e.protocol==="https:"&&(n=443);let o=[e.hostname.toUpperCase()];typeof n=="number"&&o.push(`${o[0]}:${n}`);for(let s of r.split(",").map(i=>i.trim().toUpperCase()).filter(i=>i))if(s==="*"||o.some(i=>i===s||i.endsWith(`.${s}`)||s.startsWith(".")&&i.endsWith(`${s}`)))return!0;return!1}vr.checkBypass=Kc;function tg(e){let t=e.toLowerCase();return t==="localhost"||t.startsWith("127.")||t.startsWith("[::1]")||t.startsWith("[0:0:0:0:0:0:0:1]")}});var Yc=H(Or=>{"use strict";var z0=require("net"),rg=require("tls"),ni=require("http"),Hc=require("https"),ng=require("events"),U0=require("assert"),og=require("util");Or.httpOverHttp=sg;Or.httpsOverHttp=ig;Or.httpOverHttps=ag;Or.httpsOverHttps=cg;function sg(e){var t=new gt(e);return t.request=ni.request,t}function ig(e){var t=new gt(e);return t.request=ni.request,t.createSocket=Vc,t.defaultPort=443,t}function ag(e){var t=new gt(e);return t.request=Hc.request,t}function cg(e){var t=new gt(e);return t.request=Hc.request,t.createSocket=Vc,t.defaultPort=443,t}function gt(e){var t=this;t.options=e||{},t.proxyOptions=t.options.proxy||{},t.maxSockets=t.options.maxSockets||ni.Agent.defaultMaxSockets,t.requests=[],t.sockets=[],t.on("free",function(n,o,s,i){for(var a=Wc(o,s,i),c=0,d=t.requests.length;c<d;++c){var f=t.requests[c];if(f.host===a.host&&f.port===a.port){t.requests.splice(c,1),f.request.onSocket(n);return}}n.destroy(),t.removeSocket(n)})}og.inherits(gt,ng.EventEmitter);gt.prototype.addRequest=function(t,r,n,o){var s=this,i=oi({request:t},s.options,Wc(r,n,o));if(s.sockets.length>=this.maxSockets){s.requests.push(i);return}s.createSocket(i,function(a){a.on("free",c),a.on("close",d),a.on("agentRemove",d),t.onSocket(a);function c(){s.emit("free",a,i)}function d(f){s.removeSocket(a),a.removeListener("free",c),a.removeListener("close",d),a.removeListener("agentRemove",d)}})};gt.prototype.createSocket=function(t,r){var n=this,o={};n.sockets.push(o);var s=oi({},n.proxyOptions,{method:"CONNECT",path:t.host+":"+t.port,agent:!1,headers:{host:t.host+":"+t.port}});t.localAddress&&(s.localAddress=t.localAddress),s.proxyAuth&&(s.headers=s.headers||{},s.headers["Proxy-Authorization"]="Basic "+new Buffer(s.proxyAuth).toString("base64")),vt("making CONNECT request");var i=n.request(s);i.useChunkedEncodingByDefault=!1,i.once("response",a),i.once("upgrade",c),i.once("connect",d),i.once("error",f),i.end();function a(h){h.upgrade=!0}function c(h,y,E){process.nextTick(function(){d(h,y,E)})}function d(h,y,E){if(i.removeAllListeners(),y.removeAllListeners(),h.statusCode!==200){vt("tunneling socket could not be established, statusCode=%d",h.statusCode),y.destroy();var b=new Error("tunneling socket could not be established, statusCode="+h.statusCode);b.code="ECONNRESET",t.request.emit("error",b),n.removeSocket(o);return}if(E.length>0){vt("got illegal response body from proxy"),y.destroy();var b=new Error("got illegal response body from proxy");b.code="ECONNRESET",t.request.emit("error",b),n.removeSocket(o);return}return vt("tunneling connection has established"),n.sockets[n.sockets.indexOf(o)]=y,r(y)}function f(h){i.removeAllListeners(),vt(`tunneling socket could not be established, cause=%s
`,h.message,h.stack);var y=new Error("tunneling socket could not be established, cause="+h.message);y.code="ECONNRESET",t.request.emit("error",y),n.removeSocket(o)}};gt.prototype.removeSocket=function(t){var r=this.sockets.indexOf(t);if(r!==-1){this.sockets.splice(r,1);var n=this.requests.shift();n&&this.createSocket(n,function(o){n.request.onSocket(o)})}};function Vc(e,t){var r=this;gt.prototype.createSocket.call(r,e,function(n){var o=e.request.getHeader("host"),s=oi({},r.options,{socket:n,servername:o?o.replace(/:.*$/,""):e.host}),i=rg.connect(0,s);r.sockets[r.sockets.indexOf(n)]=i,t(i)})}function Wc(e,t,r){return typeof e=="string"?{host:e,port:t,localAddress:r}:e}function oi(e){for(var t=1,r=arguments.length;t<r;++t){var n=arguments[t];if(typeof n=="object")for(var o=Object.keys(n),s=0,i=o.length;s<i;++s){var a=o[s];n[a]!==void 0&&(e[a]=n[a])}}return e}var vt;process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?vt=function(){var e=Array.prototype.slice.call(arguments);typeof e[0]=="string"?e[0]="TUNNEL: "+e[0]:e.unshift("TUNNEL:"),console.error.apply(console,e)}:vt=function(){};Or.debug=vt});var Xc=H((j0,Qc)=>{Qc.exports=Yc()});var Zc=H(X=>{"use strict";var dg=X&&X.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),lg=X&&X.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Ao=X&&X.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&dg(t,e,r);return lg(t,e),t},de=X&&X.__awaiter||function(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(f){try{d(n.next(f))}catch(h){i(h)}}function c(f){try{d(n.throw(f))}catch(h){i(h)}}function d(f){f.done?s(f.value):o(f.value).then(a,c)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(X,"__esModule",{value:!0});X.HttpClient=X.isHttps=X.HttpClientResponse=X.HttpClientError=X.getProxyUrl=X.MediaTypes=X.Headers=X.HttpCodes=void 0;var bo=Ao(require("http")),si=Ao(require("https")),Jc=Ao(Gc()),So=Ao(Xc()),He;(function(e){e[e.OK=200]="OK",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.ResourceMoved=302]="ResourceMoved",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.SwitchProxy=306]="SwitchProxy",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.TooManyRequests=429]="TooManyRequests",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout"})(He=X.HttpCodes||(X.HttpCodes={}));var be;(function(e){e.Accept="accept",e.ContentType="content-type"})(be=X.Headers||(X.Headers={}));var Ot;(function(e){e.ApplicationJson="application/json"})(Ot=X.MediaTypes||(X.MediaTypes={}));function fg(e){let t=Jc.getProxyUrl(new URL(e));return t?t.href:""}X.getProxyUrl=fg;var mg=[He.MovedPermanently,He.ResourceMoved,He.SeeOther,He.TemporaryRedirect,He.PermanentRedirect],ug=[He.BadGateway,He.ServiceUnavailable,He.GatewayTimeout],hg=["OPTIONS","GET","DELETE","HEAD"],pg=10,yg=5,Dr=class extends Error{constructor(t,r){super(t),this.name="HttpClientError",this.statusCode=r,Object.setPrototypeOf(this,Dr.prototype)}};X.HttpClientError=Dr;var _o=class{constructor(t){this.message=t}readBody(){return de(this,void 0,void 0,function*(){return new Promise(t=>de(this,void 0,void 0,function*(){let r=Buffer.alloc(0);this.message.on("data",n=>{r=Buffer.concat([r,n])}),this.message.on("end",()=>{t(r.toString())})}))})}};X.HttpClientResponse=_o;function gg(e){return new URL(e).protocol==="https:"}X.isHttps=gg;var ii=class{constructor(t,r,n){this._ignoreSslError=!1,this._allowRedirects=!0,this._allowRedirectDowngrade=!1,this._maxRedirects=50,this._allowRetries=!1,this._maxRetries=1,this._keepAlive=!1,this._disposed=!1,this.userAgent=t,this.handlers=r||[],this.requestOptions=n,n&&(n.ignoreSslError!=null&&(this._ignoreSslError=n.ignoreSslError),this._socketTimeout=n.socketTimeout,n.allowRedirects!=null&&(this._allowRedirects=n.allowRedirects),n.allowRedirectDowngrade!=null&&(this._allowRedirectDowngrade=n.allowRedirectDowngrade),n.maxRedirects!=null&&(this._maxRedirects=Math.max(n.maxRedirects,0)),n.keepAlive!=null&&(this._keepAlive=n.keepAlive),n.allowRetries!=null&&(this._allowRetries=n.allowRetries),n.maxRetries!=null&&(this._maxRetries=n.maxRetries))}options(t,r){return de(this,void 0,void 0,function*(){return this.request("OPTIONS",t,null,r||{})})}get(t,r){return de(this,void 0,void 0,function*(){return this.request("GET",t,null,r||{})})}del(t,r){return de(this,void 0,void 0,function*(){return this.request("DELETE",t,null,r||{})})}post(t,r,n){return de(this,void 0,void 0,function*(){return this.request("POST",t,r,n||{})})}patch(t,r,n){return de(this,void 0,void 0,function*(){return this.request("PATCH",t,r,n||{})})}put(t,r,n){return de(this,void 0,void 0,function*(){return this.request("PUT",t,r,n||{})})}head(t,r){return de(this,void 0,void 0,function*(){return this.request("HEAD",t,null,r||{})})}sendStream(t,r,n,o){return de(this,void 0,void 0,function*(){return this.request(t,r,n,o)})}getJson(t,r={}){return de(this,void 0,void 0,function*(){r[be.Accept]=this._getExistingOrDefaultHeader(r,be.Accept,Ot.ApplicationJson);let n=yield this.get(t,r);return this._processResponse(n,this.requestOptions)})}postJson(t,r,n={}){return de(this,void 0,void 0,function*(){let o=JSON.stringify(r,null,2);n[be.Accept]=this._getExistingOrDefaultHeader(n,be.Accept,Ot.ApplicationJson),n[be.ContentType]=this._getExistingOrDefaultHeader(n,be.ContentType,Ot.ApplicationJson);let s=yield this.post(t,o,n);return this._processResponse(s,this.requestOptions)})}putJson(t,r,n={}){return de(this,void 0,void 0,function*(){let o=JSON.stringify(r,null,2);n[be.Accept]=this._getExistingOrDefaultHeader(n,be.Accept,Ot.ApplicationJson),n[be.ContentType]=this._getExistingOrDefaultHeader(n,be.ContentType,Ot.ApplicationJson);let s=yield this.put(t,o,n);return this._processResponse(s,this.requestOptions)})}patchJson(t,r,n={}){return de(this,void 0,void 0,function*(){let o=JSON.stringify(r,null,2);n[be.Accept]=this._getExistingOrDefaultHeader(n,be.Accept,Ot.ApplicationJson),n[be.ContentType]=this._getExistingOrDefaultHeader(n,be.ContentType,Ot.ApplicationJson);let s=yield this.patch(t,o,n);return this._processResponse(s,this.requestOptions)})}request(t,r,n,o){return de(this,void 0,void 0,function*(){if(this._disposed)throw new Error("Client has already been disposed.");let s=new URL(r),i=this._prepareRequest(t,s,o),a=this._allowRetries&&hg.includes(t)?this._maxRetries+1:1,c=0,d;do{if(d=yield this.requestRaw(i,n),d&&d.message&&d.message.statusCode===He.Unauthorized){let h;for(let y of this.handlers)if(y.canHandleAuthentication(d)){h=y;break}return h?h.handleAuthentication(this,i,n):d}let f=this._maxRedirects;for(;d.message.statusCode&&mg.includes(d.message.statusCode)&&this._allowRedirects&&f>0;){let h=d.message.headers.location;if(!h)break;let y=new URL(h);if(s.protocol==="https:"&&s.protocol!==y.protocol&&!this._allowRedirectDowngrade)throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");if(yield d.readBody(),y.hostname!==s.hostname)for(let E in o)E.toLowerCase()==="authorization"&&delete o[E];i=this._prepareRequest(t,y,o),d=yield this.requestRaw(i,n),f--}if(!d.message.statusCode||!ug.includes(d.message.statusCode))return d;c+=1,c<a&&(yield d.readBody(),yield this._performExponentialBackoff(c))}while(c<a);return d})}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}requestRaw(t,r){return de(this,void 0,void 0,function*(){return new Promise((n,o)=>{function s(i,a){i?o(i):a?n(a):o(new Error("Unknown error"))}this.requestRawWithCallback(t,r,s)})})}requestRawWithCallback(t,r,n){typeof r=="string"&&(t.options.headers||(t.options.headers={}),t.options.headers["Content-Length"]=Buffer.byteLength(r,"utf8"));let o=!1;function s(c,d){o||(o=!0,n(c,d))}let i=t.httpModule.request(t.options,c=>{let d=new _o(c);s(void 0,d)}),a;i.on("socket",c=>{a=c}),i.setTimeout(this._socketTimeout||3*6e4,()=>{a&&a.end(),s(new Error(`Request timeout: ${t.options.path}`))}),i.on("error",function(c){s(c)}),r&&typeof r=="string"&&i.write(r,"utf8"),r&&typeof r!="string"?(r.on("close",function(){i.end()}),r.pipe(i)):i.end()}getAgent(t){let r=new URL(t);return this._getAgent(r)}_prepareRequest(t,r,n){let o={};o.parsedUrl=r;let s=o.parsedUrl.protocol==="https:";o.httpModule=s?si:bo;let i=s?443:80;if(o.options={},o.options.host=o.parsedUrl.hostname,o.options.port=o.parsedUrl.port?parseInt(o.parsedUrl.port):i,o.options.path=(o.parsedUrl.pathname||"")+(o.parsedUrl.search||""),o.options.method=t,o.options.headers=this._mergeHeaders(n),this.userAgent!=null&&(o.options.headers["user-agent"]=this.userAgent),o.options.agent=this._getAgent(o.parsedUrl),this.handlers)for(let a of this.handlers)a.prepareRequest(o.options);return o}_mergeHeaders(t){return this.requestOptions&&this.requestOptions.headers?Object.assign({},ko(this.requestOptions.headers),ko(t||{})):ko(t||{})}_getExistingOrDefaultHeader(t,r,n){let o;return this.requestOptions&&this.requestOptions.headers&&(o=ko(this.requestOptions.headers)[r]),t[r]||o||n}_getAgent(t){let r,n=Jc.getProxyUrl(t),o=n&&n.hostname;if(this._keepAlive&&o&&(r=this._proxyAgent),this._keepAlive&&!o&&(r=this._agent),r)return r;let s=t.protocol==="https:",i=100;if(this.requestOptions&&(i=this.requestOptions.maxSockets||bo.globalAgent.maxSockets),n&&n.hostname){let a={maxSockets:i,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(n.username||n.password)&&{proxyAuth:`${n.username}:${n.password}`}),{host:n.hostname,port:n.port})},c,d=n.protocol==="https:";s?c=d?So.httpsOverHttps:So.httpsOverHttp:c=d?So.httpOverHttps:So.httpOverHttp,r=c(a),this._proxyAgent=r}if(this._keepAlive&&!r){let a={keepAlive:this._keepAlive,maxSockets:i};r=s?new si.Agent(a):new bo.Agent(a),this._agent=r}return r||(r=s?si.globalAgent:bo.globalAgent),s&&this._ignoreSslError&&(r.options=Object.assign(r.options||{},{rejectUnauthorized:!1})),r}_performExponentialBackoff(t){return de(this,void 0,void 0,function*(){t=Math.min(pg,t);let r=yg*Math.pow(2,t);return new Promise(n=>setTimeout(()=>n(),r))})}_processResponse(t,r){return de(this,void 0,void 0,function*(){return new Promise((n,o)=>de(this,void 0,void 0,function*(){let s=t.message.statusCode||0,i={statusCode:s,result:null,headers:{}};s===He.NotFound&&n(i);function a(f,h){if(typeof h=="string"){let y=new Date(h);if(!isNaN(y.valueOf()))return y}return h}let c,d;try{d=yield t.readBody(),d&&d.length>0&&(r&&r.deserializeDates?c=JSON.parse(d,a):c=JSON.parse(d),i.result=c),i.headers=t.message.headers}catch{}if(s>299){let f;c&&c.message?f=c.message:d&&d.length>0?f=d:f=`Failed request: (${s})`;let h=new Dr(f,s);h.result=i.result,o(h)}else n(i)}))})}};X.HttpClient=ii;var ko=e=>Object.keys(e).reduce((t,r)=>(t[r.toLowerCase()]=e[r],t),{})});var ed=H(Je=>{"use strict";var li=Je&&Je.__awaiter||function(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(f){try{d(n.next(f))}catch(h){i(h)}}function c(f){try{d(n.throw(f))}catch(h){i(h)}}function d(f){f.done?s(f.value):o(f.value).then(a,c)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(Je,"__esModule",{value:!0});Je.PersonalAccessTokenCredentialHandler=Je.BearerCredentialHandler=Je.BasicCredentialHandler=void 0;var ai=class{constructor(t,r){this.username=t,this.password=r}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return li(this,void 0,void 0,function*(){throw new Error("not implemented")})}};Je.BasicCredentialHandler=ai;var ci=class{constructor(t){this.token=t}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Bearer ${this.token}`}canHandleAuthentication(){return!1}handleAuthentication(){return li(this,void 0,void 0,function*(){throw new Error("not implemented")})}};Je.BearerCredentialHandler=ci;var di=class{constructor(t){this.token=t}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return li(this,void 0,void 0,function*(){throw new Error("not implemented")})}};Je.PersonalAccessTokenCredentialHandler=di});var nd=H(Br=>{"use strict";var td=Br&&Br.__awaiter||function(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(f){try{d(n.next(f))}catch(h){i(h)}}function c(f){try{d(n.throw(f))}catch(h){i(h)}}function d(f){f.done?s(f.value):o(f.value).then(a,c)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(Br,"__esModule",{value:!0});Br.OidcClient=void 0;var Cg=Zc(),xg=ed(),rd=fi(),Dt=class{static createHttpClient(t=!0,r=10){let n={allowRetries:t,maxRetries:r};return new Cg.HttpClient("actions/oidc-client",[new xg.BearerCredentialHandler(Dt.getRequestToken())],n)}static getRequestToken(){let t=process.env.ACTIONS_ID_TOKEN_REQUEST_TOKEN;if(!t)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable");return t}static getIDTokenUrl(){let t=process.env.ACTIONS_ID_TOKEN_REQUEST_URL;if(!t)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable");return t}static getCall(t){var r;return td(this,void 0,void 0,function*(){let s=(r=(yield Dt.createHttpClient().getJson(t).catch(i=>{throw new Error(`Failed to get ID Token. 
 
        Error Code : ${i.statusCode}
 
        Error Message: ${i.result.message}`)})).result)===null||r===void 0?void 0:r.value;if(!s)throw new Error("Response json body do not have ID Token field");return s})}static getIDToken(t){return td(this,void 0,void 0,function*(){try{let r=Dt.getIDTokenUrl();if(t){let o=encodeURIComponent(t);r=`${r}&audience=${o}`}rd.debug(`ID token url is ${r}`);let n=yield Dt.getCall(r);return rd.setSecret(n),n}catch(r){throw new Error(`Error message: ${r.message}`)}})}};Br.OidcClient=Dt});var pi=H(ke=>{"use strict";var mi=ke&&ke.__awaiter||function(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(f){try{d(n.next(f))}catch(h){i(h)}}function c(f){try{d(n.throw(f))}catch(h){i(h)}}function d(f){f.done?s(f.value):o(f.value).then(a,c)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(ke,"__esModule",{value:!0});ke.summary=ke.markdownSummary=ke.SUMMARY_DOCS_URL=ke.SUMMARY_ENV_VAR=void 0;var wg=require("os"),ui=require("fs"),{access:Eg,appendFile:bg,writeFile:Sg}=ui.promises;ke.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY";ke.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";var hi=class{constructor(){this._buffer=""}filePath(){return mi(this,void 0,void 0,function*(){if(this._filePath)return this._filePath;let t=process.env[ke.SUMMARY_ENV_VAR];if(!t)throw new Error(`Unable to find environment variable for $${ke.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`);try{yield Eg(t,ui.constants.R_OK|ui.constants.W_OK)}catch{throw new Error(`Unable to access summary file: '${t}'. Check if the file has correct read/write permissions.`)}return this._filePath=t,this._filePath})}wrap(t,r,n={}){let o=Object.entries(n).map(([s,i])=>` ${s}="${i}"`).join("");return r?`<${t}${o}>${r}</${t}>`:`<${t}${o}>`}write(t){return mi(this,void 0,void 0,function*(){let r=!!(t!=null&&t.overwrite),n=yield this.filePath();return yield(r?Sg:bg)(n,this._buffer,{encoding:"utf8"}),this.emptyBuffer()})}clear(){return mi(this,void 0,void 0,function*(){return this.emptyBuffer().write({overwrite:!0})})}stringify(){return this._buffer}isEmptyBuffer(){return this._buffer.length===0}emptyBuffer(){return this._buffer="",this}addRaw(t,r=!1){return this._buffer+=t,r?this.addEOL():this}addEOL(){return this.addRaw(wg.EOL)}addCodeBlock(t,r){let n=Object.assign({},r&&{lang:r}),o=this.wrap("pre",this.wrap("code",t),n);return this.addRaw(o).addEOL()}addList(t,r=!1){let n=r?"ol":"ul",o=t.map(i=>this.wrap("li",i)).join(""),s=this.wrap(n,o);return this.addRaw(s).addEOL()}addTable(t){let r=t.map(o=>{let s=o.map(i=>{if(typeof i=="string")return this.wrap("td",i);let{header:a,data:c,colspan:d,rowspan:f}=i,h=a?"th":"td",y=Object.assign(Object.assign({},d&&{colspan:d}),f&&{rowspan:f});return this.wrap(h,c,y)}).join("");return this.wrap("tr",s)}).join(""),n=this.wrap("table",r);return this.addRaw(n).addEOL()}addDetails(t,r){let n=this.wrap("details",this.wrap("summary",t)+r);return this.addRaw(n).addEOL()}addImage(t,r,n){let{width:o,height:s}=n||{},i=Object.assign(Object.assign({},o&&{width:o}),s&&{height:s}),a=this.wrap("img",null,Object.assign({src:t,alt:r},i));return this.addRaw(a).addEOL()}addHeading(t,r){let n=`h${r}`,o=["h1","h2","h3","h4","h5","h6"].includes(n)?n:"h1",s=this.wrap(o,t);return this.addRaw(s).addEOL()}addSeparator(){let t=this.wrap("hr",null);return this.addRaw(t).addEOL()}addBreak(){let t=this.wrap("br",null);return this.addRaw(t).addEOL()}addQuote(t,r){let n=Object.assign({},r&&{cite:r}),o=this.wrap("blockquote",t,n);return this.addRaw(o).addEOL()}addLink(t,r){let n=this.wrap("a",t,{href:r});return this.addRaw(n).addEOL()}},od=new hi;ke.markdownSummary=od;ke.summary=od});var sd=H(_e=>{"use strict";var kg=_e&&_e.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),_g=_e&&_e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Ag=_e&&_e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&kg(t,e,r);return _g(t,e),t};Object.defineProperty(_e,"__esModule",{value:!0});_e.toPlatformPath=_e.toWin32Path=_e.toPosixPath=void 0;var Rg=Ag(require("path"));function Ng(e){return e.replace(/[\\]/g,"/")}_e.toPosixPath=Ng;function Tg(e){return e.replace(/[/]/g,"\\")}_e.toWin32Path=Tg;function Ig(e){return e.replace(/[/\\]/g,Rg.sep)}_e.toPlatformPath=Ig});var fi=H(P=>{"use strict";var Pg=P&&P.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),vg=P&&P.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),id=P&&P.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Pg(t,e,r);return vg(t,e),t},ad=P&&P.__awaiter||function(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(f){try{d(n.next(f))}catch(h){i(h)}}function c(f){try{d(n.throw(f))}catch(h){i(h)}}function d(f){f.done?s(f.value):o(f.value).then(a,c)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(P,"__esModule",{value:!0});P.getIDToken=P.getState=P.saveState=P.group=P.endGroup=P.startGroup=P.info=P.notice=P.warning=P.error=P.debug=P.isDebug=P.setFailed=P.setCommandEcho=P.setOutput=P.getBooleanInput=P.getMultilineInput=P.getInput=P.addPath=P.setSecret=P.exportVariable=P.ExitCode=void 0;var De=gc(),yr=qc(),Mr=yo(),cd=id(require("os")),Og=id(require("path")),Dg=nd(),dd;(function(e){e[e.Success=0]="Success",e[e.Failure=1]="Failure"})(dd=P.ExitCode||(P.ExitCode={}));function Bg(e,t){let r=Mr.toCommandValue(t);if(process.env[e]=r,process.env.GITHUB_ENV||"")return yr.issueFileCommand("ENV",yr.prepareKeyValueMessage(e,t));De.issueCommand("set-env",{name:e},r)}P.exportVariable=Bg;function Mg(e){De.issueCommand("add-mask",{},e)}P.setSecret=Mg;function Fg(e){process.env.GITHUB_PATH||""?yr.issueFileCommand("PATH",e):De.issueCommand("add-path",{},e),process.env.PATH=`${e}${Og.delimiter}${process.env.PATH}`}P.addPath=Fg;function yi(e,t){let r=process.env[`INPUT_${e.replace(/ /g,"_").toUpperCase()}`]||"";if(t&&t.required&&!r)throw new Error(`Input required and not supplied: ${e}`);return t&&t.trimWhitespace===!1?r:r.trim()}P.getInput=yi;function Lg(e,t){let r=yi(e,t).split(`
`).filter(n=>n!=="");return t&&t.trimWhitespace===!1?r:r.map(n=>n.trim())}P.getMultilineInput=Lg;function zg(e,t){let r=["true","True","TRUE"],n=["false","False","FALSE"],o=yi(e,t);if(r.includes(o))return!0;if(n.includes(o))return!1;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${e}
Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}P.getBooleanInput=zg;function Ug(e,t){if(process.env.GITHUB_OUTPUT||"")return yr.issueFileCommand("OUTPUT",yr.prepareKeyValueMessage(e,t));process.stdout.write(cd.EOL),De.issueCommand("set-output",{name:e},Mr.toCommandValue(t))}P.setOutput=Ug;function $g(e){De.issue("echo",e?"on":"off")}P.setCommandEcho=$g;function jg(e){process.exitCode=dd.Failure,ld(e)}P.setFailed=jg;function qg(){return process.env.RUNNER_DEBUG==="1"}P.isDebug=qg;function Kg(e){De.issueCommand("debug",{},e)}P.debug=Kg;function ld(e,t={}){De.issueCommand("error",Mr.toCommandProperties(t),e instanceof Error?e.toString():e)}P.error=ld;function Gg(e,t={}){De.issueCommand("warning",Mr.toCommandProperties(t),e instanceof Error?e.toString():e)}P.warning=Gg;function Hg(e,t={}){De.issueCommand("notice",Mr.toCommandProperties(t),e instanceof Error?e.toString():e)}P.notice=Hg;function Vg(e){process.stdout.write(e+cd.EOL)}P.info=Vg;function fd(e){De.issue("group",e)}P.startGroup=fd;function md(){De.issue("endgroup")}P.endGroup=md;function Wg(e,t){return ad(this,void 0,void 0,function*(){fd(e);let r;try{r=yield t()}finally{md()}return r})}P.group=Wg;function Yg(e,t){if(process.env.GITHUB_STATE||"")return yr.issueFileCommand("STATE",yr.prepareKeyValueMessage(e,t));De.issueCommand("save-state",{name:e},Mr.toCommandValue(t))}P.saveState=Yg;function Qg(e){return process.env[`STATE_${e}`]||""}P.getState=Qg;function Xg(e){return ad(this,void 0,void 0,function*(){return yield Dg.OidcClient.getIDToken(e)})}P.getIDToken=Xg;var Jg=pi();Object.defineProperty(P,"summary",{enumerable:!0,get:function(){return Jg.summary}});var Zg=pi();Object.defineProperty(P,"markdownSummary",{enumerable:!0,get:function(){return Zg.markdownSummary}});var gi=sd();Object.defineProperty(P,"toPosixPath",{enumerable:!0,get:function(){return gi.toPosixPath}});Object.defineProperty(P,"toWin32Path",{enumerable:!0,get:function(){return gi.toWin32Path}});Object.defineProperty(P,"toPlatformPath",{enumerable:!0,get:function(){return gi.toPlatformPath}})});var bi=H(xt=>{"use strict";var Md=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",RC=Md+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",Fd="["+Md+"]["+RC+"]*",NC=new RegExp("^"+Fd+"$"),TC=function(e,t){let r=[],n=t.exec(e);for(;n;){let o=[];o.startIndex=t.lastIndex-n[0].length;let s=n.length;for(let i=0;i<s;i++)o.push(n[i]);r.push(o),n=t.exec(e)}return r},IC=function(e){let t=NC.exec(e);return!(t===null||typeof t>"u")};xt.isExist=function(e){return typeof e<"u"};xt.isEmptyObject=function(e){return Object.keys(e).length===0};xt.merge=function(e,t,r){if(t){let n=Object.keys(t),o=n.length;for(let s=0;s<o;s++)r==="strict"?e[n[s]]=[t[n[s]]]:e[n[s]]=t[n[s]]}};xt.getValue=function(e){return xt.isExist(e)?e:""};xt.isName=IC;xt.getAllMatches=TC;xt.nameRegexp=Fd});var ki=H(jd=>{"use strict";var Si=bi(),PC={allowBooleanAttributes:!1,unpairedTags:[]};jd.validate=function(e,t){t=Object.assign({},PC,t);let r=[],n=!1,o=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let s=0;s<e.length;s++)if(e[s]==="<"&&e[s+1]==="?"){if(s+=2,s=zd(e,s),s.err)return s}else if(e[s]==="<"){let i=s;if(s++,e[s]==="!"){s=Ud(e,s);continue}else{let a=!1;e[s]==="/"&&(a=!0,s++);let c="";for(;s<e.length&&e[s]!==">"&&e[s]!==" "&&e[s]!=="	"&&e[s]!==`
`&&e[s]!=="\r";s++)c+=e[s];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),s--),!zC(c)){let h;return c.trim().length===0?h="Invalid space after '<'.":h="Tag '"+c+"' is an invalid name.",ie("InvalidTag",h,Re(e,s))}let d=DC(e,s);if(d===!1)return ie("InvalidAttr","Attributes for '"+c+"' have open quote.",Re(e,s));let f=d.value;if(s=d.index,f[f.length-1]==="/"){let h=s-f.length;f=f.substring(0,f.length-1);let y=$d(f,t);if(y===!0)n=!0;else return ie(y.err.code,y.err.msg,Re(e,h+y.err.line))}else if(a)if(d.tagClosed){if(f.trim().length>0)return ie("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",Re(e,i));{let h=r.pop();if(c!==h.tagName){let y=Re(e,h.tagStartPos);return ie("InvalidTag","Expected closing tag '"+h.tagName+"' (opened in line "+y.line+", col "+y.col+") instead of closing tag '"+c+"'.",Re(e,i))}r.length==0&&(o=!0)}}else return ie("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",Re(e,s));else{let h=$d(f,t);if(h!==!0)return ie(h.err.code,h.err.msg,Re(e,s-f.length+h.err.line));if(o===!0)return ie("InvalidXml","Multiple possible root nodes found.",Re(e,s));t.unpairedTags.indexOf(c)!==-1||r.push({tagName:c,tagStartPos:i}),n=!0}for(s++;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="!"){s++,s=Ud(e,s);continue}else if(e[s+1]==="?"){if(s=zd(e,++s),s.err)return s}else break;else if(e[s]==="&"){let h=FC(e,s);if(h==-1)return ie("InvalidChar","char '&' is not expected.",Re(e,s));s=h}else if(o===!0&&!Ld(e[s]))return ie("InvalidXml","Extra text at the end",Re(e,s));e[s]==="<"&&s--}}else{if(Ld(e[s]))continue;return ie("InvalidChar","char '"+e[s]+"' is not expected.",Re(e,s))}if(n){if(r.length==1)return ie("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",Re(e,r[0].tagStartPos));if(r.length>0)return ie("InvalidXml","Invalid '"+JSON.stringify(r.map(s=>s.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return ie("InvalidXml","Start tag expected.",1);return!0};function Ld(e){return e===" "||e==="	"||e===`
`||e==="\r"}function zd(e,t){let r=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){let n=e.substr(r,t-r);if(t>5&&n==="xml")return ie("InvalidXml","XML declaration allowed only at the start of the document.",Re(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function Ud(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let r=1;for(t+=8;t<e.length;t++)if(e[t]==="<")r++;else if(e[t]===">"&&(r--,r===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}var vC='"',OC="'";function DC(e,t){let r="",n="",o=!1;for(;t<e.length;t++){if(e[t]===vC||e[t]===OC)n===""?n=e[t]:n!==e[t]||(n="");else if(e[t]===">"&&n===""){o=!0;break}r+=e[t]}return n!==""?!1:{value:r,index:t,tagClosed:o}}var BC=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function $d(e,t){let r=Si.getAllMatches(e,BC),n={};for(let o=0;o<r.length;o++){if(r[o][1].length===0)return ie("InvalidAttr","Attribute '"+r[o][2]+"' has no space in starting.",Fn(r[o]));if(r[o][3]!==void 0&&r[o][4]===void 0)return ie("InvalidAttr","Attribute '"+r[o][2]+"' is without value.",Fn(r[o]));if(r[o][3]===void 0&&!t.allowBooleanAttributes)return ie("InvalidAttr","boolean attribute '"+r[o][2]+"' is not allowed.",Fn(r[o]));let s=r[o][2];if(!LC(s))return ie("InvalidAttr","Attribute '"+s+"' is an invalid name.",Fn(r[o]));if(!n.hasOwnProperty(s))n[s]=1;else return ie("InvalidAttr","Attribute '"+s+"' is repeated.",Fn(r[o]))}return!0}function MC(e,t){let r=/\d/;for(e[t]==="x"&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(r))break}return-1}function FC(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,MC(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(e[t]===";")break;return-1}return t}function ie(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function LC(e){return Si.isName(e)}function zC(e){return Si.isName(e)}function Re(e,t){let r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function Fn(e){return e.startIndex+e[1].length}});var Kd=H(_i=>{var qd={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1},UC=function(e){return Object.assign({},qd,e)};_i.buildOptions=UC;_i.defaultOptions=qd});var Hd=H((dA,Gd)=>{"use strict";var Ai=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,r){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:r})}addChild(t){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,[":@"]:t[":@"]}):this.child.push({[t.tagname]:t.child})}};Gd.exports=Ai});var Wd=H((lA,Vd)=>{function $C(e,t){let r={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let n=1,o=!1,s=!1,i=!1,a="";for(;t<e.length;t++)if(e[t]==="<"&&!i){if(o&&e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="N"&&e[t+4]==="T"&&e[t+5]==="I"&&e[t+6]==="T"&&e[t+7]==="Y")t+=7,s=!0;else if(o&&e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="L"&&e[t+4]==="E"&&e[t+5]==="M"&&e[t+6]==="E"&&e[t+7]==="N"&&e[t+8]==="T")t+=8;else if(o&&e[t+1]==="!"&&e[t+2]==="A"&&e[t+3]==="T"&&e[t+4]==="T"&&e[t+5]==="L"&&e[t+6]==="I"&&e[t+7]==="S"&&e[t+8]==="T")t+=8;else if(o&&e[t+1]==="!"&&e[t+2]==="N"&&e[t+3]==="O"&&e[t+4]==="T"&&e[t+5]==="A"&&e[t+6]==="T"&&e[t+7]==="I"&&e[t+8]==="O"&&e[t+9]==="N")t+=9;else if(e[t+1]==="!"&&e[t+2]==="-"&&e[t+3]==="-")i=!0;else throw new Error("Invalid DOCTYPE");n++,a=""}else if(e[t]===">"){if(i?e[t-1]==="-"&&e[t-2]==="-"&&(i=!1,n--):(s&&(qC(a,r),s=!1),n--),n===0)break}else e[t]==="["?o=!0:a+=e[t];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:t}}var jC=RegExp(`^\\s([a-zA-z0-0]+)[ 	](['"])([^&]+)\\2`);function qC(e,t){let r=jC.exec(e);r&&(t[r[1]]={regx:RegExp(`&${r[1]};`,"g"),val:r[3]})}Vd.exports=$C});var Qd=H((fA,Yd)=>{var KC=/^[-+]?0x[a-fA-F0-9]+$/,GC=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var HC={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function VC(e,t={}){if(t=Object.assign({},HC,t),!e||typeof e!="string")return e;let r=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(r))return e;if(t.hex&&KC.test(r))return Number.parseInt(r,16);{let n=GC.exec(r);if(n){let o=n[1],s=n[2],i=WC(n[3]),a=n[4]||n[6];if(!t.leadingZeros&&s.length>0&&o&&r[2]!==".")return e;if(!t.leadingZeros&&s.length>0&&!o&&r[1]!==".")return e;{let c=Number(r),d=""+c;return d.search(/[eE]/)!==-1||a?t.eNotation?c:e:r.indexOf(".")!==-1?d==="0"&&i===""||d===i||o&&d==="-"+i?c:e:s?i===d||o+i===d?c:e:r===d||r===o+d?c:e}}else return e}}function WC(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substr(0,e.length-1))),e}Yd.exports=VC});var Jd=H((uA,Xd)=>{"use strict";var Ii=bi(),Ln=Hd(),YC=Wd(),QC=Qd(),mA="<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,Ii.nameRegexp),Ri=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"}},this.addExternalEntities=XC,this.parseXml=rx,this.parseTextData=JC,this.resolveNameSpace=ZC,this.buildAttributesMap=tx,this.isItStopNode=sx,this.replaceEntitiesValue=nx,this.readStopNodeData=ax,this.saveTextToParentTag=ox}};function XC(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}function JC(e,t,r,n,o,s,i){if(e!==void 0&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){i||(e=this.replaceEntitiesValue(e));let a=this.options.tagValueProcessor(t,e,r,o,s);return a==null?e:typeof a!=typeof e||a!==e?a:this.options.trimValues?Ti(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?Ti(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function ZC(e){if(this.options.removeNSPrefix){let t=e.split(":"),r=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=r+t[1])}return e}var ex=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function tx(e,t){if(!this.options.ignoreAttributes&&typeof e=="string"){let r=Ii.getAllMatches(e,ex),n=r.length,o={};for(let s=0;s<n;s++){let i=this.resolveNameSpace(r[s][1]),a=r[s][4],c=this.options.attributeNamePrefix+i;if(i.length)if(this.options.transformAttributeName&&(c=this.options.transformAttributeName(c)),c==="__proto__"&&(c="#__proto__"),a!==void 0){this.options.trimValues&&(a=a.trim()),a=this.replaceEntitiesValue(a);let d=this.options.attributeValueProcessor(i,a,t);d==null?o[c]=a:typeof d!=typeof a||d!==a?o[c]=d:o[c]=Ti(a,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(o[c]=!0)}if(!Object.keys(o).length)return;if(this.options.attributesGroupName){let s={};return s[this.options.attributesGroupName]=o,s}return o}}var rx=function(e){e=e.replace(/\r\n?/g,`
`);let t=new Ln("!xml"),r=t,n="",o="";for(let s=0;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="/"){let a=Cr(e,">",s,"Closing Tag is not closed."),c=e.substring(s+2,a).trim();if(this.options.removeNSPrefix){let d=c.indexOf(":");d!==-1&&(c=c.substr(d+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&(n=this.saveTextToParentTag(n,r,o)),o=o.substr(0,o.lastIndexOf(".")),r=this.tagsNodeStack.pop(),n="",s=a}else if(e[s+1]==="?"){let a=Ni(e,s,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,o),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let c=new Ln(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,o)),r.addChild(c)}s=a.closeIndex+1}else if(e.substr(s+1,3)==="!--"){let a=Cr(e,"-->",s+4,"Comment is not closed.");if(this.options.commentPropName){let c=e.substring(s+4,a-2);n=this.saveTextToParentTag(n,r,o),r.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}s=a}else if(e.substr(s+1,2)==="!D"){let a=YC(e,s);this.docTypeEntities=a.entities,s=a.i}else if(e.substr(s+1,2)==="!["){let a=Cr(e,"]]>",s,"CDATA is not closed.")-2,c=e.substring(s+9,a);if(n=this.saveTextToParentTag(n,r,o),this.options.cdataPropName)r.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]);else{let d=this.parseTextData(c,r.tagname,o,!0,!1,!0);d==null&&(d=""),r.add(this.options.textNodeName,d)}s=a+2}else{let a=Ni(e,s,this.options.removeNSPrefix),c=a.tagName,d=a.tagExp,f=a.attrExpPresent,h=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,o,!1)),c!==t.tagname&&(o+=o?"."+c:c);let y=r;if(y&&this.options.unpairedTags.indexOf(y.tagname)!==-1&&(r=this.tagsNodeStack.pop()),this.isItStopNode(this.options.stopNodes,o,c)){let E="";if(d.length>0&&d.lastIndexOf("/")===d.length-1)s=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)s=a.closeIndex;else{let I=this.readStopNodeData(e,c,h+1);if(!I)throw new Error(`Unexpected end of ${c}`);s=I.i,E=I.tagContent}let b=new Ln(c);c!==d&&f&&(b[":@"]=this.buildAttributesMap(d,o)),E&&(E=this.parseTextData(E,c,o,!0,f,!0,!0)),o=o.substr(0,o.lastIndexOf(".")),b.add(this.options.textNodeName,E),r.addChild(b)}else{if(d.length>0&&d.lastIndexOf("/")===d.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),d=c):d=d.substr(0,d.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));let E=new Ln(c);c!==d&&f&&(E[":@"]=this.buildAttributesMap(d,o)),o=o.substr(0,o.lastIndexOf(".")),r.addChild(E)}else{let E=new Ln(c);this.tagsNodeStack.push(r),c!==d&&f&&(E[":@"]=this.buildAttributesMap(d,o)),r.addChild(E),r=E}n="",s=h}}else n+=e[s];return t.child},nx=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){let r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){let r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){let r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function ox(e,t,r,n){return e&&(n===void 0&&(n=Object.keys(t.child).length===0),e=this.parseTextData(e,t.tagname,r,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,n),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function sx(e,t,r){let n="*."+r;for(let o in e){let s=e[o];if(n===s||t===s)return!0}return!1}function ix(e,t,r=">"){let n,o="";for(let s=t;s<e.length;s++){let i=e[s];if(n)i===n&&(n="");else if(i==='"'||i==="'")n=i;else if(i===r[0])if(r[1]){if(e[s+1]===r[1])return{data:o,index:s}}else return{data:o,index:s};else i==="	"&&(i=" ");o+=i}}function Cr(e,t,r,n){let o=e.indexOf(t,r);if(o===-1)throw new Error(n);return o+t.length-1}function Ni(e,t,r,n=">"){let o=ix(e,t+1,n);if(!o)return;let s=o.data,i=o.index,a=s.search(/\s/),c=s,d=!0;if(a!==-1&&(c=s.substr(0,a).replace(/\s\s*$/,""),s=s.substr(a+1)),r){let f=c.indexOf(":");f!==-1&&(c=c.substr(f+1),d=c!==o.data.substr(f+1))}return{tagName:c,tagExp:s,closeIndex:i,attrExpPresent:d}}function ax(e,t,r){let n=r,o=1;for(;r<e.length;r++)if(e[r]==="<")if(e[r+1]==="/"){let s=Cr(e,">",r,`${t} is not closed`);if(e.substring(r+2,s).trim()===t&&(o--,o===0))return{tagContent:e.substring(n,r),i:s};r=s}else if(e[r+1]==="?")r=Cr(e,"?>",r+1,"StopNode is not closed.");else if(e.substr(r+1,3)==="!--")r=Cr(e,"-->",r+3,"StopNode is not closed.");else if(e.substr(r+1,2)==="![")r=Cr(e,"]]>",r,"StopNode is not closed.")-2;else{let s=Ni(e,r,">");s&&((s&&s.tagName)===t&&s.tagExp[s.tagExp.length-1]!=="/"&&o++,r=s.closeIndex)}}function Ti(e,t,r){if(t&&typeof e=="string"){let n=e.trim();return n==="true"?!0:n==="false"?!1:QC(e,r)}else return Ii.isExist(e)?e:""}Xd.exports=Ri});var tl=H(el=>{"use strict";function cx(e,t){return Zd(e,t)}function Zd(e,t,r){let n,o={};for(let s=0;s<e.length;s++){let i=e[s],a=dx(i),c="";if(r===void 0?c=a:c=r+"."+a,a===t.textNodeName)n===void 0?n=i[a]:n+=""+i[a];else{if(a===void 0)continue;if(i[a]){let d=Zd(i[a],t,c),f=fx(d,t);i[":@"]?lx(d,i[":@"],c,t):Object.keys(d).length===1&&d[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?d=d[t.textNodeName]:Object.keys(d).length===0&&(t.alwaysCreateTextNode?d[t.textNodeName]="":d=""),o[a]!==void 0&&o.hasOwnProperty(a)?(Array.isArray(o[a])||(o[a]=[o[a]]),o[a].push(d)):t.isArray(a,c,f)?o[a]=[d]:o[a]=d}}}return typeof n=="string"?n.length>0&&(o[t.textNodeName]=n):n!==void 0&&(o[t.textNodeName]=n),o}function dx(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function lx(e,t,r,n){if(t){let o=Object.keys(t),s=o.length;for(let i=0;i<s;i++){let a=o[i];n.isArray(a,r+"."+a,!0,!0)?e[a]=[t[a]]:e[a]=t[a]}}}function fx(e,t){let r=Object.keys(e).length;return!!(r===0||r===1&&e[t.textNodeName])}el.prettify=cx});var nl=H((pA,rl)=>{var{buildOptions:mx}=Kd(),ux=Jd(),{prettify:hx}=tl(),px=ki(),Pi=class{constructor(t){this.externalEntities={},this.options=mx(t)}parse(t,r){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let s=px.validate(t,r);if(s!==!0)throw Error(`${s.err.msg}:${s.err.line}:${s.err.col}`)}let n=new ux(this.options);n.addExternalEntities(this.externalEntities);let o=n.parseXml(t);return this.options.preserveOrder||o===void 0?o:hx(o,this.options)}addEntity(t,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=r}};rl.exports=Pi});var cl=H((yA,al)=>{var yx=`
`;function gx(e,t){let r="";return t.format&&t.indentBy.length>0&&(r=yx),sl(e,t,"",r)}function sl(e,t,r,n){let o="",s=!1;for(let i=0;i<e.length;i++){let a=e[i],c=Cx(a),d="";if(r.length===0?d=c:d=`${r}.${c}`,c===t.textNodeName){let b=a[c];xx(d,t)||(b=t.tagValueProcessor(c,b),b=il(b,t)),s&&(o+=n),o+=b,s=!1;continue}else if(c===t.cdataPropName){s&&(o+=n),o+=`<![CDATA[${a[c][0][t.textNodeName]}]]>`,s=!1;continue}else if(c===t.commentPropName){o+=n+`<!--${a[c][0][t.textNodeName]}-->`,s=!0;continue}else if(c[0]==="?"){let b=ol(a[":@"],t),I=c==="?xml"?"":n,v=a[c][0][t.textNodeName];v=v.length!==0?" "+v:"",o+=I+`<${c}${v}${b}?>`,s=!0;continue}let f=n;f!==""&&(f+=t.indentBy);let h=ol(a[":@"],t),y=n+`<${c}${h}`,E=sl(a[c],t,d,f);t.unpairedTags.indexOf(c)!==-1?t.suppressUnpairedNode?o+=y+">":o+=y+"/>":(!E||E.length===0)&&t.suppressEmptyNode?o+=y+"/>":E&&E.endsWith(">")?o+=y+`>${E}${n}</${c}>`:(o+=y+">",E&&n!==""&&(E.includes("/>")||E.includes("</"))?o+=n+t.indentBy+E+n:o+=E,o+=`</${c}>`),s=!0}return o}function Cx(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function ol(e,t){let r="";if(e&&!t.ignoreAttributes)for(let n in e){let o=t.attributeValueProcessor(n,e[n]);o=il(o,t),o===!0&&t.suppressBooleanAttributes?r+=` ${n.substr(t.attributeNamePrefix.length)}`:r+=` ${n.substr(t.attributeNamePrefix.length)}="${o}"`}return r}function xx(e,t){e=e.substr(0,e.length-t.textNodeName.length-1);let r=e.substr(e.lastIndexOf(".")+1);for(let n in t.stopNodes)if(t.stopNodes[n]===e||t.stopNodes[n]==="*."+r)return!0;return!1}function il(e,t){if(e&&e.length>0&&t.processEntities)for(let r=0;r<t.entities.length;r++){let n=t.entities[r];e=e.replace(n.regex,n.val)}return e}al.exports=gx});var ll=H((gA,dl)=>{"use strict";var wx=cl(),Ex={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[]};function Lt(e){this.options=Object.assign({},Ex,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=kx),this.processTextOrObjNode=bx,this.options.format?(this.indentate=Sx,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}Lt.prototype.build=function(e){return this.options.preserveOrder?wx(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0).val)};Lt.prototype.j2x=function(e,t){let r="",n="";for(let o in e)if(!(typeof e[o]>"u"))if(e[o]===null)o[0]==="?"?n+=this.indentate(t)+"<"+o+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+o+"/"+this.tagEndChar;else if(e[o]instanceof Date)n+=this.buildTextValNode(e[o],o,"",t);else if(typeof e[o]!="object"){let s=this.isAttribute(o);if(s)r+=this.buildAttrPairStr(s,""+e[o]);else if(o===this.options.textNodeName){let i=this.options.tagValueProcessor(o,""+e[o]);n+=this.replaceEntitiesValue(i)}else n+=this.buildTextValNode(e[o],o,"",t)}else if(Array.isArray(e[o])){let s=e[o].length;for(let i=0;i<s;i++){let a=e[o][i];typeof a>"u"||(a===null?o[0]==="?"?n+=this.indentate(t)+"<"+o+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+o+"/"+this.tagEndChar:typeof a=="object"?n+=this.processTextOrObjNode(a,o,t):n+=this.buildTextValNode(a,o,"",t))}}else if(this.options.attributesGroupName&&o===this.options.attributesGroupName){let s=Object.keys(e[o]),i=s.length;for(let a=0;a<i;a++)r+=this.buildAttrPairStr(s[a],""+e[o][s[a]])}else n+=this.processTextOrObjNode(e[o],o,t);return{attrStr:r,val:n}};Lt.prototype.buildAttrPairStr=function(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&t==="true"?" "+e:" "+e+'="'+t+'"'};function bx(e,t,r){let n=this.j2x(e,r+1);return e[this.options.textNodeName]!==void 0&&Object.keys(e).length===1?this.buildTextValNode(e[this.options.textNodeName],t,n.attrStr,r):this.buildObjectNode(n.val,t,n.attrStr,r)}Lt.prototype.buildObjectNode=function(e,t,r,n){if(e==="")return t[0]==="?"?this.indentate(n)+"<"+t+r+"?"+this.tagEndChar:this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar;{let o="</"+t+this.tagEndChar,s="";return t[0]==="?"&&(s="?",o=""),r&&e.indexOf("<")===-1?this.indentate(n)+"<"+t+r+s+">"+e+o:this.options.commentPropName!==!1&&t===this.options.commentPropName&&s.length===0?this.indentate(n)+`<!--${e}-->`+this.newLine:this.indentate(n)+"<"+t+r+s+this.tagEndChar+e+this.indentate(n)+o}};Lt.prototype.closeTag=function(e){let t="";return this.options.unpairedTags.indexOf(e)!==-1?this.options.suppressUnpairedNode||(t="/"):this.options.suppressEmptyNode?t="/":t=`></${e}`,t};Lt.prototype.buildTextValNode=function(e,t,r,n){if(this.options.cdataPropName!==!1&&t===this.options.cdataPropName)return this.indentate(n)+`<![CDATA[${e}]]>`+this.newLine;if(this.options.commentPropName!==!1&&t===this.options.commentPropName)return this.indentate(n)+`<!--${e}-->`+this.newLine;if(t[0]==="?")return this.indentate(n)+"<"+t+r+"?"+this.tagEndChar;{let o=this.options.tagValueProcessor(t,e);return o=this.replaceEntitiesValue(o),o===""?this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar:this.indentate(n)+"<"+t+r+">"+o+"</"+t+this.tagEndChar}};Lt.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){let r=this.options.entities[t];e=e.replace(r.regex,r.val)}return e};function Sx(e){return this.options.indentBy.repeat(e)}function kx(e){return e.startsWith(this.options.attributeNamePrefix)?e.substr(this.attrPrefixLen):!1}dl.exports=Lt});var vi=H((CA,fl)=>{"use strict";var _x=ki(),Ax=nl(),Rx=ll();fl.exports={XMLParser:Ax,XMLValidator:_x,XMLBuilder:Rx}});var $i={};Tn($i,{__assign:()=>zi,__asyncDelegator:()=>tw,__asyncGenerator:()=>ew,__asyncValues:()=>rw,__await:()=>zn,__awaiter:()=>Wx,__classPrivateFieldGet:()=>iw,__classPrivateFieldSet:()=>aw,__createBinding:()=>Qx,__decorate:()=>Gx,__exportStar:()=>Xx,__extends:()=>qx,__generator:()=>Yx,__importDefault:()=>sw,__importStar:()=>ow,__makeTemplateObject:()=>nw,__metadata:()=>Vx,__param:()=>Hx,__read:()=>xl,__rest:()=>Kx,__spread:()=>Jx,__spreadArrays:()=>Zx,__values:()=>Ui});function qx(e,t){Li(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function Kx(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function Gx(e,t,r,n){var o=arguments.length,s=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}function Hx(e,t){return function(r,n){t(r,n,e)}}function Vx(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Wx(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(f){try{d(n.next(f))}catch(h){i(h)}}function c(f){try{d(n.throw(f))}catch(h){i(h)}}function d(f){f.done?s(f.value):o(f.value).then(a,c)}d((n=n.apply(e,t||[])).next())})}function Yx(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,o,s,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(d){return function(f){return c([d,f])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(s=d[0]&2?o.return:d[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,d[1])).done)return s;switch(o=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,o=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){r.label=d[1];break}if(d[0]===6&&r.label<s[1]){r.label=s[1],s=d;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(d);break}s[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(f){d=[6,f],o=0}finally{n=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Qx(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function Xx(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function Ui(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function xl(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(a){i={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s}function Jx(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(xl(arguments[t]));return e}function Zx(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),o=0,t=0;t<r;t++)for(var s=arguments[t],i=0,a=s.length;i<a;i++,o++)n[o]=s[i];return n}function zn(e){return this instanceof zn?(this.v=e,this):new zn(e)}function ew(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,s=[];return o={},i("next"),i("throw"),i("return"),o[Symbol.asyncIterator]=function(){return this},o;function i(y){n[y]&&(o[y]=function(E){return new Promise(function(b,I){s.push([y,E,b,I])>1||a(y,E)})})}function a(y,E){try{c(n[y](E))}catch(b){h(s[0][3],b)}}function c(y){y.value instanceof zn?Promise.resolve(y.value.v).then(d,f):h(s[0][2],y)}function d(y){a("next",y)}function f(y){a("throw",y)}function h(y,E){y(E),s.shift(),s.length&&a(s[0][0],s[0][1])}}function tw(e){var t,r;return t={},n("next"),n("throw",function(o){throw o}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(o,s){t[o]=e[o]?function(i){return(r=!r)?{value:zn(e[o](i)),done:o==="return"}:s?s(i):i}:s}}function rw(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Ui=="function"?Ui(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(i){return new Promise(function(a,c){i=e[s](i),o(a,c,i.done,i.value)})}}function o(s,i,a,c){Promise.resolve(c).then(function(d){s({value:d,done:a})},i)}}function nw(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function ow(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function sw(e){return e&&e.__esModule?e:{default:e}}function iw(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function aw(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}var Li,zi,ji=ce(()=>{Li=function(e,t){return Li=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},Li(e,t)};zi=function(){return zi=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},zi.apply(this,arguments)}});var wl,El,bl=ce(()=>{wl=e=>{let t=[];for(let r=0,n=e.length;r<n;r++){let o=e.charCodeAt(r);if(o<128)t.push(o);else if(o<2048)t.push(o>>6|192,o&63|128);else if(r+1<e.length&&(o&64512)===55296&&(e.charCodeAt(r+1)&64512)===56320){let s=65536+((o&1023)<<10)+(e.charCodeAt(++r)&1023);t.push(s>>18|240,s>>12&63|128,s>>6&63|128,s&63|128)}else t.push(o>>12|224,o>>6&63|128,o&63|128)}return Uint8Array.from(t)},El=e=>{let t="";for(let r=0,n=e.length;r<n;r++){let o=e[r];if(o<128)t+=String.fromCharCode(o);else if(192<=o&&o<224){let s=e[++r];t+=String.fromCharCode((o&31)<<6|s&63)}else if(240<=o&&o<365){let i="%"+[o,e[++r],e[++r],e[++r]].map(a=>a.toString(16)).join("%");t+=decodeURIComponent(i)}else t+=String.fromCharCode((o&15)<<12|(e[++r]&63)<<6|e[++r]&63)}return t}});function Sl(e){return new TextEncoder().encode(e)}function kl(e){return new TextDecoder("utf-8").decode(e)}var _l=ce(()=>{});var Al={};Tn(Al,{fromUtf8:()=>cw,toUtf8:()=>dw});var cw,dw,Rl=ce(()=>{bl();_l();cw=e=>typeof TextEncoder=="function"?Sl(e):wl(e),dw=e=>typeof TextDecoder=="function"?kl(e):El(e)});var Nl=H(vo=>{"use strict";Object.defineProperty(vo,"__esModule",{value:!0});vo.convertToBuffer=void 0;var lw=(Rl(),po(Al)),fw=typeof Buffer<"u"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:lw.fromUtf8;function mw(e){return e instanceof Uint8Array?e:typeof e=="string"?fw(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}vo.convertToBuffer=mw});var Tl=H(Oo=>{"use strict";Object.defineProperty(Oo,"__esModule",{value:!0});Oo.isEmptyData=void 0;function uw(e){return typeof e=="string"?e.length===0:e.byteLength===0}Oo.isEmptyData=uw});var Il=H(Do=>{"use strict";Object.defineProperty(Do,"__esModule",{value:!0});Do.numToUint8=void 0;function hw(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}Do.numToUint8=hw});var Pl=H(Bo=>{"use strict";Object.defineProperty(Bo,"__esModule",{value:!0});Bo.uint32ArrayFrom=void 0;function pw(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),r=0;r<e.length;)t[r]=e[r],r+=1;return t}return Uint32Array.from(e)}Bo.uint32ArrayFrom=pw});var qi=H(nt=>{"use strict";Object.defineProperty(nt,"__esModule",{value:!0});nt.uint32ArrayFrom=nt.numToUint8=nt.isEmptyData=nt.convertToBuffer=void 0;var yw=Nl();Object.defineProperty(nt,"convertToBuffer",{enumerable:!0,get:function(){return yw.convertToBuffer}});var gw=Tl();Object.defineProperty(nt,"isEmptyData",{enumerable:!0,get:function(){return gw.isEmptyData}});var Cw=Il();Object.defineProperty(nt,"numToUint8",{enumerable:!0,get:function(){return Cw.numToUint8}});var xw=Pl();Object.defineProperty(nt,"uint32ArrayFrom",{enumerable:!0,get:function(){return xw.uint32ArrayFrom}})});var Dl=H(Mo=>{"use strict";Object.defineProperty(Mo,"__esModule",{value:!0});Mo.AwsCrc32=void 0;var vl=(ji(),po($i)),Ki=qi(),Ol=Fo(),ww=function(){function e(){this.crc32=new Ol.Crc32}return e.prototype.update=function(t){(0,Ki.isEmptyData)(t)||this.crc32.update((0,Ki.convertToBuffer)(t))},e.prototype.digest=function(){return vl.__awaiter(this,void 0,void 0,function(){return vl.__generator(this,function(t){return[2,(0,Ki.numToUint8)(this.crc32.digest())]})})},e.prototype.reset=function(){this.crc32=new Ol.Crc32},e}();Mo.AwsCrc32=ww});var Fo=H(Ut=>{"use strict";Object.defineProperty(Ut,"__esModule",{value:!0});Ut.AwsCrc32=Ut.Crc32=Ut.crc32=void 0;var Ew=(ji(),po($i)),bw=qi();function Sw(e){return new Bl().update(e).digest()}Ut.crc32=Sw;var Bl=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(t){var r,n;try{for(var o=Ew.__values(t),s=o.next();!s.done;s=o.next()){var i=s.value;this.checksum=this.checksum>>>8^_w[(this.checksum^i)&255]}}catch(a){r={error:a}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e}();Ut.Crc32=Bl;var kw=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],_w=(0,bw.uint32ArrayFrom)(kw),Aw=Dl();Object.defineProperty(Ut,"AwsCrc32",{enumerable:!0,get:function(){return Aw.AwsCrc32}})});var Nn=Tt(fi());var ud=async e=>{let t=(e==null?void 0:e.Bucket)||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),oC(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!nC(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},eC=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,tC=/(\d+\.){3}\d+/,rC=/\.\./;var nC=e=>eC.test(e)&&!tC.test(e)&&!rC.test(e),oC=e=>{let[t,r,n,o,s,i]=e.split(":"),a=t==="arn"&&e.split(":").length>=6,c=[t,r,n,s,i].filter(Boolean).length===5;if(a&&!c)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return t==="arn"&&!!r&&!!n&&!!s&&!!i};var hd=(e,t,r)=>{let n=async()=>{let o=r[e]??r[t];return typeof o=="function"?o():o};return e==="endpoint"||t==="endpoint"?async()=>{let o=await n();if(o&&typeof o=="object"){if("url"in o)return o.url.href;if("hostname"in o){let{protocol:s,hostname:i,port:a,path:c}=o;return`${s}//${i}${a?":"+a:""}${c}`}}return o}:n};var pd=async(e,t,r,n)=>{let o=await sC(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(o,n)},sC=async(e,t,r)=>{var s;let n={},o=((s=t==null?void 0:t.getEndpointParameterInstructions)==null?void 0:s.call(t))||{};for(let[i,a]of Object.entries(o))switch(a.type){case"staticContextParams":n[i]=a.value;break;case"contextParams":n[i]=e[a.name];break;case"clientContextParams":case"builtInParams":n[i]=await hd(a.name,i,r)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return Object.keys(o).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await ud(n),n};function yd(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,o=null]=r.split("=");n=decodeURIComponent(n),o&&(o=decodeURIComponent(o)),n in t?Array.isArray(t[n])?t[n].push(o):t[n]=[t[n],o]:t[n]=o}return t}var Ae=e=>{if(typeof e=="string")return Ae(new URL(e));let{hostname:t,pathname:r,port:n,protocol:o,search:s}=e,i;return s&&(i=yd(s)),{hostname:t,port:n?parseInt(n):void 0,protocol:o,path:r,query:i}};var gd=e=>typeof e=="object"?"url"in e?Ae(e.url):e:Ae(e);var Cd=({config:e,instructions:t})=>(r,n)=>async o=>{var a,c;let s=await pd(o.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=s,n.authSchemes=(a=s.properties)==null?void 0:a.authSchemes;let i=(c=n.authSchemes)==null?void 0:c[0];return i&&(n.signing_region=i.signingRegion,n.signing_service=i.signingName),r({...o})};var xd=(e,t)=>(r,n)=>async o=>{let{response:s}=await r(o);try{let i=await t(s,e);return{response:s,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:s}),!("$metadata"in i)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";i.message+=`
  `+a}throw i}};var wd=(e,t)=>(r,n)=>async o=>{var a;let s=(a=n.endpointV2)!=null&&a.url&&e.urlParser?async()=>e.urlParser(n.endpointV2.url):e.endpoint;if(!s)throw new Error("No valid endpoint provider available.");let i=await t(o.input,{...e,endpoint:s});return r({...o,request:i})};var iC={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Ci={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function Ze(e,t,r){return{applyToStack:n=>{n.add(xd(e,r),iC),n.add(wd(e,t),Ci)}}}var aC={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:Ci.name},et=(e,t)=>({applyToStack:r=>{r.addRelativeTo(Cd({config:e,instructions:t}),aC)}});var he=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t};var Bt=e=>{let t=e.tls??!0,{endpoint:r}=e,n=r!=null?async()=>gd(await he(r)()):void 0;return{...e,endpoint:n,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:he(e.useDualstackEndpoint??!1),useFipsEndpoint:he(e.useFipsEndpoint??!1)}};var tt=class{trace(){}debug(){}info(){}warn(){}error(){}};var Fr=()=>{let e=[],t=[],r=new Set,n=f=>f.sort((h,y)=>Ed[y.step]-Ed[h.step]||bd[y.priority||"normal"]-bd[h.priority||"normal"]),o=f=>{let h=!1,y=E=>E.name&&E.name===f?(h=!0,r.delete(f),!1):!0;return e=e.filter(y),t=t.filter(y),h},s=f=>{let h=!1,y=E=>E.middleware===f?(h=!0,E.name&&r.delete(E.name),!1):!0;return e=e.filter(y),t=t.filter(y),h},i=f=>(e.forEach(h=>{f.add(h.middleware,{...h})}),t.forEach(h=>{f.addRelativeTo(h.middleware,{...h})}),f),a=f=>{let h=[];return f.before.forEach(y=>{y.before.length===0&&y.after.length===0?h.push(y):h.push(...a(y))}),h.push(f),f.after.reverse().forEach(y=>{y.before.length===0&&y.after.length===0?h.push(y):h.push(...a(y))}),h},c=(f=!1)=>{let h=[],y=[],E={};return e.forEach(I=>{let v={...I,before:[],after:[]};v.name&&(E[v.name]=v),h.push(v)}),t.forEach(I=>{let v={...I,before:[],after:[]};v.name&&(E[v.name]=v),y.push(v)}),y.forEach(I=>{if(I.toMiddleware){let v=E[I.toMiddleware];if(v===void 0){if(f)return;throw new Error(`${I.toMiddleware} is not found when adding ${I.name||"anonymous"} middleware ${I.relation} ${I.toMiddleware}`)}I.relation==="after"&&v.after.push(I),I.relation==="before"&&v.before.push(I)}}),n(h).map(a).reduce((I,v)=>(I.push(...v),I),[])},d={add:(f,h={})=>{let{name:y,override:E}=h,b={step:"initialize",priority:"normal",middleware:f,...h};if(y){if(r.has(y)){if(!E)throw new Error(`Duplicate middleware name '${y}'`);let I=e.findIndex(Xe=>Xe.name===y),v=e[I];if(v.step!==b.step||v.priority!==b.priority)throw new Error(`"${y}" middleware with ${v.priority} priority in ${v.step} step cannot be overridden by same-name middleware with ${b.priority} priority in ${b.step} step.`);e.splice(I,1)}r.add(y)}e.push(b)},addRelativeTo:(f,h)=>{let{name:y,override:E}=h,b={middleware:f,...h};if(y){if(r.has(y)){if(!E)throw new Error(`Duplicate middleware name '${y}'`);let I=t.findIndex(Xe=>Xe.name===y),v=t[I];if(v.toMiddleware!==b.toMiddleware||v.relation!==b.relation)throw new Error(`"${y}" middleware ${v.relation} "${v.toMiddleware}" middleware cannot be overridden by same-name middleware ${b.relation} "${b.toMiddleware}" middleware.`);t.splice(I,1)}r.add(y)}t.push(b)},clone:()=>i(Fr()),use:f=>{f.applyToStack(d)},remove:f=>typeof f=="string"?o(f):s(f),removeByTag:f=>{let h=!1,y=E=>{let{tags:b,name:I}=E;return b&&b.includes(f)?(I&&r.delete(I),h=!0,!1):!0};return e=e.filter(y),t=t.filter(y),h},concat:f=>{let h=i(Fr());return h.use(f),h},applyToStack:i,identify:()=>c(!0).map(f=>f.name+": "+(f.tags||[]).join(",")),resolve:(f,h)=>{for(let y of c().map(E=>E.middleware).reverse())f=y(f,h);return f}};return d},Ed={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},bd={high:3,normal:2,low:1};var rt=class{constructor(t){this.middlewareStack=Fr(),this.config=t}send(t,r,n){let o=typeof r!="function"?r:void 0,s=typeof r=="function"?r:n,i=t.resolveMiddleware(this.middlewareStack,this.config,o);if(s)i(t).then(a=>s(null,a.output),a=>s(a)).catch(()=>{});else return i(t).then(a=>a.output)}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}};var Be=class{constructor(){this.middlewareStack=Fr()}};var On="***SensitiveInformation***";var Ad=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}};var cC=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&vd.warn(Pd(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},dC=Math.ceil(34028234663852886e22),Sd=e=>{let t=cC(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>dC)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},Lr=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}};var Ro=e=>xi(e,32),kd=e=>xi(e,16),_d=e=>xi(e,8),xi=(e,t)=>{let r=Lr(e);if(r!==void 0&&lC(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},lC=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},Ve=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},zr=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},N=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return vd.warn(Pd(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}};var Rd=e=>Sd(typeof e=="string"?Dn(e):e),fC=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Dn=e=>{let t=e.match(fC);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)};var Nd=e=>Lr(typeof e=="string"?Dn(e):e);var Ur=e=>Ro(typeof e=="string"?Dn(e):e),Td=e=>kd(typeof e=="string"?Dn(e):e),Id=e=>_d(typeof e=="string"?Dn(e):e),Pd=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),vd={warn:console.warn};var mC=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var Wk=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/);var uC=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),No=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=uC.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,a,c,d,f]=t,h=Td(Od(n)),y=Bn(o,"month",1,12),E=Bn(s,"day",1,31),b=hC(h,y,E,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:d});return f.toUpperCase()!="Z"&&b.setTime(b.getTime()-xC(f)),b},Yk=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Qk=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Xk=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/);var hC=(e,t,r,n)=>{let o=t-1;return yC(e,o,r),new Date(Date.UTC(e,o,r,Bn(n.hours,"hour",0,23),Bn(n.minutes,"minute",0,59),Bn(n.seconds,"seconds",0,60),CC(n.fractionalMilliseconds)))};var Jk=50*365*24*60*60*1e3;var pC=[31,28,31,30,31,30,31,31,30,31,30,31],yC=(e,t,r)=>{let n=pC[t];if(t===1&&gC(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${mC[t]} in ${e}: ${r}`)},gC=e=>e%4===0&&(e%100!==0||e%400===0),Bn=(e,t,r,n)=>{let o=Id(Od(e));if(o<r||o>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return o},CC=e=>e==null?0:Rd("0."+e)*1e3,xC=e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),o=Number(e.substring(4,6));return r*(n*60+o)*60*1e3},Od=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)};var Me=class extends Error{constructor(t){super(t.message),Object.setPrototypeOf(this,Me.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}},J=(e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,o])=>{(e[n]==null||e[n]==="")&&(e[n]=o)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e};var Ct=({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let o=wC(e),s=o.httpStatusCode?o.httpStatusCode+"":void 0,i=new r({name:(t==null?void 0:t.code)||(t==null?void 0:t.Code)||n||s||"UnknownError",$fault:"client",$metadata:o});throw J(i,t)},wC=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]});var Mt=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}};var Dd=!1,Ft=e=>{e&&!Dd&&parseInt(e.substring(1,e.indexOf(".")))<14&&(Dd=!0)};function $r(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var To=e=>Array.isArray(e)?e:[e];var Mn=e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=Mn(e[r]));return e};var wi=function(){let e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,[null,...arguments]),r=new t;return Object.setPrototypeOf(r,e.prototype),r};wi.prototype=Object.create(String.prototype,{constructor:{value:wi,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(wi,String);function gr(e,t,r){let n,o,s;if(typeof t>"u"&&typeof r>"u")n={},s=e;else{if(n=e,typeof t=="function")return o=t,s=r,EC(n,o,s);s=t}for(let i of Object.keys(s)){if(!Array.isArray(s[i])){n[i]=s[i];continue}bC(n,null,s,i)}return n}var EC=(e,t,r)=>gr(e,Object.entries(r).reduce((n,[o,s])=>(Array.isArray(s)?n[o]=s:typeof s=="function"?n[o]=[t,s()]:n[o]=[t,s],n),{})),bC=(e,t,r,n)=>{if(t!==null){let i=r[n];typeof i=="function"&&(i=[,i]);let[a=SC,c=kC,d=n]=i;(typeof a=="function"&&a(t[d])||typeof a!="function"&&a)&&(e[n]=c(t[d]));return}let[o,s]=r[n];if(typeof s=="function"){let i,a=o===void 0&&(i=s())!=null,c=typeof o=="function"&&!!o(void 0)||typeof o!="function"&&!!o;a?e[n]=i:c&&(e[n]=s())}else{let i=o===void 0&&s!=null,a=typeof o=="function"&&!!o(s)||typeof o!="function"&&!!o;(i||a)&&(e[n]=s)}},SC=e=>e!=null,kC=e=>e;var Bd=(e,t,r,n,o,s)=>{if(t!=null&&t[r]!==void 0){let i=n();if(i.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(o,s?i.split("/").map(a=>$r(a)).join("/"):$r(i))}else throw new Error("No value provided for input HTTP label: "+r+".");return e};var Ei;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(Ei||(Ei={}));var V=class{constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/"}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){let t=new V({...this,headers:{...this.headers}});return t.query&&(t.query=_C(t.query)),t}};function _C(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}var We=class{constructor(t){this.statusCode=t.statusCode,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};var ml=Tt(vi());var zt=class extends Me{constructor(t){super(t),Object.setPrototypeOf(this,zt.prototype)}};var Oi;(function(e){e.visit=(t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])})(Oi||(Oi={}));var Di;(function(e){e.visit=(t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.ObjectSizeGreaterThan!==void 0?r.ObjectSizeGreaterThan(t.ObjectSizeGreaterThan):t.ObjectSizeLessThan!==void 0?r.ObjectSizeLessThan(t.ObjectSizeLessThan):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])})(Di||(Di={}));var Bi;(function(e){e.visit=(t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.AccessPointArn!==void 0?r.AccessPointArn(t.AccessPointArn):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])})(Bi||(Bi={}));var Mi;(function(e){e.visit=(t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])})(Mi||(Mi={}));var jr=class extends zt{constructor(t){super({name:"NoSuchBucket",$fault:"client",...t}),this.name="NoSuchBucket",this.$fault="client",Object.setPrototypeOf(this,jr.prototype)}};var ul=async(e,t)=>{let{hostname:r,protocol:n="https",port:o,path:s}=await t.endpoint(),i=Io({},Lx,{"x-amz-request-payer":e.RequestPayer,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),a=`${s!=null&&s.endsWith("/")?s.slice(0,-1):s||""}/`;a=Bd(a,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let c=Io({"list-type":[,"2"],delimiter:[,e.Delimiter],"encoding-type":[,e.EncodingType],"max-keys":[()=>e.MaxKeys!==void 0,()=>e.MaxKeys.toString()],prefix:[,e.Prefix],"continuation-token":[,e.ContinuationToken],"fetch-owner":[()=>e.FetchOwner!==void 0,()=>e.FetchOwner.toString()],"start-after":[,e.StartAfter]}),d;return new V({protocol:n,hostname:r,port:o,method:"GET",headers:i,path:a,query:c,body:d})};var hl=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Nx(e,t);let r=Io({$metadata:pl(e)}),n=Ve(zr(await yl(e.body,t)),"body");return n.CommonPrefixes===""?r.CommonPrefixes=[]:n.CommonPrefixes!==void 0&&(r.CommonPrefixes=vx(To(n.CommonPrefixes),t)),n.Contents===""?r.Contents=[]:n.Contents!==void 0&&(r.Contents=Dx(To(n.Contents),t)),n.ContinuationToken!==void 0&&(r.ContinuationToken=N(n.ContinuationToken)),n.Delimiter!==void 0&&(r.Delimiter=N(n.Delimiter)),n.EncodingType!==void 0&&(r.EncodingType=N(n.EncodingType)),n.IsTruncated!==void 0&&(r.IsTruncated=Ad(n.IsTruncated)),n.KeyCount!==void 0&&(r.KeyCount=Ur(n.KeyCount)),n.MaxKeys!==void 0&&(r.MaxKeys=Ur(n.MaxKeys)),n.Name!==void 0&&(r.Name=N(n.Name)),n.NextContinuationToken!==void 0&&(r.NextContinuationToken=N(n.NextContinuationToken)),n.Prefix!==void 0&&(r.Prefix=N(n.Prefix)),n.StartAfter!==void 0&&(r.StartAfter=N(n.StartAfter)),r},Nx=async(e,t)=>{let r={...e,body:await zx(e.body,t)},n=Ux(e,r.body);switch(n){case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":throw await Tx(r,t);default:let o=r.body;Ct({output:e,parsedBody:o,exceptionCtor:zt,errorCode:n})}};var Io=gr;var Tx=async(e,t)=>{let r=Io({}),n=e.body,o=new jr({$metadata:pl(e),...r});return J(o,e.body)};var Ix=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>N(r)),Px=(e,t)=>{let r={};return e.Prefix!==void 0&&(r.Prefix=N(e.Prefix)),r},vx=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>Px(r,t));var Ox=(e,t)=>{let r={};return e.Key!==void 0&&(r.Key=N(e.Key)),e.LastModified!==void 0&&(r.LastModified=Ve(No(e.LastModified))),e.ETag!==void 0&&(r.ETag=N(e.ETag)),e.ChecksumAlgorithm===""?r.ChecksumAlgorithm=[]:e.ChecksumAlgorithm!==void 0&&(r.ChecksumAlgorithm=Ix(To(e.ChecksumAlgorithm),t)),e.Size!==void 0&&(r.Size=Nd(e.Size)),e.StorageClass!==void 0&&(r.StorageClass=N(e.StorageClass)),e.Owner!==void 0&&(r.Owner=Bx(e.Owner,t)),r},Dx=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>Ox(r,t));var Bx=(e,t)=>{let r={};return e.DisplayName!==void 0&&(r.DisplayName=N(e.DisplayName)),e.ID!==void 0&&(r.ID=N(e.ID)),r};var pl=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Mx=(e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),Fx=(e,t)=>Mx(e,t).then(r=>t.utf8Encoder(r)),Lx=e=>e!=null&&e!==""&&(!Object.getOwnPropertyNames(e).includes("length")||e.length!=0)&&(!Object.getOwnPropertyNames(e).includes("size")||e.size!=0),yl=(e,t)=>Fx(e,t).then(r=>{if(r.length){let n=new ml.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,d)=>d.trim()===""&&d.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let o=n.parse(r),s="#text",i=Object.keys(o)[0],a=o[i];return a[s]&&(a[i]=a[s],delete a[s]),Mn(a)}return{}}),zx=async(e,t)=>{let r=await yl(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},Ux=(e,t)=>{if((t==null?void 0:t.Code)!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"};var gl=e=>({...e,forcePathStyle:e.forcePathStyle??!1,useAccelerateEndpoint:e.useAccelerateEndpoint??!1,disableMultiregionAccessPoints:e.disableMultiregionAccessPoints??!1});var Fi=e=>typeof e=="string"&&e.indexOf("arn:")===0&&e.split(":").length>=6;function $x(){return e=>async t=>{let{input:{Bucket:r}}=t;if(typeof r=="string"&&!Fi(r)&&r.indexOf("/")>=0){let n=new Error(`Bucket name shouldn't contain '/', received '${r}'`);throw n.name="InvalidBucketName",n}return e({...t})}}var jx={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},Cl=e=>({applyToStack:t=>{t.add($x(),jx)}});var Po=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]";var Lo=require("buffer"),wt=(e,t=0,r=e.byteLength-t)=>{if(!Po(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return Lo.Buffer.from(e,t,r)},qr=(e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?Lo.Buffer.from(e,t):Lo.Buffer.from(e)};var ot=e=>{let t=qr(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)};var Fe=e=>typeof e=="string"?ot(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e);var $t=e=>wt(e.buffer,e.byteOffset,e.byteLength).toString("utf8");var Kr=class extends Be{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use(Ze(r,this.serialize,this.deserialize)),this.middlewareStack.use(et(r,Kr.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"S3Client",commandName:"ListObjectsV2Command",inputFilterSensitiveLog:f=>f,outputFilterSensitiveLog:f=>f},{requestHandler:d}=r;return o.resolve(f=>d.handle(f.request,n||{}),c)}serialize(t,r){return ul(t,r)}deserialize(t,r){return hl(t,r)}};var Le;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(Le||(Le={}));var st=(e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}};var Rw="AWS_USE_DUALSTACK_ENDPOINT",Nw="use_dualstack_endpoint";var jt={environmentVariableSelector:e=>st(e,Rw,Le.ENV),configFileSelector:e=>st(e,Nw,Le.CONFIG),default:!1};var Tw="AWS_USE_FIPS_ENDPOINT",Iw="use_fips_endpoint";var qt={environmentVariableSelector:e=>st(e,Tw,Le.ENV),configFileSelector:e=>st(e,Iw,Le.CONFIG),default:!1};var Pw="AWS_REGION",vw="region",it={environmentVariableSelector:e=>e[Pw],configFileSelector:e=>e[vw],default:()=>{throw new Error("Region is missing")}},Kt={preferredFile:"credentials"};var zo=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips"));var Gi=e=>zo(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e;var Gt=e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return{...e,region:async()=>{if(typeof t=="string")return Gi(t);let n=await t();return Gi(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return zo(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}};var Ml=e=>({...e,eventStreamMarshaller:e.eventStreamSerdeProvider(e)});var Fl="content-length";function Ow(e){return t=>async r=>{let n=r.request;if(V.isInstance(n)){let{body:o,headers:s}=n;if(o&&Object.keys(s).map(i=>i.toLowerCase()).indexOf(Fl)===-1)try{let i=e(o);n.headers={...n.headers,[Fl]:String(i)}}catch{}}return t({...r,request:n})}}var Dw={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},Ht=e=>({applyToStack:t=>{t.add(Ow(e.bodyLengthChecker),Dw)}});function Bw(e){return t=>async r=>{let{request:n}=r;return V.isInstance(n)&&n.body&&e.runtime==="node"&&(n.headers={...n.headers,Expect:"100-continue"}),t({...r,request:n})}}var Mw={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},Ll=e=>({applyToStack:t=>{t.add(Bw(e),Mw)}});var Fw=e=>t=>async r=>{if(!V.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:o=""}=e.requestHandler.metadata||{};if(o.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]="";else if(!n.headers.host){let s=n.hostname;n.port!=null&&(s+=`:${n.port}`),n.headers.host=s}return t(r)},Lw={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Vt=e=>({applyToStack:t=>{t.add(Fw(e),Lw)}});var zw=()=>(e,t)=>async r=>{var n,o;try{let s=await e(r),{clientName:i,commandName:a,logger:c,dynamoDbDocumentClientOptions:d={}}=t,{overrideInputFilterSensitiveLog:f,overrideOutputFilterSensitiveLog:h}=d,y=f??t.inputFilterSensitiveLog,E=h??t.outputFilterSensitiveLog,{$metadata:b,...I}=s.output;return(n=c==null?void 0:c.info)==null||n.call(c,{clientName:i,commandName:a,input:y(r.input),output:E(I),metadata:b}),s}catch(s){let{clientName:i,commandName:a,logger:c,dynamoDbDocumentClientOptions:d={}}=t,{overrideInputFilterSensitiveLog:f}=d,h=f??t.inputFilterSensitiveLog;throw(o=c==null?void 0:c.error)==null||o.call(c,{clientName:i,commandName:a,input:h(r.input),error:s,metadata:s.$metadata}),s}},Uw={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},Wt=e=>({applyToStack:t=>{t.add(zw(),Uw)}});var zl="X-Amzn-Trace-Id",$w="AWS_LAMBDA_FUNCTION_NAME",jw="_X_AMZN_TRACE_ID",qw=e=>t=>async r=>{let{request:n}=r;if(!V.isInstance(n)||e.runtime!=="node"||n.headers.hasOwnProperty(zl))return t(r);let o=process.env[$w],s=process.env[jw],i=a=>typeof a=="string"&&a.length>0;return i(o)&&i(s)&&(n.headers[zl]=s),t({...r,request:n})},Kw={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},Yt=e=>({applyToStack:t=>{t.add(qw(e),Kw)}});var at;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(at||(at={}));var xr=3,ct="STANDARD";var Ul=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],$l=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],jl=[500,502,503,504],ql=["ECONNRESET","EPIPE","ETIMEDOUT"];var Gr=e=>{var t,r;return((t=e.$metadata)==null?void 0:t.httpStatusCode)===429||Ul.includes(e.name)||((r=e.$retryable)==null?void 0:r.throttling)==!0},Uo=e=>{var t;return $l.includes(e.name)||ql.includes((e==null?void 0:e.code)||"")||jl.includes(((t=e.$metadata)==null?void 0:t.httpStatusCode)||0)},Kl=e=>{var t;if(((t=e.$metadata)==null?void 0:t.httpStatusCode)!==void 0){let r=e.$metadata.httpStatusCode;return 500<=r&&r<=599&&!Uo(e)}return!1};var Un=class{constructor(t){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=(t==null?void 0:t.beta)??.7,this.minCapacity=(t==null?void 0:t.minCapacity)??1,this.minFillRate=(t==null?void 0:t.minFillRate)??.5,this.scaleConstant=(t==null?void 0:t.scaleConstant)??.4,this.smooth=(t==null?void 0:t.smooth)??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>setTimeout(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),Gr(t)){let o=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=o,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(o),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}};var $o="amz-sdk-invocation-id",jo="amz-sdk-request";var Gl=()=>{let e=100;return{computeNextBackoffDelay:n=>Math.floor(Math.min(2e4,Math.random()*2**n*e)),setDelayBase:n=>{e=n}}};var Ql=(e,t,r,n)=>{let o=e,s=(n==null?void 0:n.retryCost)??5,i=(n==null?void 0:n.timeoutRetryCost)??10,a=(n==null?void 0:n.retryBackoffStrategy)??Gl(),c=e,d=Math.min(2e4,t),f,h=r??0,y=Ge=>Ge==="TRANSIENT"?i:s,E=()=>h,b=()=>d,I=()=>f,v=Ge=>y(Ge)<=c;return{getRetryCount:E,getRetryDelay:b,getLastRetryCost:I,hasRetryTokens:v,getRetryTokenCount:Ge=>{let Hs=Ge.errorType;if(!v(Hs))throw new Error("No retry token available");let Vs=y(Hs),wy=Hs==="THROTTLING"?500:100;a.setDelayBase(wy);let mc=a.computeNextBackoffDelay(h);if(Ge.retryAfterHint){let Ey=Ge.retryAfterHint.getTime()-Date.now();d=Math.max(Ey||0,mc)}else d=mc;return h++,f=Vs,c-=Vs,Vs},releaseRetryTokens:Ge=>{c+=Ge??1,c=Math.min(c,o)}}};var Vr=class{constructor(t){this.maxAttemptsProvider=t,this.mode=at.STANDARD,this.retryToken=Ql(500,100),this.maxAttemptsProvider=t}async acquireInitialRetryToken(t){return this.retryToken}async refreshRetryTokenForRetry(t,r){let n=await this.getMaxAttempts();if(this.shouldRetry(t,r,n))return t.getRetryTokenCount(r),t;throw new Error("No retry token available")}recordSuccess(t){this.retryToken.releaseRetryTokens(t.getLastRetryCost())}async getMaxAttempts(){let t;try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${xr}`),xr}}shouldRetry(t,r,n){return t.getRetryCount()<n&&t.hasRetryTokens(r.errorType)&&this.isRetryableError(r.errorType)}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}};var Ko=class{constructor(t,r){this.maxAttemptsProvider=t,this.mode=at.ADAPTIVE;let{rateLimiter:n}=r??{};this.rateLimiter=n??new Un,this.standardRetryStrategy=new Vr(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(t,r)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}};var Hi=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`);var Jl="AWS_MAX_ATTEMPTS",Zl="max_attempts",Qt={environmentVariableSelector:e=>{let t=e[Jl];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${Jl} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[Zl];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${Zl} mast be a number, got "${t}"`);return r},default:xr},Xt=e=>{let{retryStrategy:t}=e,r=he(e.maxAttempts??xr);return{...e,maxAttempts:r,retryStrategy:async()=>t||(await he(e.retryMode)()===at.ADAPTIVE?new Ko(r):new Vr(r))}},Gw="AWS_RETRY_MODE",Hw="retry_mode",Jt={environmentVariableSelector:e=>e[Gw],configFileSelector:e=>e[Hw],default:ct};ti();var Vw=e=>(t,r)=>async n=>{let o=await e.retryStrategy(),s=await e.maxAttempts();if(Ww(o)){o=o;let i=await o.acquireInitialRetryToken(r.partition_id),a=new Error,c=0,d=0,{request:f}=n;for(V.isInstance(f)&&(f.headers[$o]=Eo());;)try{V.isInstance(f)&&(f.headers[jo]=`attempt=${c+1}; max=${s}`);let{response:h,output:y}=await t(n);return o.recordSuccess(i),y.$metadata.attempts=c+1,y.$metadata.totalRetryDelay=d,{response:h,output:y}}catch(h){let y=Yw(h);a=Hi(h);try{i=await o.refreshRetryTokenForRetry(i,y)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=d,a}c=i.getRetryCount();let E=i.getRetryDelay();d+=E,await new Promise(b=>setTimeout(b,E))}}else return o=o,o!=null&&o.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",o.mode]]),o.retry(t,n)},Ww=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",Yw=e=>{let t={errorType:Qw(e)},r=Jw(e.$response);return r&&(t.retryAfterHint=r),t},Qw=e=>Gr(e)?"THROTTLING":Uo(e)?"TRANSIENT":Kl(e)?"SERVER_ERROR":"CLIENT_ERROR",Xw={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},Zt=e=>({applyToStack:t=>{t.add(Vw(e),Xw)}}),Jw=e=>{if(!We.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)};var Ne=class extends Error{constructor(t,r=!0){super(t),this.tryNextLink=r,this.name="ProviderError",Object.setPrototypeOf(this,Ne.prototype)}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}};var D=class extends Ne{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="CredentialsProviderError",Object.setPrototypeOf(this,D.prototype)}};var Te=class extends Ne{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="TokenProviderError",Object.setPrototypeOf(this,Te.prototype)}};function Go(...e){return()=>{let t=Promise.reject(new Ne("No providers in chain"));for(let r of e)t=t.catch(n=>{if(n!=null&&n.tryNextLink)return r();throw n});return t}}var ef=e=>()=>Promise.resolve(e);var er=(e,t,r)=>{let n,o,s,i=!1,a=async()=>{o||(o=e());try{n=await o,s=!0,i=!1}finally{o=void 0}return n};return t===void 0?async c=>((!s||c!=null&&c.forceRefresh)&&(n=await a()),n):async c=>((!s||c!=null&&c.forceRefresh)&&(n=await a()),i?n:r&&!r(n)?(i=!0,n):(t(n)&&await a(),n))};var tf={},Vi={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),tf[e]=t,Vi[t]=e}function rf(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in Vi)t[r/2]=Vi[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}function pe(e){let t="";for(let r=0;r<e.byteLength;r++)t+=tf[e[r]];return t}var nf="X-Amz-Algorithm",of="X-Amz-Credential",Wi="X-Amz-Date",sf="X-Amz-SignedHeaders",af="X-Amz-Expires",Yi="X-Amz-Signature",Qi="X-Amz-Security-Token";var Xi="authorization",Ji=Wi.toLowerCase(),Zw="date",cf=[Xi,Ji,Zw],df=Yi.toLowerCase(),$n="x-amz-content-sha256",lf=Qi.toLowerCase();var ff={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},mf=/^proxy-/,uf=/^sec-/;var Ho="AWS4-HMAC-SHA256";var hf="AWS4-HMAC-SHA256-PAYLOAD",pf="UNSIGNED-PAYLOAD",yf=50,Zi="aws4_request",gf=60*60*24*7;var Vo={},ea=[],Wo=(e,t,r)=>`${e}/${t}/${r}/${Zi}`,xf=async(e,t,r,n,o)=>{let s=await Cf(e,t.secretAccessKey,t.accessKeyId),i=`${r}:${n}:${o}:${pe(s)}:${t.sessionToken}`;if(i in Vo)return Vo[i];for(ea.push(i);ea.length>yf;)delete Vo[ea.shift()];let a=`AWS4${t.secretAccessKey}`;for(let c of[r,n,o,Zi])a=await Cf(e,a,c);return Vo[i]=a};var Cf=(e,t,r)=>{let n=new e(t);return n.update(Fe(r)),n.digest()};var Yo=({headers:e},t,r)=>{let n={};for(let o of Object.keys(e).sort()){if(e[o]==null)continue;let s=o.toLowerCase();(s in ff||t!=null&&t.has(s)||mf.test(s)||uf.test(s))&&(!r||r&&!r.has(s))||(n[s]=e[o].trim().replace(/\s+/g," "))}return n};var dt=e=>encodeURIComponent(e).replace(/[!'()*]/g,eE),eE=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`;var ta=({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e).sort()){if(n.toLowerCase()===df)continue;t.push(n);let o=e[n];typeof o=="string"?r[n]=`${dt(n)}=${dt(o)}`:Array.isArray(o)&&(r[n]=o.slice(0).sort().reduce((s,i)=>s.concat([`${dt(n)}=${dt(i)}`]),[]).join("&"))}return t.map(n=>r[n]).filter(n=>n).join("&")};var jn=async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===$n)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||Po(t)){let n=new r;return n.update(Fe(t)),pe(await n.digest())}return pf};var wf=(e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1};var Qo=({headers:e,query:t,...r})=>({...r,headers:{...e},query:t?tE(t):void 0}),tE=e=>Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{});var ra=(e,t={})=>{var o;let{headers:r,query:n={}}=typeof e.clone=="function"?e.clone():Qo(e);for(let s of Object.keys(r)){let i=s.toLowerCase();i.slice(0,6)==="x-amz-"&&!((o=t.unhoistableHeaders)!=null&&o.has(i))&&(n[s]=r[s],delete r[s])}return{...e,headers:r,query:n}};var Xo=e=>{e=typeof e.clone=="function"?e.clone():Qo(e);for(let t of Object.keys(e.headers))cf.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e};var Ef=e=>rE(e).toISOString().replace(/\.\d{3}Z$/,"Z"),rE=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e;var wr=class{constructor({applyChecksum:t,credentials:r,region:n,service:o,sha256:s,uriEscapePath:i=!0}){this.service=o,this.sha256=s,this.uriEscapePath=i,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=he(n),this.credentialProvider=he(r)}async presign(t,r={}){let{signingDate:n=new Date,expiresIn:o=3600,unsignableHeaders:s,unhoistableHeaders:i,signableHeaders:a,signingRegion:c,signingService:d}=r,f=await this.credentialProvider();this.validateResolvedCredentials(f);let h=c??await this.regionProvider(),{longDate:y,shortDate:E}=Jo(n);if(o>gf)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let b=Wo(E,h,d??this.service),I=ra(Xo(t),{unhoistableHeaders:i});f.sessionToken&&(I.query[Qi]=f.sessionToken),I.query[nf]=Ho,I.query[of]=`${f.accessKeyId}/${b}`,I.query[Wi]=y,I.query[af]=o.toString(10);let v=Yo(I,s,a);return I.query[sf]=bf(v),I.query[Yi]=await this.getSignature(y,b,this.getSigningKey(f,h,E,d),this.createCanonicalRequest(I,v,await jn(t,this.sha256))),I}async sign(t,r){return typeof t=="string"?this.signString(t,r):t.headers&&t.payload?this.signEvent(t,r):this.signRequest(t,r)}async signEvent({headers:t,payload:r},{signingDate:n=new Date,priorSignature:o,signingRegion:s,signingService:i}){let a=s??await this.regionProvider(),{shortDate:c,longDate:d}=Jo(n),f=Wo(c,a,i??this.service),h=await jn({headers:{},body:r},this.sha256),y=new this.sha256;y.update(t);let E=pe(await y.digest()),b=[hf,d,f,o,E,h].join(`
`);return this.signString(b,{signingDate:n,signingRegion:a,signingService:i})}async signString(t,{signingDate:r=new Date,signingRegion:n,signingService:o}={}){let s=await this.credentialProvider();this.validateResolvedCredentials(s);let i=n??await this.regionProvider(),{shortDate:a}=Jo(r),c=new this.sha256(await this.getSigningKey(s,i,a,o));return c.update(Fe(t)),pe(await c.digest())}async signRequest(t,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:o,signingRegion:s,signingService:i}={}){let a=await this.credentialProvider();this.validateResolvedCredentials(a);let c=s??await this.regionProvider(),d=Xo(t),{longDate:f,shortDate:h}=Jo(r),y=Wo(h,c,i??this.service);d.headers[Ji]=f,a.sessionToken&&(d.headers[lf]=a.sessionToken);let E=await jn(d,this.sha256);!wf($n,d.headers)&&this.applyChecksum&&(d.headers[$n]=E);let b=Yo(d,o,n),I=await this.getSignature(f,y,this.getSigningKey(a,c,h,i),this.createCanonicalRequest(d,b,E));return d.headers[Xi]=`${Ho} Credential=${a.accessKeyId}/${y}, SignedHeaders=${bf(b)}, Signature=${I}`,d}createCanonicalRequest(t,r,n){let o=Object.keys(r).sort();return`${t.method}
${this.getCanonicalPath(t)}
${ta(t)}
${o.map(s=>`${s}:${r[s]}`).join(`
`)}

${o.join(";")}
${n}`}async createStringToSign(t,r,n){let o=new this.sha256;o.update(Fe(n));let s=await o.digest();return`${Ho}
${t}
${r}
${pe(s)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){let r=[];for(let s of t.split("/"))(s==null?void 0:s.length)!==0&&s!=="."&&(s===".."?r.pop():r.push(s));let n=`${t!=null&&t.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&(t!=null&&t.endsWith("/"))?"/":""}`;return encodeURIComponent(n).replace(/%2F/g,"/")}return t}async getSignature(t,r,n,o){let s=await this.createStringToSign(t,r,o),i=new this.sha256(await n);return i.update(Fe(s)),pe(await i.digest())}getSigningKey(t,r,n,o){return xf(this.sha256,t,n,r,o||this.service)}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}},Jo=e=>{let t=Ef(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}},bf=e=>Object.keys(e).sort().join(";");var nE=3e5,Zo=e=>{let t=e.credentials?oE(e.credentials):e.credentialDefaultProvider(e),{signingEscapePath:r=!0,systemClockOffset:n=e.systemClockOffset||0,sha256:o}=e,s;return e.signer?s=he(e.signer):e.regionInfoProvider?s=()=>he(e.region)().then(async i=>[await e.regionInfoProvider(i,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},i]).then(([i,a])=>{let{signingRegion:c,signingService:d}=i;e.signingRegion=e.signingRegion||c||a,e.signingName=e.signingName||d||e.serviceId;let f={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:r},h=e.signerConstructor||wr;return new h(f)}):s=async i=>{i=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await he(e.region)(),properties:{}},i);let a=i.signingRegion,c=i.signingName;e.signingRegion=e.signingRegion||a,e.signingName=e.signingName||c||e.serviceId;let d={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:r},f=e.signerConstructor||wr;return new f(d)},{...e,systemClockOffset:n,signingEscapePath:r,credentials:t,signer:s}};var oE=e=>typeof e=="function"?er(e,t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<nE,t=>t.expiration!==void 0):he(e);var es=e=>new Date(Date.now()+e);var Sf=(e,t)=>Math.abs(es(t).getTime()-e)>=3e5;var na=(e,t)=>{let r=Date.parse(e);return Sf(r,t)?r-Date.now():t};var sE=e=>(t,r)=>async function(n){var d,f,h,y;if(!V.isInstance(n.request))return t(n);let o=(h=(f=(d=r.endpointV2)==null?void 0:d.properties)==null?void 0:f.authSchemes)==null?void 0:h[0],s=(o==null?void 0:o.name)==="sigv4a"?(y=o==null?void 0:o.signingRegionSet)==null?void 0:y.join(","):void 0,i=await e.signer(o),a=await t({...n,request:await i.sign(n.request,{signingDate:es(e.systemClockOffset),signingRegion:s||r.signing_region,signingService:r.signing_service})}).catch(E=>{let b=E.ServerTime??kf(E.$response);throw b&&(e.systemClockOffset=na(b,e.systemClockOffset)),E}),c=kf(a.response);return c&&(e.systemClockOffset=na(c,e.systemClockOffset)),a},kf=e=>{var t,r;return We.isInstance(e)?((t=e.headers)==null?void 0:t.date)??((r=e.headers)==null?void 0:r.Date):void 0},iE={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},ts=e=>({applyToStack:t=>{t.addRelativeTo(sE(e),iE)}});function tr(e){return{...e,customUserAgent:typeof e.customUserAgent=="string"?[[e.customUserAgent]]:e.customUserAgent}}var oa={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}}],version:"1.1"};var _f=oa,Af="",cE=e=>{let{partitions:t}=_f;for(let n of t){let{regions:o,outputs:s}=n;for(let[i,a]of Object.entries(o))if(i===e)return{...s,...a}}for(let n of t){let{regionRegex:o,outputs:s}=n;if(new RegExp(o).test(e))return{...s}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},Rf=(e,t="")=>{_f=e,Af=t},dE=()=>{Rf(oa,"")},sa=()=>Af;var Et="endpoints";function ze(e){return typeof e!="object"||e==null?e:"ref"in e?`$${ze(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(ze).join(", ")})`:JSON.stringify(e,null,2)}var te=class extends Error{constructor(t){super(t),this.name="EndpointError"}};var da={};Tn(da,{aws:()=>ia,booleanEquals:()=>uE,getAttr:()=>aa,isSet:()=>hE,isValidHostLabel:()=>ns,not:()=>pE,parseURL:()=>yE,stringEquals:()=>gE,substring:()=>CE,uriEncode:()=>xE});var ia={};Tn(ia,{getUserAgentPrefix:()=>sa,isVirtualHostableS3Bucket:()=>Nf,parseArn:()=>mE,partition:()=>cE,setPartitionInfo:()=>Rf,useDefaultPartitionInfo:()=>dE});var lE=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),rs=e=>lE.test(e)||e.startsWith("[")&&e.endsWith("]");var fE=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),ns=(e,t=!1)=>{if(!t)return fE.test(e);let r=e.split(".");for(let n of r)if(!ns(n))return!1;return!0};var Nf=(e,t=!1)=>{if(t){for(let r of e.split("."))if(!Nf(r))return!1;return!0}return!(!ns(e)||e.length<3||e.length>63||e!==e.toLowerCase()||rs(e))};var mE=e=>{let t=e.split(":");if(t.length<6)return null;let[r,n,o,s,i,...a]=t;return r!=="arn"||n===""||o===""||a[0]===""?null:{partition:n,service:o,region:s,accountId:i,resourceId:a[0].includes("/")?a[0].split("/"):a}};var uE=(e,t)=>e===t;var Tf=e=>{let t=e.split("."),r=[];for(let n of t){let o=n.indexOf("[");if(o!==-1){if(n.indexOf("]")!==n.length-1)throw new te(`Path: '${e}' does not end with ']'`);let s=n.slice(o+1,-1);if(Number.isNaN(parseInt(s)))throw new te(`Invalid array index: '${s}' in path: '${e}'`);o!==0&&r.push(n.slice(0,o)),r.push(s)}else r.push(n)}return r};var aa=(e,t)=>Tf(t).reduce((r,n)=>{if(typeof r!="object")throw new te(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e);var hE=e=>e!=null;var pE=e=>!e;var If;(function(e){e.HEADER="header",e.QUERY="query"})(If||(If={}));var Pf;(function(e){e.AAAA="AAAA",e.A="A"})(Pf||(Pf={}));var Wr;(function(e){e.HTTP="http",e.HTTPS="https"})(Wr||(Wr={}));var vf;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(vf||(vf={}));var ca={[Wr.HTTP]:80,[Wr.HTTPS]:443},yE=e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:y,port:E,protocol:b="",path:I="",query:v={}}=e,Xe=new URL(`${b}//${y}${E?`:${E}`:""}${I}`);return Xe.search=Object.entries(v).map(([fc,Ge])=>`${fc}=${Ge}`).join("&"),Xe}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:o,pathname:s,protocol:i,search:a}=t;if(a)return null;let c=i.slice(0,-1);if(!Object.values(Wr).includes(c))return null;let d=rs(o),f=r.includes(`${n}:${ca[c]}`)||typeof e=="string"&&e.includes(`${n}:${ca[c]}`),h=`${n}${f?`:${ca[c]}`:""}`;return{scheme:c,authority:h,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:d}};var gE=(e,t)=>e===t;var CE=(e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r);var xE=e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`);var os=(e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},o=0;for(;o<e.length;){let s=e.indexOf("{",o);if(s===-1){r.push(e.slice(o));break}r.push(e.slice(o,s));let i=e.indexOf("}",s);if(i===-1){r.push(e.slice(s));break}e[s+1]==="{"&&e[i+1]==="}"&&(r.push(e.slice(s+1,i)),o=i+2);let a=e.substring(s+1,i);if(a.includes("#")){let[c,d]=a.split("#");r.push(aa(n[c],d))}else r.push(n[a]);o=i+1}return r.join("")};var Of=({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e];var rr=(e,t,r)=>{if(typeof e=="string")return os(e,r);if(e.fn)return ss(e,r);if(e.ref)return Of(e,r);throw new te(`'${t}': ${String(e)} is not a string, function or reference.`)};var ss=({fn:e,argv:t},r)=>{let n=t.map(o=>["boolean","number"].includes(typeof o)?o:rr(o,"arg",r));return e.split(".").reduce((o,s)=>o[s],da)(...n)};var Df=({assign:e,...t},r)=>{var o,s;if(e&&e in r.referenceRecord)throw new te(`'${e}' is already defined in Reference Record.`);let n=ss(t,r);return(s=(o=r.logger)==null?void 0:o.debug)==null||s.call(o,Et,`evaluateCondition: ${ze(t)} = ${ze(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}};var Yr=(e=[],t)=>{var n,o;let r={};for(let s of e){let{result:i,toAssign:a}=Df(s,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!i)return{result:i};a&&(r[a.name]=a.value,(o=(n=t.logger)==null?void 0:n.debug)==null||o.call(n,Et,`assign: ${a.name} := ${ze(a.value)}`))}return{result:!0,referenceRecord:r}};var Bf=(e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:o.map(s=>{let i=rr(s,"Header value entry",t);if(typeof i!="string")throw new te(`Header '${n}' value '${i}' is not a string`);return i})}),{});var la=(e,t)=>{if(Array.isArray(e))return e.map(r=>la(r,t));switch(typeof e){case"string":return os(e,t);case"object":if(e===null)throw new te(`Unexpected endpoint property: ${e}`);return is(e,t);case"boolean":return e;default:throw new te(`Unexpected endpoint property type: ${typeof e}`)}};var is=(e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:la(o,t)}),{});var Mf=(e,t)=>{let r=rr(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new te(`Endpoint URL must be a string, got ${typeof r}`)};var Ff=(e,t)=>{var f,h;let{conditions:r,endpoint:n}=e,{result:o,referenceRecord:s}=Yr(r,t);if(!o)return;let i={...t,referenceRecord:{...t.referenceRecord,...s}},{url:a,properties:c,headers:d}=n;return(h=(f=t.logger)==null?void 0:f.debug)==null||h.call(f,Et,`Resolving endpoint from template: ${ze(n)}`),{...d!=null&&{headers:Bf(d,i)},...c!=null&&{properties:is(c,i)},url:Mf(a,i)}};var Lf=(e,t)=>{let{conditions:r,error:n}=e,{result:o,referenceRecord:s}=Yr(r,t);if(o)throw new te(rr(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...s}}))};var zf=(e,t)=>{let{conditions:r,rules:n}=e,{result:o,referenceRecord:s}=Yr(r,t);if(o)return as(n,{...t,referenceRecord:{...t.referenceRecord,...s}})};var as=(e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=Ff(r,t);if(n)return n}else if(r.type==="error")Lf(r,t);else if(r.type==="tree"){let n=zf(r,t);if(n)return n}else throw new te(`Unknown endpoint rule: ${r}`);throw new te("Rules evaluation failed")};var nr=(e,t)=>{var d,f,h,y,E;let{endpointParams:r,logger:n}=t,{parameters:o,rules:s}=e;(f=(d=t.logger)==null?void 0:d.debug)==null||f.call(d,Et,`Initial EndpointParams: ${ze(r)}`);let i=Object.entries(o).filter(([,b])=>b.default!=null).map(([b,I])=>[b,I.default]);if(i.length>0)for(let[b,I]of i)r[b]=r[b]??I;let a=Object.entries(o).filter(([,b])=>b.required).map(([b])=>b);for(let b of a)if(r[b]==null)throw new te(`Missing required parameter: '${b}'`);let c=as(s,{endpointParams:r,logger:n,referenceRecord:{}});if((h=t.endpointParams)!=null&&h.Endpoint)try{let b=new URL(t.endpointParams.Endpoint),{protocol:I,port:v}=b;c.url.protocol=I,c.url.port=v}catch{}return(E=(y=t.logger)==null?void 0:y.debug)==null||E.call(y,Et,`Resolved endpoint: ${ze(c)}`),c};var fa="user-agent",cs="x-amz-user-agent",ma=" ",Uf=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g;var wE=e=>(t,r)=>async n=>{var y,E;let{request:o}=n;if(!V.isInstance(o))return t(n);let{headers:s}=o,i=((y=r==null?void 0:r.userAgent)==null?void 0:y.map(ua))||[],a=(await e.defaultUserAgentProvider()).map(ua),c=((E=e==null?void 0:e.customUserAgent)==null?void 0:E.map(ua))||[],d=sa(),f=(d?[d]:[]).concat([...a,...i,...c]).join(ma),h=[...a.filter(b=>b.startsWith("aws-sdk-")),...c].join(ma);return e.runtime!=="browser"?(h&&(s[cs]=s[cs]?`${s[fa]} ${h}`:h),s[fa]=f):s[cs]=f,t({...n,request:o})},ua=([e,t])=>{let r=e.indexOf("/"),n=e.substring(0,r),o=e.substring(r+1);return n==="api"&&(o=o.toLowerCase()),[n,o,t].filter(s=>s&&s.length>0).map(s=>s==null?void 0:s.replace(Uf,"_")).join("/")},EE={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},or=e=>({applyToStack:t=>{t.add(wE(e),EE)}});var $f=e=>({...e,useFipsEndpoint:e.useFipsEndpoint??!1,useDualstackEndpoint:e.useDualstackEndpoint??!1,useAccelerateEndpoint:e.useAccelerateEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,disableMultiregionAccessPoints:e.disableMultiregionAccessPoints??!1,defaultSigningName:"s3"});var jf={name:"@aws-sdk/client-s3",description:"AWS SDK for JavaScript S3 Client for Node.js, Browser and React Native",version:"3.309.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo s3",test:"yarn test:unit","test:e2e":"ts-mocha test/**/*.ispec.ts && karma start karma.conf.js","test:unit":"ts-mocha test/**/*.spec.ts"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha1-browser":"3.0.0","@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.309.0","@aws-sdk/config-resolver":"3.306.0","@aws-sdk/credential-provider-node":"3.309.0","@aws-sdk/eventstream-serde-browser":"3.306.0","@aws-sdk/eventstream-serde-config-resolver":"3.306.0","@aws-sdk/eventstream-serde-node":"3.306.0","@aws-sdk/fetch-http-handler":"3.306.0","@aws-sdk/hash-blob-browser":"3.306.0","@aws-sdk/hash-node":"3.306.0","@aws-sdk/hash-stream-node":"3.306.0","@aws-sdk/invalid-dependency":"3.306.0","@aws-sdk/md5-js":"3.306.0","@aws-sdk/middleware-bucket-endpoint":"3.306.0","@aws-sdk/middleware-content-length":"3.306.0","@aws-sdk/middleware-endpoint":"3.306.0","@aws-sdk/middleware-expect-continue":"3.306.0","@aws-sdk/middleware-flexible-checksums":"3.306.0","@aws-sdk/middleware-host-header":"3.306.0","@aws-sdk/middleware-location-constraint":"3.306.0","@aws-sdk/middleware-logger":"3.306.0","@aws-sdk/middleware-recursion-detection":"3.306.0","@aws-sdk/middleware-retry":"3.306.0","@aws-sdk/middleware-sdk-s3":"3.306.0","@aws-sdk/middleware-serde":"3.306.0","@aws-sdk/middleware-signing":"3.306.0","@aws-sdk/middleware-ssec":"3.306.0","@aws-sdk/middleware-stack":"3.306.0","@aws-sdk/middleware-user-agent":"3.306.0","@aws-sdk/node-config-provider":"3.306.0","@aws-sdk/node-http-handler":"3.306.0","@aws-sdk/protocol-http":"3.306.0","@aws-sdk/signature-v4-multi-region":"3.306.0","@aws-sdk/smithy-client":"3.309.0","@aws-sdk/types":"3.306.0","@aws-sdk/url-parser":"3.306.0","@aws-sdk/util-base64":"3.303.0","@aws-sdk/util-body-length-browser":"3.303.0","@aws-sdk/util-body-length-node":"3.303.0","@aws-sdk/util-defaults-mode-browser":"3.309.0","@aws-sdk/util-defaults-mode-node":"3.309.0","@aws-sdk/util-endpoints":"3.306.0","@aws-sdk/util-retry":"3.306.0","@aws-sdk/util-stream-browser":"3.306.0","@aws-sdk/util-stream-node":"3.306.0","@aws-sdk/util-user-agent-browser":"3.306.0","@aws-sdk/util-user-agent-node":"3.306.0","@aws-sdk/util-utf8":"3.303.0","@aws-sdk/util-waiter":"3.306.0","@aws-sdk/xml-builder":"3.303.0","fast-xml-parser":"4.1.2",tslib:"^2.5.0"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.303.0","@tsconfig/node14":"1.0.3","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-s3",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-s3"}};var qf=Tt(vi());var Se=class extends Me{constructor(t){super(t),Object.setPrototypeOf(this,Se.prototype)}};var Qr=class extends Se{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,Qr.prototype)}},Xr=class extends Se{constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),this.name="MalformedPolicyDocumentException",this.$fault="client",Object.setPrototypeOf(this,Xr.prototype)}},Jr=class extends Se{constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),this.name="PackedPolicyTooLargeException",this.$fault="client",Object.setPrototypeOf(this,Jr.prototype)}},Zr=class extends Se{constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),this.name="RegionDisabledException",this.$fault="client",Object.setPrototypeOf(this,Zr.prototype)}},en=class extends Se{constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),this.name="IDPRejectedClaimException",this.$fault="client",Object.setPrototypeOf(this,en.prototype)}},tn=class extends Se{constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),this.name="InvalidIdentityTokenException",this.$fault="client",Object.setPrototypeOf(this,tn.prototype)}},rn=class extends Se{constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),this.name="IDPCommunicationErrorException",this.$fault="client",Object.setPrototypeOf(this,rn.prototype)}};var Kf=async(e,t)=>{let r={"content-type":"application/x-www-form-urlencoded"},n;return n=nm({...NE(e,t),Action:"AssumeRole",Version:"2011-06-15"}),tm(t,r,"/",void 0,n)};var Gf=async(e,t)=>{let r={"content-type":"application/x-www-form-urlencoded"},n;return n=nm({...TE(e,t),Action:"AssumeRoleWithWebIdentity",Version:"2011-06-15"}),tm(t,r,"/",void 0,n)};var Hf=async(e,t)=>{if(e.statusCode>=300)return SE(e,t);let r=await ha(e.body,t),n={};n=DE(r.AssumeRoleResult,t);let o={$metadata:bt(e),...n};return Promise.resolve(o)},SE=async(e,t)=>{let r={...e,body:await rm(e.body,t)},n=om(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await Wf(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await Yf(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await Qf(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await Xf(r,t);default:let o=r.body;Ct({output:e,parsedBody:o.Error,exceptionCtor:Se,errorCode:n})}};var Vf=async(e,t)=>{if(e.statusCode>=300)return kE(e,t);let r=await ha(e.body,t),n={};n=BE(r.AssumeRoleWithWebIdentityResult,t);let o={$metadata:bt(e),...n};return Promise.resolve(o)},kE=async(e,t)=>{let r={...e,body:await rm(e.body,t)},n=om(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await Wf(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await _E(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await AE(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await RE(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await Yf(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await Qf(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await Xf(r,t);default:let o=r.body;Ct({output:e,parsedBody:o.Error,exceptionCtor:Se,errorCode:n})}};var Wf=async(e,t)=>{let r=e.body,n=ME(r.Error,t),o=new Qr({$metadata:bt(e),...n});return J(o,r)},_E=async(e,t)=>{let r=e.body,n=FE(r.Error,t),o=new rn({$metadata:bt(e),...n});return J(o,r)},AE=async(e,t)=>{let r=e.body,n=LE(r.Error,t),o=new en({$metadata:bt(e),...n});return J(o,r)};var RE=async(e,t)=>{let r=e.body,n=zE(r.Error,t),o=new tn({$metadata:bt(e),...n});return J(o,r)},Yf=async(e,t)=>{let r=e.body,n=UE(r.Error,t),o=new Xr({$metadata:bt(e),...n});return J(o,r)},Qf=async(e,t)=>{let r=e.body,n=$E(r.Error,t),o=new Jr({$metadata:bt(e),...n});return J(o,r)},Xf=async(e,t)=>{let r=e.body,n=jE(r.Error,t),o=new Zr({$metadata:bt(e),...n});return J(o,r)},NE=(e,t)=>{var n,o,s;let r={};if(e.RoleArn!=null&&(r.RoleArn=e.RoleArn),e.RoleSessionName!=null&&(r.RoleSessionName=e.RoleSessionName),e.PolicyArns!=null){let i=Jf(e.PolicyArns,t);((n=e.PolicyArns)==null?void 0:n.length)===0&&(r.PolicyArns=[]),Object.entries(i).forEach(([a,c])=>{let d=`PolicyArns.${a}`;r[d]=c})}if(e.Policy!=null&&(r.Policy=e.Policy),e.DurationSeconds!=null&&(r.DurationSeconds=e.DurationSeconds),e.Tags!=null){let i=OE(e.Tags,t);((o=e.Tags)==null?void 0:o.length)===0&&(r.Tags=[]),Object.entries(i).forEach(([a,c])=>{let d=`Tags.${a}`;r[d]=c})}if(e.TransitiveTagKeys!=null){let i=vE(e.TransitiveTagKeys,t);((s=e.TransitiveTagKeys)==null?void 0:s.length)===0&&(r.TransitiveTagKeys=[]),Object.entries(i).forEach(([a,c])=>{let d=`TransitiveTagKeys.${a}`;r[d]=c})}return e.ExternalId!=null&&(r.ExternalId=e.ExternalId),e.SerialNumber!=null&&(r.SerialNumber=e.SerialNumber),e.TokenCode!=null&&(r.TokenCode=e.TokenCode),e.SourceIdentity!=null&&(r.SourceIdentity=e.SourceIdentity),r};var TE=(e,t)=>{var n;let r={};if(e.RoleArn!=null&&(r.RoleArn=e.RoleArn),e.RoleSessionName!=null&&(r.RoleSessionName=e.RoleSessionName),e.WebIdentityToken!=null&&(r.WebIdentityToken=e.WebIdentityToken),e.ProviderId!=null&&(r.ProviderId=e.ProviderId),e.PolicyArns!=null){let o=Jf(e.PolicyArns,t);((n=e.PolicyArns)==null?void 0:n.length)===0&&(r.PolicyArns=[]),Object.entries(o).forEach(([s,i])=>{let a=`PolicyArns.${s}`;r[a]=i})}return e.Policy!=null&&(r.Policy=e.Policy),e.DurationSeconds!=null&&(r.DurationSeconds=e.DurationSeconds),r};var Jf=(e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let s=IE(o,t);Object.entries(s).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},IE=(e,t)=>{let r={};return e.arn!=null&&(r.arn=e.arn),r},PE=(e,t)=>{let r={};return e.Key!=null&&(r.Key=e.Key),e.Value!=null&&(r.Value=e.Value),r},vE=(e,t)=>{let r={},n=1;for(let o of e)o!==null&&(r[`member.${n}`]=o,n++);return r},OE=(e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let s=PE(o,t);Object.entries(s).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},Zf=(e,t)=>{let r={};return e.AssumedRoleId!==void 0&&(r.AssumedRoleId=N(e.AssumedRoleId)),e.Arn!==void 0&&(r.Arn=N(e.Arn)),r},DE=(e,t)=>{let r={};return e.Credentials!==void 0&&(r.Credentials=em(e.Credentials,t)),e.AssumedRoleUser!==void 0&&(r.AssumedRoleUser=Zf(e.AssumedRoleUser,t)),e.PackedPolicySize!==void 0&&(r.PackedPolicySize=Ur(e.PackedPolicySize)),e.SourceIdentity!==void 0&&(r.SourceIdentity=N(e.SourceIdentity)),r};var BE=(e,t)=>{let r={};return e.Credentials!==void 0&&(r.Credentials=em(e.Credentials,t)),e.SubjectFromWebIdentityToken!==void 0&&(r.SubjectFromWebIdentityToken=N(e.SubjectFromWebIdentityToken)),e.AssumedRoleUser!==void 0&&(r.AssumedRoleUser=Zf(e.AssumedRoleUser,t)),e.PackedPolicySize!==void 0&&(r.PackedPolicySize=Ur(e.PackedPolicySize)),e.Provider!==void 0&&(r.Provider=N(e.Provider)),e.Audience!==void 0&&(r.Audience=N(e.Audience)),e.SourceIdentity!==void 0&&(r.SourceIdentity=N(e.SourceIdentity)),r},em=(e,t)=>{let r={};return e.AccessKeyId!==void 0&&(r.AccessKeyId=N(e.AccessKeyId)),e.SecretAccessKey!==void 0&&(r.SecretAccessKey=N(e.SecretAccessKey)),e.SessionToken!==void 0&&(r.SessionToken=N(e.SessionToken)),e.Expiration!==void 0&&(r.Expiration=Ve(No(e.Expiration))),r};var ME=(e,t)=>{let r={};return e.message!==void 0&&(r.message=N(e.message)),r};var FE=(e,t)=>{let r={};return e.message!==void 0&&(r.message=N(e.message)),r},LE=(e,t)=>{let r={};return e.message!==void 0&&(r.message=N(e.message)),r};var zE=(e,t)=>{let r={};return e.message!==void 0&&(r.message=N(e.message)),r},UE=(e,t)=>{let r={};return e.message!==void 0&&(r.message=N(e.message)),r},$E=(e,t)=>{let r={};return e.message!==void 0&&(r.message=N(e.message)),r},jE=(e,t)=>{let r={};return e.message!==void 0&&(r.message=N(e.message)),r},bt=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),qE=(e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),KE=(e,t)=>qE(e,t).then(r=>t.utf8Encoder(r)),tm=async(e,t,r,n,o)=>{let{hostname:s,protocol:i="https",port:a,path:c}=await e.endpoint(),d={protocol:i,hostname:s,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(d.hostname=n),o!==void 0&&(d.body=o),new V(d)},ha=(e,t)=>KE(e,t).then(r=>{if(r.length){let n=new qf.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,d)=>d.trim()===""&&d.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let o=n.parse(r),s="#text",i=Object.keys(o)[0],a=o[i];return a[s]&&(a[i]=a[s],delete a[s]),Mn(a)}return{}}),rm=async(e,t)=>{let r=await ha(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},nm=e=>Object.entries(e).map(([t,r])=>$r(t)+"="+$r(r)).join("&"),om=(e,t)=>{var r;if(((r=t.Error)==null?void 0:r.Code)!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"};var nn=class extends Be{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use(Ze(r,this.serialize,this.deserialize)),this.middlewareStack.use(et(r,nn.getEndpointParameterInstructions())),this.middlewareStack.use(ts(r));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"STSClient",commandName:"AssumeRoleCommand",inputFilterSensitiveLog:f=>f,outputFilterSensitiveLog:f=>f},{requestHandler:d}=r;return o.resolve(f=>d.handle(f.request,n||{}),c)}serialize(t,r){return Kf(t,r)}deserialize(t,r){return Hf(t,r)}};var on=class extends Be{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use(Ze(r,this.serialize,this.deserialize)),this.middlewareStack.use(et(r,on.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"STSClient",commandName:"AssumeRoleWithWebIdentityCommand",inputFilterSensitiveLog:f=>f,outputFilterSensitiveLog:f=>f},{requestHandler:d}=r;return o.resolve(f=>d.handle(f.request,n||{}),c)}serialize(t,r){return Gf(t,r)}deserialize(t,r){return Vf(t,r)}};var sm=(e,{stsClientCtor:t})=>Zo({...e,stsClientCtor:t});var im=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"});var am={name:"@aws-sdk/client-sts",description:"AWS SDK for JavaScript Sts Client for Node.js, Browser and React Native",version:"3.309.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sts",test:"yarn test:unit","test:unit":"jest"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/config-resolver":"3.306.0","@aws-sdk/credential-provider-node":"3.309.0","@aws-sdk/fetch-http-handler":"3.306.0","@aws-sdk/hash-node":"3.306.0","@aws-sdk/invalid-dependency":"3.306.0","@aws-sdk/middleware-content-length":"3.306.0","@aws-sdk/middleware-endpoint":"3.306.0","@aws-sdk/middleware-host-header":"3.306.0","@aws-sdk/middleware-logger":"3.306.0","@aws-sdk/middleware-recursion-detection":"3.306.0","@aws-sdk/middleware-retry":"3.306.0","@aws-sdk/middleware-sdk-sts":"3.306.0","@aws-sdk/middleware-serde":"3.306.0","@aws-sdk/middleware-signing":"3.306.0","@aws-sdk/middleware-stack":"3.306.0","@aws-sdk/middleware-user-agent":"3.306.0","@aws-sdk/node-config-provider":"3.306.0","@aws-sdk/node-http-handler":"3.306.0","@aws-sdk/protocol-http":"3.306.0","@aws-sdk/smithy-client":"3.309.0","@aws-sdk/types":"3.306.0","@aws-sdk/url-parser":"3.306.0","@aws-sdk/util-base64":"3.303.0","@aws-sdk/util-body-length-browser":"3.303.0","@aws-sdk/util-body-length-node":"3.303.0","@aws-sdk/util-defaults-mode-browser":"3.309.0","@aws-sdk/util-defaults-mode-node":"3.309.0","@aws-sdk/util-endpoints":"3.306.0","@aws-sdk/util-retry":"3.306.0","@aws-sdk/util-user-agent-browser":"3.306.0","@aws-sdk/util-user-agent-node":"3.306.0","@aws-sdk/util-utf8":"3.303.0","fast-xml-parser":"4.1.2",tslib:"^2.5.0"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.303.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sts",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sts"}};var cm="us-east-1",dm=e=>typeof e!="function"?e===void 0?cm:e:async()=>{try{return await e()}catch{return cm}},pa=(e,t)=>{let r,n;return async(o,s)=>{if(n=o,!r){let{logger:a,region:c,requestHandler:d}=e;r=new t({logger:a,credentialDefaultProvider:()=>async()=>n,region:dm(c||e.region),...d?{requestHandler:d}:{}})}let{Credentials:i}=await r.send(new nn(s));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${s.RoleArn}`);return{accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration}}},ya=(e,t)=>{let r;return async n=>{if(!r){let{logger:s,region:i,requestHandler:a}=e;r=new t({logger:s,region:dm(i||e.region),...a?{requestHandler:a}:{}})}let{Credentials:o}=await r.send(new on(n));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);return{accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration}}},lm=e=>t=>e({roleAssumer:pa(t,t.stsClientCtor),roleAssumerWithWebIdentity:ya(t,t.stsClientCtor),...t});var HE="AWS_ACCESS_KEY_ID",VE="AWS_SECRET_ACCESS_KEY",WE="AWS_SESSION_TOKEN",YE="AWS_CREDENTIAL_EXPIRATION",ds=()=>async()=>{let e=process.env[HE],t=process.env[VE],r=process.env[WE],n=process.env[YE];if(e&&t)return{accessKeyId:e,secretAccessKey:t,...r&&{sessionToken:r},...n&&{expiration:new Date(n)}};throw new D("Unable to find environment variable credentials.")};var fm=require("os"),mm=require("path"),sn=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${mm.sep}`}=process.env;return e||t||(r?`${n}${r}`:(0,fm.homedir)())};var ga="AWS_PROFILE",QE="default",Ue=e=>e.profile||process.env[ga]||QE;var um=require("crypto"),hm=require("path");var ls=e=>{let r=(0,um.createHash)("sha1").update(e).digest("hex");return(0,hm.join)(sn(),".aws","sso","cache",`${r}.json`)};var pm=require("fs");var{readFile:XE}=pm.promises,fs=async e=>{let t=ls(e),r=await XE(t,"utf8");return JSON.parse(r)};var ym=require("path");var JE="AWS_CONFIG_FILE",ms=()=>process.env[JE]||(0,ym.join)(sn(),".aws","config");var gm=require("path");var ZE="AWS_SHARED_CREDENTIALS_FILE",Cm=()=>process.env[ZE]||(0,gm.join)(sn(),".aws","credentials");var xm=/^profile\s(["'])?([^\1]+)\1$/,wm=e=>Object.entries(e).filter(([t])=>xm.test(t)).reduce((t,[r,n])=>({...t,[xm.exec(r)[2]]:n}),{...e.default&&{default:e.default}});var eb=["__proto__","profile __proto__"],qn=e=>{let t={},r;for(let n of e.split(/\r?\n/))if(n=n.split(/(^|\s)[;#]/)[0].trim(),n[0]==="["&&n[n.length-1]==="]"){if(r=n.substring(1,n.length-1),eb.includes(r))throw new Error(`Found invalid profile name "${r}"`)}else if(r){let s=n.indexOf("="),i=0,a=n.length-1;if(s!==-1&&s!==i&&s!==a){let[d,f]=[n.substring(0,s).trim(),n.substring(s+1).trim()];t[r]=t[r]||{},t[r][d]=f}}return t};var Em=require("fs"),{readFile:tb}=Em.promises,Ca={},Kn=(e,t)=>((!Ca[e]||t!=null&&t.ignoreCache)&&(Ca[e]=tb(e,"utf8")),Ca[e]);var bm=()=>({}),us=async(e={})=>{let{filepath:t=Cm(),configFilepath:r=ms()}=e,n=await Promise.all([Kn(r,{ignoreCache:e.ignoreCache}).then(qn).then(wm).catch(bm),Kn(t,{ignoreCache:e.ignoreCache}).then(qn).catch(bm)]);return{configFile:n[0],credentialsFile:n[1]}};var Sm=/^sso-session\s(["'])?([^\1]+)\1$/,km=e=>Object.entries(e).filter(([t])=>Sm.test(t)).reduce((t,[r,n])=>({...t,[Sm.exec(r)[2]]:n}),{});var rb=()=>({}),hs=async(e={})=>Kn(e.configFilepath??ms()).then(qn).then(km).catch(rb);var _m=(...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t};var sr=async e=>{let t=await us(e);return _m(t.configFile,t.credentialsFile)};var Tm=require("url");var Am=require("buffer"),Rm=require("http");function St(e){return new Promise((t,r)=>{var o;let n=(0,Rm.request)({method:"GET",...e,hostname:(o=e.hostname)==null?void 0:o.replace(/^\[(.+)\]$/,"$1")});n.on("error",s=>{r(Object.assign(new Ne("Unable to connect to instance metadata service"),s)),n.destroy()}),n.on("timeout",()=>{r(new Ne("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",s=>{let{statusCode:i=400}=s;(i<200||300<=i)&&(r(Object.assign(new Ne("Error response received from instance metadata service"),{statusCode:i})),n.destroy());let a=[];s.on("data",c=>{a.push(c)}),s.on("end",()=>{t(Am.Buffer.concat(a)),n.destroy()})}),n.end()})}var ps=e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string",ys=e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration)});var gs=({maxRetries:e=0,timeout:t=1e3})=>({maxRetries:e,timeout:t});var Gn=(e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r};var Hn="AWS_CONTAINER_CREDENTIALS_FULL_URI",Vn="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",Nm="AWS_CONTAINER_AUTHORIZATION_TOKEN",Cs=(e={})=>{let{timeout:t,maxRetries:r}=gs(e);return()=>Gn(async()=>{let n=await ab(),o=JSON.parse(await nb(t,n));if(!ps(o))throw new D("Invalid response received from instance metadata service.");return ys(o)},r)},nb=async(e,t)=>(process.env[Nm]&&(t.headers={...t.headers,Authorization:process.env[Nm]}),(await St({...t,timeout:e})).toString()),ob="169.254.170.2",sb={localhost:!0,"127.0.0.1":!0},ib={"http:":!0,"https:":!0},ab=async()=>{if(process.env[Vn])return{hostname:ob,path:process.env[Vn]};if(process.env[Hn]){let e=(0,Tm.parse)(process.env[Hn]);if(!e.hostname||!(e.hostname in sb))throw new D(`${e.hostname} is not a valid container metadata service hostname`,!1);if(!e.protocol||!(e.protocol in ib))throw new D(`${e.protocol} is not a valid container metadata service protocol`,!1);return{...e,port:e.port?parseInt(e.port,10):void 0}}throw new D(`The container metadata credential provider cannot be used unless the ${Vn} or ${Hn} environment variable is set`,!1)};var Im=e=>async()=>{try{let t=e(process.env);if(t===void 0)throw new Error;return t}catch(t){throw new D(t.message||`Cannot load config from environment variables with getter: ${e}`)}};var Pm=(e,{preferredFile:t="config",...r}={})=>async()=>{let n=Ue(r),{configFile:o,credentialsFile:s}=await us(r),i=s[n]||{},a=o[n]||{},c=t==="config"?{...i,...a}:{...a,...i};try{let d=e(c);if(d===void 0)throw new Error;return d}catch(d){throw new D(d.message||`Cannot load config for profile ${n} in SDK configuration files with getter: ${e}`)}};var cb=e=>typeof e=="function",vm=e=>cb(e)?async()=>await e():ef(e);var K=({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>er(Go(Im(e),Pm(t,n),vm(r)));var Wn;(function(e){e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]"})(Wn||(Wn={}));var db="AWS_EC2_METADATA_SERVICE_ENDPOINT",lb="ec2_metadata_service_endpoint",Om={environmentVariableSelector:e=>e[db],configFileSelector:e=>e[lb],default:void 0};var ir;(function(e){e.IPv4="IPv4",e.IPv6="IPv6"})(ir||(ir={}));var fb="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",mb="ec2_metadata_service_endpoint_mode",Dm={environmentVariableSelector:e=>e[fb],configFileSelector:e=>e[mb],default:ir.IPv4};var Yn=async()=>Ae(await ub()||await hb()),ub=async()=>K(Om)(),hb=async()=>{let e=await K(Dm)();switch(e){case ir.IPv4:return Wn.IPv4;case ir.IPv6:return Wn.IPv6;default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(ir)}`)}};var pb="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",xa=(e,t)=>{let r=300+Math.floor(Math.random()*300),n=new Date(Date.now()+r*1e3);t.warn("Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(newExpiration)}.\nFor more information, please visit: "+pb);let o=e.originalExpiration??e.expiration;return{...e,...o?{originalExpiration:o}:{},expiration:n}};var Bm=(e,t={})=>{let r=(t==null?void 0:t.logger)||console,n;return async()=>{let o;try{o=await e(),o.expiration&&o.expiration.getTime()<Date.now()&&(o=xa(o,r))}catch(s){if(n)r.warn("Credential renew failed: ",s),o=xa(n,r);else throw s}return n=o,o}};var Mm="/latest/meta-data/iam/security-credentials/",yb="/latest/api/token",xs=(e={})=>Bm(gb(e),{logger:e.logger}),gb=e=>{let t=!1,{timeout:r,maxRetries:n}=gs(e),o=async(s,i)=>{let a=(await Gn(async()=>{let c;try{c=await xb(i)}catch(d){throw d.statusCode===401&&(t=!1),d}return c},s)).trim();return Gn(async()=>{let c;try{c=await wb(a,i)}catch(d){throw d.statusCode===401&&(t=!1),d}return c},s)};return async()=>{let s=await Yn();if(t)return o(n,{...s,timeout:r});{let i;try{i=(await Cb({...s,timeout:r})).toString()}catch(a){if((a==null?void 0:a.statusCode)===400)throw Object.assign(a,{message:"EC2 Metadata token request returned error"});return(a.message==="TimeoutError"||[403,404,405].includes(a.statusCode))&&(t=!0),o(n,{...s,timeout:r})}return o(n,{...s,headers:{"x-aws-ec2-metadata-token":i},timeout:r})}}},Cb=async e=>St({...e,path:yb,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),xb=async e=>(await St({...e,path:Mm})).toString(),wb=async(e,t)=>{let r=JSON.parse((await St({...t,path:Mm+e})).toString());if(!ps(r))throw new D("Invalid response received from instance metadata service.");return ys(r)};var Fm=(e,t)=>{let r={EcsContainer:Cs,Ec2InstanceMetadata:xs,Environment:ds};if(e in r)return r[e]();throw new D(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`)};var Lm=e=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(Eb(e)||bb(e)),Eb=e=>typeof e.source_profile=="string"&&typeof e.credential_source>"u",bb=e=>typeof e.credential_source=="string"&&typeof e.source_profile>"u",zm=async(e,t,r,n={})=>{let o=t[e];if(!r.roleAssumer)throw new D(`Profile ${e} requires a role to be assumed, but no role assumption callback was provided.`,!1);let{source_profile:s}=o;if(s&&s in n)throw new D(`Detected a cycle attempting to resolve credentials for profile ${Ue(r)}. Profiles visited: `+Object.keys(n).join(", "),!1);let i=s?ws(s,t,r,{...n,[s]:!0}):Fm(o.credential_source,e)(),a={RoleArn:o.role_arn,RoleSessionName:o.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:o.external_id},{mfa_serial:c}=o;if(c){if(!r.mfaCodeProvider)throw new D(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,!1);a.SerialNumber=c,a.TokenCode=await r.mfaCodeProvider(c)}let d=await i;return r.roleAssumer(d,a)};var $m=require("child_process"),jm=require("util");var Um=(e,t)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let r=new Date;if(new Date(t.Expiration)<r)throw Error(`Profile ${e} credential_process returned expired credentials.`)}return{accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)}}};var qm=async(e,t)=>{let r=t[e];if(t[e]){let n=r.credential_process;if(n!==void 0){let o=(0,jm.promisify)($m.exec);try{let{stdout:s}=await o(n),i;try{i=JSON.parse(s.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return Um(e,i)}catch(s){throw new D(s.message)}}else throw new D(`Profile ${e} did not contain credential_process.`)}else throw new D(`Profile ${e} could not be found in shared credentials file.`)};var Es=(e={})=>async()=>{let t=await sr(e);return qm(Ue(e),t)};var Km=e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string",Gm=async(e,t)=>Es({...e,profile:t})();var Qn=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string");var Ye=class extends Me{constructor(t){super(t),Object.setPrototypeOf(this,Ye.prototype)}};var an=class extends Ye{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,an.prototype)}},cn=class extends Ye{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,cn.prototype)}},dn=class extends Ye{constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,dn.prototype)}},ln=class extends Ye{constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),this.name="UnauthorizedException",this.$fault="client",Object.setPrototypeOf(this,ln.prototype)}},Hm=e=>({...e,...e.accessToken&&{accessToken:On}}),Sb=e=>({...e,...e.secretAccessKey&&{secretAccessKey:On},...e.sessionToken&&{sessionToken:On}}),Vm=e=>({...e,...e.roleCredentials&&{roleCredentials:Sb(e.roleCredentials)}});var Wm=async(e,t)=>{let{hostname:r,protocol:n="https",port:o,path:s}=await t.endpoint(),i=Er({},vb,{"x-amz-sso_bearer_token":e.accessToken}),a=`${s!=null&&s.endsWith("/")?s.slice(0,-1):s||""}/federation/credentials`,c=Er({role_name:[,Ve(e.roleName,"roleName")],account_id:[,Ve(e.accountId,"accountId")]}),d;return new V({protocol:n,hostname:r,port:o,method:"GET",headers:i,path:a,query:c,body:d})};var Ym=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return kb(e,t);let r=Er({$metadata:Xn(e)}),n=Ve(zr(await Qm(e.body,t)),"body");return n.roleCredentials!=null&&(r.roleCredentials=Tb(n.roleCredentials,t)),r},kb=async(e,t)=>{let r={...e,body:await Ob(e.body,t)},n=Db(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await _b(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await Ab(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await Rb(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await Nb(r,t);default:let o=r.body;Ct({output:e,parsedBody:o,exceptionCtor:Ye,errorCode:n})}};var Er=gr,_b=async(e,t)=>{let r=Er({}),n=e.body;n.message!=null&&(r.message=N(n.message));let o=new an({$metadata:Xn(e),...r});return J(o,e.body)},Ab=async(e,t)=>{let r=Er({}),n=e.body;n.message!=null&&(r.message=N(n.message));let o=new cn({$metadata:Xn(e),...r});return J(o,e.body)},Rb=async(e,t)=>{let r=Er({}),n=e.body;n.message!=null&&(r.message=N(n.message));let o=new dn({$metadata:Xn(e),...r});return J(o,e.body)},Nb=async(e,t)=>{let r=Er({}),n=e.body;n.message!=null&&(r.message=N(n.message));let o=new ln({$metadata:Xn(e),...r});return J(o,e.body)};var Tb=(e,t)=>({accessKeyId:N(e.accessKeyId),expiration:Lr(e.expiration),secretAccessKey:N(e.secretAccessKey),sessionToken:N(e.sessionToken)});var Xn=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Ib=(e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),Pb=(e,t)=>Ib(e,t).then(r=>t.utf8Encoder(r)),vb=e=>e!=null&&e!==""&&(!Object.getOwnPropertyNames(e).includes("length")||e.length!=0)&&(!Object.getOwnPropertyNames(e).includes("size")||e.size!=0),Qm=(e,t)=>Pb(e,t).then(r=>r.length?JSON.parse(r):{}),Ob=async(e,t)=>{let r=await Qm(e,t);return r.message=r.message??r.Message,r},Db=(e,t)=>{let r=(s,i)=>Object.keys(s).find(a=>a.toLowerCase()===i.toLowerCase()),n=s=>{let i=s;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},o=r(e.headers,"x-amzn-errortype");if(o!==void 0)return n(e.headers[o]);if(t.code!==void 0)return n(t.code);if(t.__type!==void 0)return n(t.__type)};var fn=class extends Be{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use(Ze(r,this.serialize,this.deserialize)),this.middlewareStack.use(et(r,fn.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"SSOClient",commandName:"GetRoleCredentialsCommand",inputFilterSensitiveLog:Hm,outputFilterSensitiveLog:Vm},{requestHandler:d}=r;return o.resolve(f=>d.handle(f.request,n||{}),c)}serialize(t,r){return Wm(t,r)}deserialize(t,r){return Ym(t,r)}};var Xm=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"});var Jm={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.309.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/config-resolver":"3.306.0","@aws-sdk/fetch-http-handler":"3.306.0","@aws-sdk/hash-node":"3.306.0","@aws-sdk/invalid-dependency":"3.306.0","@aws-sdk/middleware-content-length":"3.306.0","@aws-sdk/middleware-endpoint":"3.306.0","@aws-sdk/middleware-host-header":"3.306.0","@aws-sdk/middleware-logger":"3.306.0","@aws-sdk/middleware-recursion-detection":"3.306.0","@aws-sdk/middleware-retry":"3.306.0","@aws-sdk/middleware-serde":"3.306.0","@aws-sdk/middleware-stack":"3.306.0","@aws-sdk/middleware-user-agent":"3.306.0","@aws-sdk/node-config-provider":"3.306.0","@aws-sdk/node-http-handler":"3.306.0","@aws-sdk/protocol-http":"3.306.0","@aws-sdk/smithy-client":"3.309.0","@aws-sdk/types":"3.306.0","@aws-sdk/url-parser":"3.306.0","@aws-sdk/util-base64":"3.303.0","@aws-sdk/util-body-length-browser":"3.303.0","@aws-sdk/util-body-length-node":"3.303.0","@aws-sdk/util-defaults-mode-browser":"3.309.0","@aws-sdk/util-defaults-mode-node":"3.309.0","@aws-sdk/util-endpoints":"3.306.0","@aws-sdk/util-retry":"3.306.0","@aws-sdk/util-user-agent-browser":"3.306.0","@aws-sdk/util-user-agent-node":"3.306.0","@aws-sdk/util-utf8":"3.303.0",tslib:"^2.5.0"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.303.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}};var eu=require("buffer"),bs=require("crypto"),$e=class{constructor(t,r){this.algorithmIdentifier=t,this.secret=r,this.reset()}update(t,r){this.hash.update(Fe(Zm(t,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,bs.createHmac)(this.algorithmIdentifier,Zm(this.secret)):(0,bs.createHash)(this.algorithmIdentifier)}};function Zm(e,t){return eu.Buffer.isBuffer(e)?e:typeof e=="string"?qr(e,t):ArrayBuffer.isView(e)?wt(e.buffer,e.byteOffset,e.byteLength):wt(e)}function wa(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=dt(r),Array.isArray(n))for(let o=0,s=n.length;o<s;o++)t.push(`${r}=${dt(n[o])}`);else{let o=r;(n||typeof n=="string")&&(o+=`=${dt(n)}`),t.push(o)}}return t.join("&")}var Ss=require("http"),ks=require("https");var tu=["ECONNRESET","EPIPE","ETIMEDOUT"];var Ea=e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t};var nu=require("stream");function ba(e,t){(t.headers.Expect||t.headers.expect)==="100-continue"?e.on("continue",()=>{ru(e,t.body)}):ru(e,t.body)}function ru(e,t){t instanceof nu.Readable?t.pipe(e):t?e.end(Buffer.from(t)):e.end()}var ou=0,lt=class{constructor(t){this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(this.resolveDefaultConfig(o))}).catch(n):r(this.resolveDefaultConfig(t))})}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:o,httpAgent:s,httpsAgent:i}=t||{},a=!0,c=50;return{connectionTimeout:n,socketTimeout:o,requestTimeout:r??n??o??ou,httpAgent:s||new Ss.Agent({keepAlive:a,maxSockets:c}),httpsAgent:i||new ks.Agent({keepAlive:a,maxSockets:c})}}destroy(){var t,r,n,o;(r=(t=this.config)==null?void 0:t.httpAgent)==null||r.destroy(),(o=(n=this.config)==null?void 0:n.httpsAgent)==null||o.destroy()}async handle(t,{abortSignal:r}={}){return this.config||(this.config=await this.configProvider),new Promise((n,o)=>{var h;if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(r!=null&&r.aborted){let y=new Error("Request aborted");y.name="AbortError",o(y);return}let s=t.protocol==="https:",i=wa(t.query||{}),a={headers:t.headers,host:t.hostname,method:t.method,path:i?`${t.path}?${i}`:t.path,port:t.port,agent:s?this.config.httpsAgent:this.config.httpAgent},d=(s?ks.request:Ss.request)(a,y=>{let E=new We({statusCode:y.statusCode||-1,headers:Ea(y.headers),body:y});n({response:E})});d.on("error",y=>{tu.includes(y.code)?o(Object.assign(y,{name:"TimeoutError"})):o(y)});let f=((h=this.config)==null?void 0:h.requestTimeout)??ou;d.setTimeout(f,()=>{d.destroy(),o(Object.assign(new Error(`Connection timed out after ${f} ms`),{name:"TimeoutError"}))}),r&&(r.onabort=()=>{d.abort();let y=new Error("Request aborted");y.name="AbortError",o(y)}),ba(d,t)})}};var Sa=class{constructor(t){this.sessions=[],this.sessions=t??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(t){this.sessions.push(t)}contains(t){return this.sessions.includes(t)}remove(t){this.sessions=this.sessions.filter(r=>r!==t)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(t){for(let r of this.sessions)r===t&&(r.destroyed||r.destroy())}};var su=require("stream"),_s=class extends su.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}_write(t,r,n){this.bufferedBytes.push(t),n()}};var ft=e=>new Promise((t,r)=>{let n=new _s;e.pipe(n),e.on("error",o=>{n.end(),r(o)}),n.on("error",r),n.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.bufferedBytes));t(o)})});var As=require("fs"),ar=e=>{if(!e)return 0;if(typeof e=="string")return Buffer.from(e).length;if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.path=="string"||Buffer.isBuffer(e.path))return(0,As.lstatSync)(e.path).size;if(typeof e.fd=="number")return(0,As.fstatSync)(e.fd).size;throw new Error(`Body Length computation failed for ${e}`)};var Rs=require("os"),Jn=require("process");var iu=()=>{try{return typeof require=="function"&&typeof module<"u"&&require("aws-crt")?["md/crt-avail"]:null}catch{return null}};var Mb="AWS_SDK_UA_APP_ID",Fb="sdk-ua-app-id",cr=({serviceId:e,clientVersion:t})=>{let r=[["aws-sdk-js",t],[`os/${(0,Rs.platform)()}`,(0,Rs.release)()],["lang/js"],["md/nodejs",`${Jn.versions.node}`]],n=iu();n&&r.push(n),e&&r.push([`api/${e}`,t]),Jn.env.AWS_EXECUTION_ENV&&r.push([`exec-env/${Jn.env.AWS_EXECUTION_ENV}`]);let o=K({environmentVariableSelector:i=>i[Mb],configFileSelector:i=>i[Fb],default:void 0})(),s;return async()=>{if(!s){let i=await o;s=i?[...r,[`app/${i}`]]:[...r]}return s}};var Lb=/^[A-Za-z0-9+/]*={0,2}$/,dr=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!Lb.exec(e))throw new TypeError("Invalid base64 string.");let t=qr(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};var lr=e=>wt(e.buffer,e.byteOffset,e.byteLength).toString("base64");var hu="required",kt="fn",_t="argv",mn="ref",ka="PartitionResult",mt="tree",Zn="error",eo="endpoint",au={[hu]:!1,type:"String"},cu={[hu]:!0,default:!1,type:"Boolean"},pu={[mn]:"Endpoint"},yu={[kt]:"booleanEquals",[_t]:[{[mn]:"UseFIPS"},!0]},gu={[kt]:"booleanEquals",[_t]:[{[mn]:"UseDualStack"},!0]},ut={},du={[kt]:"booleanEquals",[_t]:[!0,{[kt]:"getAttr",[_t]:[{[mn]:ka},"supportsFIPS"]}]},lu={[kt]:"booleanEquals",[_t]:[!0,{[kt]:"getAttr",[_t]:[{[mn]:ka},"supportsDualStack"]}]},fu=[pu],mu=[yu],uu=[gu],zb={version:"1.0",parameters:{Region:au,UseDualStack:cu,UseFIPS:cu,Endpoint:au},rules:[{conditions:[{[kt]:"aws.partition",[_t]:[{[mn]:"Region"}],assign:ka}],type:mt,rules:[{conditions:[{[kt]:"isSet",[_t]:fu},{[kt]:"parseURL",[_t]:fu,assign:"url"}],type:mt,rules:[{conditions:mu,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Zn},{type:mt,rules:[{conditions:uu,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Zn},{endpoint:{url:pu,properties:ut,headers:ut},type:eo}]}]},{conditions:[yu,gu],type:mt,rules:[{conditions:[du,lu],type:mt,rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ut,headers:ut},type:eo}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Zn}]},{conditions:mu,type:mt,rules:[{conditions:[du],type:mt,rules:[{type:mt,rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:ut,headers:ut},type:eo}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:Zn}]},{conditions:uu,type:mt,rules:[{conditions:[lu],type:mt,rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ut,headers:ut},type:eo}]},{error:"DualStack is enabled but this partition does not support DualStack",type:Zn}]},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:ut,headers:ut},type:eo}]}]},Cu=zb;var xu=(e,t={})=>nr(Cu,{endpointParams:e,logger:t.logger});var wu=e=>({apiVersion:"2019-06-10",base64Decoder:(e==null?void 0:e.base64Decoder)??dr,base64Encoder:(e==null?void 0:e.base64Encoder)??lr,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??xu,logger:(e==null?void 0:e.logger)??new tt,serviceId:(e==null?void 0:e.serviceId)??"SSO",urlParser:(e==null?void 0:e.urlParser)??Ae,utf8Decoder:(e==null?void 0:e.utf8Decoder)??ot,utf8Encoder:(e==null?void 0:e.utf8Encoder)??$t});var Eu="AWS_EXECUTION_ENV",_a="AWS_REGION",Aa="AWS_DEFAULT_REGION",bu="AWS_EC2_METADATA_DISABLED",Su=["in-region","cross-region","mobile","standard","legacy"],ku="/latest/meta-data/placement/region";var Ub="AWS_DEFAULTS_MODE",$b="defaults_mode",_u={environmentVariableSelector:e=>e[Ub],configFileSelector:e=>e[$b],default:"legacy"};var fr=({region:e=K(it),defaultsMode:t=K(_u)}={})=>er(async()=>{let r=typeof t=="function"?await t():t;switch(r==null?void 0:r.toLowerCase()){case"auto":return jb(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r==null?void 0:r.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${Su.join(", ")}, got ${r}`)}}),jb=async e=>{if(e){let t=typeof e=="function"?await e():e,r=await qb();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},qb=async()=>{if(process.env[Eu]&&(process.env[_a]||process.env[Aa]))return process.env[_a]??process.env[Aa];if(!process.env[bu])try{let e=await Yn();return(await St({...e,path:ku})).toString()}catch{}};var Au=e=>{Ft(process.version);let t=fr(e),r=()=>t().then(Mt),n=wu(e);return{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??ar,defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??cr({serviceId:n.serviceId,clientVersion:Jm.version}),maxAttempts:(e==null?void 0:e.maxAttempts)??K(Qt),region:(e==null?void 0:e.region)??K(it,Kt),requestHandler:(e==null?void 0:e.requestHandler)??new lt(r),retryMode:(e==null?void 0:e.retryMode)??K({...Jt,default:async()=>(await r()).retryMode||ct}),sha256:(e==null?void 0:e.sha256)??$e.bind(null,"sha256"),streamCollector:(e==null?void 0:e.streamCollector)??ft,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??K(jt),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??K(qt)}};var Ns=class extends rt{constructor(t){let r=Au(t),n=Xm(r),o=Gt(n),s=Bt(o),i=Xt(s),a=i,c=tr(a);super(c),this.config=c,this.middlewareStack.use(Zt(this.config)),this.middlewareStack.use(Ht(this.config)),this.middlewareStack.use(Vt(this.config)),this.middlewareStack.use(Wt(this.config)),this.middlewareStack.use(Yt(this.config)),this.middlewareStack.use(or(this.config))}destroy(){super.destroy()}};var un="To refresh this SSO session run 'aws sso login' with the corresponding profile.";var fe=class extends Me{constructor(t){super(t),Object.setPrototypeOf(this,fe.prototype)}};var hn=class extends fe{constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,hn.prototype),this.error=t.error,this.error_description=t.error_description}},pn=class extends fe{constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),this.name="AuthorizationPendingException",this.$fault="client",Object.setPrototypeOf(this,pn.prototype),this.error=t.error,this.error_description=t.error_description}},yn=class extends fe{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,yn.prototype),this.error=t.error,this.error_description=t.error_description}},gn=class extends fe{constructor(t){super({name:"InternalServerException",$fault:"server",...t}),this.name="InternalServerException",this.$fault="server",Object.setPrototypeOf(this,gn.prototype),this.error=t.error,this.error_description=t.error_description}},Cn=class extends fe{constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),this.name="InvalidClientException",this.$fault="client",Object.setPrototypeOf(this,Cn.prototype),this.error=t.error,this.error_description=t.error_description}},xn=class extends fe{constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),this.name="InvalidGrantException",this.$fault="client",Object.setPrototypeOf(this,xn.prototype),this.error=t.error,this.error_description=t.error_description}},wn=class extends fe{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,wn.prototype),this.error=t.error,this.error_description=t.error_description}},En=class extends fe{constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),this.name="InvalidScopeException",this.$fault="client",Object.setPrototypeOf(this,En.prototype),this.error=t.error,this.error_description=t.error_description}},bn=class extends fe{constructor(t){super({name:"SlowDownException",$fault:"client",...t}),this.name="SlowDownException",this.$fault="client",Object.setPrototypeOf(this,bn.prototype),this.error=t.error,this.error_description=t.error_description}},Sn=class extends fe{constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),this.name="UnauthorizedClientException",this.$fault="client",Object.setPrototypeOf(this,Sn.prototype),this.error=t.error,this.error_description=t.error_description}},kn=class extends fe{constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),this.name="UnsupportedGrantTypeException",this.$fault="client",Object.setPrototypeOf(this,kn.prototype),this.error=t.error,this.error_description=t.error_description}};var Ru=async(e,t)=>{let{hostname:r,protocol:n="https",port:o,path:s}=await t.endpoint(),i={"content-type":"application/json"},a=`${s!=null&&s.endsWith("/")?s.slice(0,-1):s||""}/token`,c;return c=JSON.stringify({...e.clientId!=null&&{clientId:e.clientId},...e.clientSecret!=null&&{clientSecret:e.clientSecret},...e.code!=null&&{code:e.code},...e.deviceCode!=null&&{deviceCode:e.deviceCode},...e.grantType!=null&&{grantType:e.grantType},...e.redirectUri!=null&&{redirectUri:e.redirectUri},...e.refreshToken!=null&&{refreshToken:e.refreshToken},...e.scope!=null&&{scope:rS(e.scope,t)}}),new V({protocol:n,hostname:r,port:o,method:"POST",headers:i,path:a,body:c})};var Nu=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Kb(e,t);let r=je({$metadata:qe(e)}),n=Ve(zr(await Tu(e.body,t)),"body");return n.accessToken!=null&&(r.accessToken=N(n.accessToken)),n.expiresIn!=null&&(r.expiresIn=Ro(n.expiresIn)),n.idToken!=null&&(r.idToken=N(n.idToken)),n.refreshToken!=null&&(r.refreshToken=N(n.refreshToken)),n.tokenType!=null&&(r.tokenType=N(n.tokenType)),r},Kb=async(e,t)=>{let r={...e,body:await sS(e.body,t)},n=iS(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await Gb(r,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await Hb(r,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await Vb(r,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await Wb(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await Yb(r,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await Qb(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await Xb(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await Jb(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await Zb(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await eS(r,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await tS(r,t);default:let o=r.body;Ct({output:e,parsedBody:o,exceptionCtor:fe,errorCode:n})}};var je=gr,Gb=async(e,t)=>{let r=je({}),n=e.body;n.error!=null&&(r.error=N(n.error)),n.error_description!=null&&(r.error_description=N(n.error_description));let o=new hn({$metadata:qe(e),...r});return J(o,e.body)},Hb=async(e,t)=>{let r=je({}),n=e.body;n.error!=null&&(r.error=N(n.error)),n.error_description!=null&&(r.error_description=N(n.error_description));let o=new pn({$metadata:qe(e),...r});return J(o,e.body)},Vb=async(e,t)=>{let r=je({}),n=e.body;n.error!=null&&(r.error=N(n.error)),n.error_description!=null&&(r.error_description=N(n.error_description));let o=new yn({$metadata:qe(e),...r});return J(o,e.body)},Wb=async(e,t)=>{let r=je({}),n=e.body;n.error!=null&&(r.error=N(n.error)),n.error_description!=null&&(r.error_description=N(n.error_description));let o=new gn({$metadata:qe(e),...r});return J(o,e.body)},Yb=async(e,t)=>{let r=je({}),n=e.body;n.error!=null&&(r.error=N(n.error)),n.error_description!=null&&(r.error_description=N(n.error_description));let o=new Cn({$metadata:qe(e),...r});return J(o,e.body)};var Qb=async(e,t)=>{let r=je({}),n=e.body;n.error!=null&&(r.error=N(n.error)),n.error_description!=null&&(r.error_description=N(n.error_description));let o=new xn({$metadata:qe(e),...r});return J(o,e.body)},Xb=async(e,t)=>{let r=je({}),n=e.body;n.error!=null&&(r.error=N(n.error)),n.error_description!=null&&(r.error_description=N(n.error_description));let o=new wn({$metadata:qe(e),...r});return J(o,e.body)},Jb=async(e,t)=>{let r=je({}),n=e.body;n.error!=null&&(r.error=N(n.error)),n.error_description!=null&&(r.error_description=N(n.error_description));let o=new En({$metadata:qe(e),...r});return J(o,e.body)},Zb=async(e,t)=>{let r=je({}),n=e.body;n.error!=null&&(r.error=N(n.error)),n.error_description!=null&&(r.error_description=N(n.error_description));let o=new bn({$metadata:qe(e),...r});return J(o,e.body)},eS=async(e,t)=>{let r=je({}),n=e.body;n.error!=null&&(r.error=N(n.error)),n.error_description!=null&&(r.error_description=N(n.error_description));let o=new Sn({$metadata:qe(e),...r});return J(o,e.body)},tS=async(e,t)=>{let r=je({}),n=e.body;n.error!=null&&(r.error=N(n.error)),n.error_description!=null&&(r.error_description=N(n.error_description));let o=new kn({$metadata:qe(e),...r});return J(o,e.body)},rS=(e,t)=>e.filter(r=>r!=null).map(r=>r),qe=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),nS=(e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),oS=(e,t)=>nS(e,t).then(r=>t.utf8Encoder(r));var Tu=(e,t)=>oS(e,t).then(r=>r.length?JSON.parse(r):{}),sS=async(e,t)=>{let r=await Tu(e,t);return r.message=r.message??r.Message,r},iS=(e,t)=>{let r=(s,i)=>Object.keys(s).find(a=>a.toLowerCase()===i.toLowerCase()),n=s=>{let i=s;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},o=r(e.headers,"x-amzn-errortype");if(o!==void 0)return n(e.headers[o]);if(t.code!==void 0)return n(t.code);if(t.__type!==void 0)return n(t.__type)};var _n=class extends Be{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use(Ze(r,this.serialize,this.deserialize)),this.middlewareStack.use(et(r,_n.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"SSOOIDCClient",commandName:"CreateTokenCommand",inputFilterSensitiveLog:f=>f,outputFilterSensitiveLog:f=>f},{requestHandler:d}=r;return o.resolve(f=>d.handle(f.request,n||{}),c)}serialize(t,r){return Ru(t,r)}deserialize(t,r){return Nu(t,r)}};var Iu=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssooidc"});var Pu={name:"@aws-sdk/client-sso-oidc",description:"AWS SDK for JavaScript Sso Oidc Client for Node.js, Browser and React Native",version:"3.309.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso-oidc"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/config-resolver":"3.306.0","@aws-sdk/fetch-http-handler":"3.306.0","@aws-sdk/hash-node":"3.306.0","@aws-sdk/invalid-dependency":"3.306.0","@aws-sdk/middleware-content-length":"3.306.0","@aws-sdk/middleware-endpoint":"3.306.0","@aws-sdk/middleware-host-header":"3.306.0","@aws-sdk/middleware-logger":"3.306.0","@aws-sdk/middleware-recursion-detection":"3.306.0","@aws-sdk/middleware-retry":"3.306.0","@aws-sdk/middleware-serde":"3.306.0","@aws-sdk/middleware-stack":"3.306.0","@aws-sdk/middleware-user-agent":"3.306.0","@aws-sdk/node-config-provider":"3.306.0","@aws-sdk/node-http-handler":"3.306.0","@aws-sdk/protocol-http":"3.306.0","@aws-sdk/smithy-client":"3.309.0","@aws-sdk/types":"3.306.0","@aws-sdk/url-parser":"3.306.0","@aws-sdk/util-base64":"3.303.0","@aws-sdk/util-body-length-browser":"3.303.0","@aws-sdk/util-body-length-node":"3.303.0","@aws-sdk/util-defaults-mode-browser":"3.309.0","@aws-sdk/util-defaults-mode-node":"3.309.0","@aws-sdk/util-endpoints":"3.306.0","@aws-sdk/util-retry":"3.306.0","@aws-sdk/util-user-agent-browser":"3.306.0","@aws-sdk/util-user-agent-node":"3.306.0","@aws-sdk/util-utf8":"3.303.0",tslib:"^2.5.0"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.303.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso-oidc",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso-oidc"}};var zu="required",At="fn",Rt="argv",An="ref",Na="PartitionResult",ht="tree",to="error",ro="endpoint",vu={[zu]:!1,type:"String"},Ou={[zu]:!0,default:!1,type:"Boolean"},Uu={[An]:"Endpoint"},$u={[At]:"booleanEquals",[Rt]:[{[An]:"UseFIPS"},!0]},ju={[At]:"booleanEquals",[Rt]:[{[An]:"UseDualStack"},!0]},pt={},Du={[At]:"booleanEquals",[Rt]:[!0,{[At]:"getAttr",[Rt]:[{[An]:Na},"supportsFIPS"]}]},Bu={[At]:"booleanEquals",[Rt]:[!0,{[At]:"getAttr",[Rt]:[{[An]:Na},"supportsDualStack"]}]},Mu=[Uu],Fu=[$u],Lu=[ju],cS={version:"1.0",parameters:{Region:vu,UseDualStack:Ou,UseFIPS:Ou,Endpoint:vu},rules:[{conditions:[{[At]:"aws.partition",[Rt]:[{[An]:"Region"}],assign:Na}],type:ht,rules:[{conditions:[{[At]:"isSet",[Rt]:Mu},{[At]:"parseURL",[Rt]:Mu,assign:"url"}],type:ht,rules:[{conditions:Fu,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:to},{type:ht,rules:[{conditions:Lu,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:to},{endpoint:{url:Uu,properties:pt,headers:pt},type:ro}]}]},{conditions:[$u,ju],type:ht,rules:[{conditions:[Du,Bu],type:ht,rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:pt,headers:pt},type:ro}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:to}]},{conditions:Fu,type:ht,rules:[{conditions:[Du],type:ht,rules:[{type:ht,rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:pt,headers:pt},type:ro}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:to}]},{conditions:Lu,type:ht,rules:[{conditions:[Bu],type:ht,rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:pt,headers:pt},type:ro}]},{error:"DualStack is enabled but this partition does not support DualStack",type:to}]},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:pt,headers:pt},type:ro}]}]},qu=cS;var Ku=(e,t={})=>nr(qu,{endpointParams:e,logger:t.logger});var Gu=e=>({apiVersion:"2019-06-10",base64Decoder:(e==null?void 0:e.base64Decoder)??dr,base64Encoder:(e==null?void 0:e.base64Encoder)??lr,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??Ku,logger:(e==null?void 0:e.logger)??new tt,serviceId:(e==null?void 0:e.serviceId)??"SSO OIDC",urlParser:(e==null?void 0:e.urlParser)??Ae,utf8Decoder:(e==null?void 0:e.utf8Decoder)??ot,utf8Encoder:(e==null?void 0:e.utf8Encoder)??$t});var Hu=e=>{Ft(process.version);let t=fr(e),r=()=>t().then(Mt),n=Gu(e);return{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??ar,defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??cr({serviceId:n.serviceId,clientVersion:Pu.version}),maxAttempts:(e==null?void 0:e.maxAttempts)??K(Qt),region:(e==null?void 0:e.region)??K(it,Kt),requestHandler:(e==null?void 0:e.requestHandler)??new lt(r),retryMode:(e==null?void 0:e.retryMode)??K({...Jt,default:async()=>(await r()).retryMode||ct}),sha256:(e==null?void 0:e.sha256)??$e.bind(null,"sha256"),streamCollector:(e==null?void 0:e.streamCollector)??ft,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??K(jt),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??K(qt)}};var Ts=class extends rt{constructor(t){let r=Hu(t),n=Iu(r),o=Gt(n),s=Bt(o),i=Xt(s),a=i,c=tr(a);super(c),this.config=c,this.middlewareStack.use(Zt(this.config)),this.middlewareStack.use(Ht(this.config)),this.middlewareStack.use(Vt(this.config)),this.middlewareStack.use(Wt(this.config)),this.middlewareStack.use(Yt(this.config)),this.middlewareStack.use(or(this.config))}destroy(){super.destroy()}};var Ta={},Vu=e=>{if(Ta[e])return Ta[e];let t=new Ts({region:e});return Ta[e]=t,t};var Wu=(e,t)=>Vu(t).send(new _n({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}));var Ia=e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new Te(`Token is expired. ${un}`,!1)};var mr=(e,t,r=!1)=>{if(typeof t>"u")throw new Te(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${un}`,!1)};var Yu=require("fs"),{writeFile:dS}=Yu.promises,Qu=(e,t)=>{let r=ls(e),n=JSON.stringify(t,null,2);return dS(r,n)};var Xu=new Date(0),Ju=(e={})=>async()=>{let t=await sr(e),r=Ue(e),n=t[r];if(n){if(!n.sso_session)throw new Te(`Profile '${r}' is missing required property 'sso_session'.`)}else throw new Te(`Profile '${r}' could not be found in shared credentials file.`,!1);let o=n.sso_session,i=(await hs(e))[o];if(!i)throw new Te(`Sso session '${o}' could not be found in shared credentials file.`,!1);for(let E of["sso_start_url","sso_region"])if(!i[E])throw new Te(`Sso session '${o}' is missing required property '${E}'.`,!1);let a=i.sso_start_url,c=i.sso_region,d;try{d=await fs(o)}catch{throw new Te(`The SSO session token associated with profile=${r} was not found or is invalid. ${un}`,!1)}mr("accessToken",d.accessToken),mr("expiresAt",d.expiresAt);let{accessToken:f,expiresAt:h}=d,y={token:f,expiration:new Date(h)};if(y.expiration.getTime()-Date.now()>3e5)return y;if(Date.now()-Xu.getTime()<30*1e3)return Ia(y),y;mr("clientId",d.clientId,!0),mr("clientSecret",d.clientSecret,!0),mr("refreshToken",d.refreshToken,!0);try{Xu.setTime(Date.now());let E=await Wu(d,c);mr("accessToken",E.accessToken),mr("expiresIn",E.expiresIn);let b=new Date(Date.now()+E.expiresIn*1e3);try{await Qu(o,{...d,accessToken:E.accessToken,expiresAt:b.toISOString(),refreshToken:E.refreshToken})}catch{}return{token:E.accessToken,expiration:b}}catch{return Ia(y),y}};var fS=15*60*1e3,no=!1,Pa=async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoClient:s,profile:i})=>{let a,c="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let v=await Ju({profile:i})();a={accessToken:v.token,expiresAt:new Date(v.expiration).toISOString()}}catch(v){throw new D(v.message,no)}else try{a=await fs(e)}catch{throw new D(`The SSO session associated with this profile is invalid. ${c}`,no)}if(new Date(a.expiresAt).getTime()-Date.now()<=fS)throw new D(`The SSO session associated with this profile has expired. ${c}`,no);let{accessToken:d}=a,f=s||new Ns({region:n}),h;try{h=await f.send(new fn({accountId:r,roleName:o,accessToken:d}))}catch(v){throw D.from(v,no)}let{roleCredentials:{accessKeyId:y,secretAccessKey:E,sessionToken:b,expiration:I}={}}=h;if(!y||!E||!b||!I)throw new D("SSO returns an invalid temporary credential.",no);return{accessKeyId:y,secretAccessKey:E,sessionToken:b,expiration:new Date(I)}};var Is=e=>{let{sso_start_url:t,sso_account_id:r,sso_region:n,sso_role_name:o}=e;if(!t||!r||!n||!o)throw new D(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,!1);return e};var Ps=(e={})=>async()=>{let{ssoStartUrl:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoClient:s,ssoSession:i}=e,a=Ue(e);if(!t&&!r&&!n&&!o&&!i){let d=(await sr(e))[a];if(!d)throw new D(`Profile ${a} was not found.`);if(!Qn(d))throw new D(`Profile ${a} is not configured with SSO credentials.`);if(d!=null&&d.sso_session){let v=(await hs(e))[d.sso_session],Xe=` configurations in profile ${a} and sso-session ${d.sso_session}`;if(n&&n!==v.sso_region)throw new D("Conflicting SSO region"+Xe,!1);if(t&&t!==v.sso_start_url)throw new D("Conflicting SSO start_url"+Xe,!1);d.sso_region=v.sso_region,d.sso_start_url=v.sso_start_url}let{sso_start_url:f,sso_account_id:h,sso_region:y,sso_role_name:E,sso_session:b}=Is(d);return Pa({ssoStartUrl:f,ssoSession:b,ssoAccountId:h,ssoRegion:y,ssoRoleName:E,ssoClient:s,profile:a})}else{if(!t||!r||!n||!o)throw new D('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"');return Pa({ssoStartUrl:t,ssoSession:i,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoClient:s,profile:a})}};var Zu=e=>{let{sso_start_url:t,sso_account_id:r,sso_session:n,sso_region:o,sso_role_name:s}=Is(e);return Ps({ssoStartUrl:t,ssoAccountId:r,ssoSession:n,ssoRegion:o,ssoRoleName:s})()};var va=e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1,Oa=e=>Promise.resolve({accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token});var th=require("fs");var eh=e=>()=>{let{roleArn:t,roleSessionName:r,webIdentityToken:n,providerId:o,policyArns:s,policy:i,durationSeconds:a,roleAssumerWithWebIdentity:c}=e;if(!c)throw new D(`Role Arn '${t}' needs to be assumed with web identity, but no role assumption callback was provided.`,!1);return c({RoleArn:t,RoleSessionName:r??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:n,ProviderId:o,PolicyArns:s,Policy:i,DurationSeconds:a})};var mS="AWS_WEB_IDENTITY_TOKEN_FILE",uS="AWS_ROLE_ARN",hS="AWS_ROLE_SESSION_NAME",vs=(e={})=>async()=>pS(e),pS=e=>{let t=(e==null?void 0:e.webIdentityTokenFile)??process.env[mS],r=(e==null?void 0:e.roleArn)??process.env[uS],n=(e==null?void 0:e.roleSessionName)??process.env[hS];if(!t||!r)throw new D("Web identity configuration not specified");return eh({...e,webIdentityToken:(0,th.readFileSync)(t,{encoding:"ascii"}),roleArn:r,roleSessionName:n})()};var rh=e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,nh=async(e,t)=>vs({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity})();var ws=async(e,t,r,n={})=>{let o=t[e];if(Object.keys(n).length>0&&va(o))return Oa(o);if(Lm(o))return zm(e,t,r,n);if(va(o))return Oa(o);if(rh(o))return nh(o,r);if(Km(o))return Gm(r,e);if(Qn(o))return Zu(o);throw new D(`Profile ${e} could not be found or parsed in shared credentials file.`)};var oh=(e={})=>async()=>{let t=await sr(e);return ws(Ue(e),t,e)};var yS="AWS_EC2_METADATA_DISABLED",sh=e=>process.env[Vn]||process.env[Hn]?Cs(e):process.env[yS]?async()=>{throw new D("EC2 Instance Metadata Service access disabled")}:xs(e);var Os=(e={})=>er(Go(...e.profile||process.env[ga]?[]:[ds()],Ps(e),oh(e),Es(e),vs(e),sh(e),async()=>{throw new D("Could not load credentials from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0);var hh="required",$="type",W="fn",Y="argv",ur="ref",br="properties",Sr="headers";var Ba="PartitionResult",Ke="tree",kr="booleanEquals",ye="stringEquals",ph="sigv4",yh="us-east-1",gh="sts",ne="endpoint",Ch="https://sts.{Region}.{PartitionResult#dnsSuffix}",oo="error",Ma="getAttr",ih={[hh]:!1,[$]:"String"},Da={[hh]:!0,default:!1,[$]:"Boolean"},ge={[ur]:"Region"},xh={[ur]:"UseFIPS"},wh={[ur]:"UseDualStack"},ah={[W]:"isSet",[Y]:[{[ur]:"Endpoint"}]},Eh={[ur]:"Endpoint"},Ce={url:"https://sts.amazonaws.com",[br]:{authSchemes:[{name:ph,signingRegion:yh,signingName:gh}]},[Sr]:{}},Nt={},ch={conditions:[{[W]:ye,[Y]:[ge,"aws-global"]}],[ne]:Ce,[$]:ne},bh={[W]:kr,[Y]:[xh,!0]},Sh={[W]:kr,[Y]:[wh,!0]},dh={[W]:kr,[Y]:[!0,{[W]:Ma,[Y]:[{[ur]:Ba},"supportsFIPS"]}]},kh={[ur]:Ba},lh={[W]:kr,[Y]:[!0,{[W]:Ma,[Y]:[kh,"supportsDualStack"]}]},fh={url:Ch,[br]:{},[Sr]:{}},gS=[Eh],mh=[bh],uh=[Sh],CS={version:"1.0",parameters:{Region:ih,UseDualStack:Da,UseFIPS:Da,Endpoint:ih,UseGlobalEndpoint:Da},rules:[{conditions:[{[W]:"aws.partition",[Y]:[ge],assign:Ba}],[$]:Ke,rules:[{conditions:[{[W]:kr,[Y]:[{[ur]:"UseGlobalEndpoint"},!0]},{[W]:kr,[Y]:[xh,!1]},{[W]:kr,[Y]:[wh,!1]},{[W]:"not",[Y]:[ah]}],[$]:Ke,rules:[{conditions:[{[W]:ye,[Y]:[ge,"ap-northeast-1"]}],endpoint:Ce,[$]:ne},{conditions:[{[W]:ye,[Y]:[ge,"ap-south-1"]}],endpoint:Ce,[$]:ne},{conditions:[{[W]:ye,[Y]:[ge,"ap-southeast-1"]}],endpoint:Ce,[$]:ne},{conditions:[{[W]:ye,[Y]:[ge,"ap-southeast-2"]}],endpoint:Ce,[$]:ne},ch,{conditions:[{[W]:ye,[Y]:[ge,"ca-central-1"]}],endpoint:Ce,[$]:ne},{conditions:[{[W]:ye,[Y]:[ge,"eu-central-1"]}],endpoint:Ce,[$]:ne},{conditions:[{[W]:ye,[Y]:[ge,"eu-north-1"]}],endpoint:Ce,[$]:ne},{conditions:[{[W]:ye,[Y]:[ge,"eu-west-1"]}],endpoint:Ce,[$]:ne},{conditions:[{[W]:ye,[Y]:[ge,"eu-west-2"]}],endpoint:Ce,[$]:ne},{conditions:[{[W]:ye,[Y]:[ge,"eu-west-3"]}],endpoint:Ce,[$]:ne},{conditions:[{[W]:ye,[Y]:[ge,"sa-east-1"]}],endpoint:Ce,[$]:ne},{conditions:[{[W]:ye,[Y]:[ge,yh]}],endpoint:Ce,[$]:ne},{conditions:[{[W]:ye,[Y]:[ge,"us-east-2"]}],endpoint:Ce,[$]:ne},{conditions:[{[W]:ye,[Y]:[ge,"us-west-1"]}],endpoint:Ce,[$]:ne},{conditions:[{[W]:ye,[Y]:[ge,"us-west-2"]}],endpoint:Ce,[$]:ne},{endpoint:{url:Ch,[br]:{authSchemes:[{name:ph,signingRegion:"{Region}",signingName:gh}]},[Sr]:Nt},[$]:ne}]},{conditions:[ah,{[W]:"parseURL",[Y]:gS,assign:"url"}],[$]:Ke,rules:[{conditions:mh,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[$]:oo},{[$]:Ke,rules:[{conditions:uh,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[$]:oo},{endpoint:{url:Eh,[br]:Nt,[Sr]:Nt},[$]:ne}]}]},{conditions:[bh,Sh],[$]:Ke,rules:[{conditions:[dh,lh],[$]:Ke,rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",[br]:Nt,[Sr]:Nt},[$]:ne}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[$]:oo}]},{conditions:mh,[$]:Ke,rules:[{conditions:[dh],[$]:Ke,rules:[{[$]:Ke,rules:[{conditions:[{[W]:ye,[Y]:["aws-us-gov",{[W]:Ma,[Y]:[kh,"name"]}]}],endpoint:fh,[$]:ne},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",[br]:Nt,[Sr]:Nt},[$]:ne}]}]},{error:"FIPS is enabled but this partition does not support FIPS",[$]:oo}]},{conditions:uh,[$]:Ke,rules:[{conditions:[lh],[$]:Ke,rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",[br]:Nt,[Sr]:Nt},[$]:ne}]},{error:"DualStack is enabled but this partition does not support DualStack",[$]:oo}]},{[$]:Ke,rules:[ch,{endpoint:fh,[$]:ne}]}]}]},_h=CS;var Ah=(e,t={})=>nr(_h,{endpointParams:e,logger:t.logger});var Rh=e=>({apiVersion:"2011-06-15",base64Decoder:(e==null?void 0:e.base64Decoder)??dr,base64Encoder:(e==null?void 0:e.base64Encoder)??lr,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??Ah,logger:(e==null?void 0:e.logger)??new tt,serviceId:(e==null?void 0:e.serviceId)??"STS",urlParser:(e==null?void 0:e.urlParser)??Ae,utf8Decoder:(e==null?void 0:e.utf8Decoder)??ot,utf8Encoder:(e==null?void 0:e.utf8Encoder)??$t});var Nh=e=>{Ft(process.version);let t=fr(e),r=()=>t().then(Mt),n=Rh(e);return{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??ar,credentialDefaultProvider:(e==null?void 0:e.credentialDefaultProvider)??lm(Os),defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??cr({serviceId:n.serviceId,clientVersion:am.version}),maxAttempts:(e==null?void 0:e.maxAttempts)??K(Qt),region:(e==null?void 0:e.region)??K(it,Kt),requestHandler:(e==null?void 0:e.requestHandler)??new lt(r),retryMode:(e==null?void 0:e.retryMode)??K({...Jt,default:async()=>(await r()).retryMode||ct}),sha256:(e==null?void 0:e.sha256)??$e.bind(null,"sha256"),streamCollector:(e==null?void 0:e.streamCollector)??ft,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??K(jt),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??K(qt)}};var _r=class extends rt{constructor(t){let r=Nh(t),n=im(r),o=Gt(n),s=Bt(o),i=Xt(s),a=i,c=sm(a,{stsClientCtor:_r}),d=tr(c);super(d),this.config=d,this.middlewareStack.use(Zt(this.config)),this.middlewareStack.use(Ht(this.config)),this.middlewareStack.use(Vt(this.config)),this.middlewareStack.use(Wt(this.config)),this.middlewareStack.use(Yt(this.config)),this.middlewareStack.use(or(this.config))}destroy(){super.destroy()}};var Th=(e,t)=>t?class extends e{constructor(n){super(n);for(let o of t)this.middlewareStack.use(o)}}:e,xS=(e={},t)=>pa(e,Th(_r,t)),wS=(e={},t)=>ya(e,Th(_r,t)),Ih=e=>t=>e({roleAssumer:xS(t),roleAssumerWithWebIdentity:wS(t),...t});var Fh=Tt(Fo());var hr=class{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,o=Math.abs(Math.round(t));n>-1&&o>0;n--,o/=256)r[n]=o;return t<0&&Ph(r),new hr(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&Ph(t),parseInt(pe(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function Ph(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}var Ds=class{constructor(t,r){this.toUtf8=t,this.fromUtf8=r}format(t){let r=[];for(let s of Object.keys(t)){let i=this.fromUtf8(s);r.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(t[s]))}let n=new Uint8Array(r.reduce((s,i)=>s+i.byteLength,0)),o=0;for(let s of r)n.set(s,o),o+=s.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":let o=new Uint8Array(9);return o[0]=5,o.set(t.value.bytes,1),o;case"binary":let s=new DataView(new ArrayBuffer(3+t.value.byteLength));s.setUint8(0,6),s.setUint16(1,t.value.byteLength,!1);let i=new Uint8Array(s.buffer);return i.set(t.value,3),i;case"string":let a=this.fromUtf8(t.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);let d=new Uint8Array(c.buffer);return d.set(a,3),d;case"timestamp":let f=new Uint8Array(9);return f[0]=8,f.set(hr.fromNumber(t.value.valueOf()).bytes,1),f;case"uuid":if(!TS.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);let h=new Uint8Array(17);return h[0]=9,h.set(rf(t.value.replace(/\-/g,"")),1),h}}parse(t){let r={},n=0;for(;n<t.byteLength;){let o=t.getUint8(n++),s=this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+n,o));switch(n+=o,t.getUint8(n++)){case 0:r[s]={type:Oh,value:!0};break;case 1:r[s]={type:Oh,value:!1};break;case 2:r[s]={type:ES,value:t.getInt8(n++)};break;case 3:r[s]={type:bS,value:t.getInt16(n,!1)},n+=2;break;case 4:r[s]={type:SS,value:t.getInt32(n,!1)},n+=4;break;case 5:r[s]={type:kS,value:new hr(new Uint8Array(t.buffer,t.byteOffset+n,8))},n+=8;break;case 6:let i=t.getUint16(n,!1);n+=2,r[s]={type:_S,value:new Uint8Array(t.buffer,t.byteOffset+n,i)},n+=i;break;case 7:let a=t.getUint16(n,!1);n+=2,r[s]={type:AS,value:this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+n,a))},n+=a;break;case 8:r[s]={type:RS,value:new Date(new hr(new Uint8Array(t.buffer,t.byteOffset+n,8)).valueOf())},n+=8;break;case 9:let c=new Uint8Array(t.buffer,t.byteOffset+n,16);n+=16,r[s]={type:NS,value:`${pe(c.subarray(0,4))}-${pe(c.subarray(4,6))}-${pe(c.subarray(6,8))}-${pe(c.subarray(8,10))}-${pe(c.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return r}},vh;(function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"})(vh||(vh={}));var Oh="boolean",ES="byte",bS="short",SS="integer",kS="long",_S="binary",AS="string",RS="timestamp",NS="uuid",TS=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;var Dh=Tt(Fo()),Bh=4,pr=Bh*2,Ar=4,IS=pr+Ar*2;function Mh({byteLength:e,byteOffset:t,buffer:r}){if(e<IS)throw new Error("Provided message too short to accommodate event stream message overhead");let n=new DataView(r,t,e),o=n.getUint32(0,!1);if(e!==o)throw new Error("Reported message length does not match received message length");let s=n.getUint32(Bh,!1),i=n.getUint32(pr,!1),a=n.getUint32(e-Ar,!1),c=new Dh.Crc32().update(new Uint8Array(r,t,pr));if(i!==c.digest())throw new Error(`The prelude checksum specified in the message (${i}) does not match the calculated CRC32 checksum (${c.digest()})`);if(c.update(new Uint8Array(r,t+pr,e-(pr+Ar))),a!==c.digest())throw new Error(`The message checksum (${c.digest()}) did not match the expected value of ${a}`);return{headers:new DataView(r,t+pr+Ar,s),body:new Uint8Array(r,t+pr+Ar+s,o-s-(pr+Ar+Ar))}}var Bs=class{constructor(t,r){this.headerMarshaller=new Ds(t,r)}encode({headers:t,body:r}){let n=this.headerMarshaller.format(t),o=n.byteLength+r.byteLength+16,s=new Uint8Array(o),i=new DataView(s.buffer,s.byteOffset,s.byteLength),a=new Fh.Crc32;return i.setUint32(0,o,!1),i.setUint32(4,n.byteLength,!1),i.setUint32(8,a.update(s.subarray(0,8)).digest(),!1),s.set(n,12),s.set(r,n.byteLength+12),i.setUint32(o-4,a.update(s.subarray(8,o-4)).digest(),!1),s}decode(t){let{headers:r,body:n}=Mh(t);return{headers:this.headerMarshaller.parse(r),body:n}}formatHeaders(t){return this.headerMarshaller.format(t)}};function Lh(e){let t=0,r=0,n=null,o=null,s=a=>{if(typeof a!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+a);t=a,r=4,n=new Uint8Array(a),new DataView(n.buffer).setUint32(0,a,!1)},i=async function*(){let a=e[Symbol.asyncIterator]();for(;;){let{value:c,done:d}=await a.next();if(d){if(t)if(t===r)yield n;else throw new Error("Truncated event message received.");else return;return}let f=c.length,h=0;for(;h<f;){if(!n){let E=f-h;o||(o=new Uint8Array(4));let b=Math.min(4-r,E);if(o.set(c.slice(h,h+b),r),r+=b,h+=b,r<4)break;s(new DataView(o.buffer).getUint32(0,!1)),o=null}let y=Math.min(t-r,f-h);n.set(c.slice(h,h+y),r),r+=y,h+=y,t&&t===r&&(yield n,n=null,t=0,r=0)}}};return{[Symbol.asyncIterator]:i}}function zh(e,t){return{[Symbol.asyncIterator]:async function*(){for await(let r of e){let n=t.eventStreamCodec.decode(r),{value:o}=n.headers[":message-type"];if(o==="error"){let s=new Error(n.headers[":error-message"].value||"UnknownError");throw s.name=n.headers[":error-code"].value,s}else if(o==="exception"){let s=n.headers[":exception-type"].value,i={[s]:n},a=await t.deserializer(i);if(a.$unknown){let c=new Error(t.toUtf8(n.body));throw c.name=s,c}throw a[s]}else if(o==="event"){let s={[n.headers[":event-type"].value]:n},i=await t.deserializer(s);if(i.$unknown)continue;yield i}else throw Error(`Unrecognizable event type: ${n.headers[":event-type"].value}`)}}}}var so=class{constructor({utf8Encoder:t,utf8Decoder:r}){this.eventStreamCodec=new Bs(t,r),this.utfEncoder=t}deserialize(t,r){let n=Lh(t);return zh(n,{eventStreamCodec:this.eventStreamCodec,deserializer:r,toUtf8:this.utfEncoder})}serialize(t,r){let n=this,o=async function*(){for await(let s of t)yield n.eventStreamCodec.encode(r(s));yield new Uint8Array(0)};return{[Symbol.asyncIterator]:o}}};var $h=require("stream");async function*Uh(e){let t=!1,r=!1,n=new Array;for(e.on("error",o=>{if(t||(t=!0),o)throw o}),e.on("data",o=>{n.push(o)}),e.on("end",()=>{t=!0});!r;){let o=await new Promise(s=>setTimeout(()=>s(n.shift()),0));o&&(yield o),r=t&&n.length===0}}var Ms=class{constructor({utf8Encoder:t,utf8Decoder:r}){this.universalMarshaller=new so({utf8Decoder:r,utf8Encoder:t})}deserialize(t,r){let n=typeof t[Symbol.asyncIterator]=="function"?t:Uh(t);return this.universalMarshaller.deserialize(n,r)}serialize(t,r){return $h.Readable.from(this.universalMarshaller.serialize(t,r))}};var jh=e=>new Ms(e);var qh=require("stream"),io=class extends qh.Writable{constructor(t,r){super(r),this.hash=t}_write(t,r,n){try{this.hash.update(Fe(t))}catch(o){return n(o)}n()}};var Kh=(e,t)=>{if(t.readableFlowing!==null)throw new Error("Unable to calculate hash for flowing readable stream");let r=new e,n=new io(r);return t.pipe(n),new Promise((o,s)=>{t.on("error",i=>{n.end(),s(i)}),n.on("error",s),n.on("finish",()=>{r.digest().then(o).catch(s)})})};var PS="AWS_S3_USE_ARN_REGION",vS="s3_use_arn_region",Gh={environmentVariableSelector:e=>st(e,PS,Le.ENV),configFileSelector:e=>st(e,vS,Le.CONFIG),default:!1};var Hh=require("stream"),Vh=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:o,checksumLocationName:s,streamHasher:i}=t,a=r!==void 0&&o!==void 0&&s!==void 0&&i!==void 0,c=a?i(o,e):void 0,d=new Hh.Readable({read:()=>{}});return e.on("data",f=>{d.push(`${(n(f)||0).toString(16)}\r
${f.toString()}\r
`)}),e.on("end",async()=>{if(d.push(`0\r
`),a){let f=r(await c);d.push(`${s}:${f}\r
`),d.push(`\r
`)}d.push(null)}),d};var Fs=require("stream"),Yh=require("util"),Wh="The stream has already been transformed.",Qh=e=>{var n,o;if(!(e instanceof Fs.Readable)){let s=((o=(n=e==null?void 0:e.__proto__)==null?void 0:n.constructor)==null?void 0:o.name)||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${s}`)}let t=!1,r=async()=>{if(t)throw new Error(Wh);return t=!0,await ft(e)};return Object.assign(e,{transformToByteArray:r,transformToString:async s=>{let i=await r();return s===void 0||Buffer.isEncoding(s)?wt(i.buffer,i.byteOffset,i.byteLength).toString(s):new Yh.TextDecoder(s).decode(i)},transformToWebStream:()=>{if(t)throw new Error(Wh);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof Fs.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please make sure you are using Node.js >= 17.0.0, or polyfill is available.");return t=!0,Fs.Readable.toWeb(e)}})};var Ls=class{constructor(t){this.sigv4Signer=new wr(t),this.signerOptions=t}async sign(t,r={}){if(r.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().sign(t,r)}return this.sigv4Signer.sign(t,r)}async presign(t,r={}){if(r.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().presign(t,r)}return this.sigv4Signer.presign(t,r)}getSigv4aSigner(){if(!this.sigv4aSigner){let t;try{if(t=typeof require=="function"&&require("@aws-sdk/signature-v4-crt").CrtSignerV4,typeof t!="function")throw new Error}catch(r){throw r.message=`${r.message}
Please check if you have installed "@aws-sdk/signature-v4-crt" package explicitly. 
For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`,r}this.sigv4aSigner=new t({...this.signerOptions,signingAlgorithm:1})}return this.sigv4aSigner}};var oc="required",l="type",g="rules",p="conditions",m="fn",u="argv",x="ref",me="assign",k="url",_="properties",B="authSchemes",M="disableDoubleEncoding",F="signingName",L="signingRegion",A="headers";var C="tree",Pe="isSet",ao="substring",ny="hardwareType",oy="regionPrefix",Xh="abbaSuffix",rc="outpostId",uo="aws.partition",T="stringEquals",Tr="isValidHostLabel",se="not",R="error",sy="parseURL",sc="s3-outposts",w="endpoint",S="booleanEquals",iy="aws.parseArn",z="s3",Jh="aws.isVirtualHostableS3Bucket",oe="getAttr",O="name",Fa="Host override cannot be combined with Dualstack, FIPS, or S3 Accelerate",ay="https://{Bucket}.s3.{partitionResult#dnsSuffix}",cy="bucketArn",dy="arnType",Ks="",ic="s3-object-lambda",ly="accesspoint",ac="accessPointName",Zh="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",ep="mrapPartition",tp="outpostType",rp="arnPrefix",Ir="{url#scheme}://{url#authority}{url#path}",fy="https://s3.{partitionResult#dnsSuffix}",La={[oc]:!1,[l]:"String"},co={[oc]:!0,default:!1,[l]:"Boolean"},zs={[oc]:!1,[l]:"Boolean"},my={[m]:Pe,[u]:[{[x]:"Bucket"}]},yt={[x]:"Bucket"},np={[x]:ny},op={[p]:[{[m]:se,[u]:[{[m]:Pe,[u]:[{[x]:"Endpoint"}]}]}],[R]:"Expected a endpoint to be specified but no endpoint was found",[l]:R},U={[m]:se,[u]:[{[m]:Pe,[u]:[{[x]:"Endpoint"}]}]},j={[m]:Pe,[u]:[{[x]:"Endpoint"}]},Z={[m]:sy,[u]:[{[x]:"Endpoint"}],[me]:"url"},Us={[B]:[{[M]:!0,[O]:"sigv4",[F]:sc,[L]:"{Region}"}]},ae={},sp={[x]:"ForcePathStyle"},ip={[p]:[{[m]:"uriEncode",[u]:[yt],[me]:"uri_encoded_bucket"}],[l]:C,[g]:[{[p]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!0]},j],[R]:"Cannot set dual-stack in combination with a custom endpoint.",[l]:R},{[l]:C,[g]:[{[p]:[{[m]:uo,[u]:[{[x]:"Region"}],[me]:"partitionResult"}],[l]:C,[g]:[{[l]:C,[g]:[{[p]:[{[m]:S,[u]:[{[x]:"Accelerate"},!1]}],[l]:C,[g]:[{[l]:C,[g]:[{[p]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!0]},U,{[m]:S,[u]:[{[x]:"UseFIPS"},!0]},{[m]:T,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[_]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[A]:{}},[l]:w},{[p]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!0]},U,{[m]:S,[u]:[{[x]:"UseFIPS"},!0]},{[m]:T,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[_]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[A]:{}},[l]:w},{[p]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!0]},U,{[m]:S,[u]:[{[x]:"UseFIPS"},!0]},{[m]:se,[u]:[{[m]:T,[u]:[{[x]:"Region"},"aws-global"]}]},{[m]:S,[u]:[{[x]:"UseGlobalEndpoint"},!0]}],[l]:C,[g]:[{[w]:{[k]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[_]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"{Region}"}]},[A]:{}},[l]:w}]},{[p]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!0]},U,{[m]:S,[u]:[{[x]:"UseFIPS"},!0]},{[m]:se,[u]:[{[m]:T,[u]:[{[x]:"Region"},"aws-global"]}]},{[m]:S,[u]:[{[x]:"UseGlobalEndpoint"},!1]}],[w]:{[k]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[_]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"{Region}"}]},[A]:{}},[l]:w},{[p]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!1]},j,Z,{[m]:S,[u]:[{[x]:"UseFIPS"},!0]},{[m]:T,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[_]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[A]:{}},[l]:w},{[p]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!1]},j,Z,{[m]:S,[u]:[{[x]:"UseFIPS"},!0]},{[m]:T,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[_]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[A]:{}},[l]:w},{[p]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!1]},j,Z,{[m]:S,[u]:[{[x]:"UseFIPS"},!0]},{[m]:se,[u]:[{[m]:T,[u]:[{[x]:"Region"},"aws-global"]}]},{[m]:S,[u]:[{[x]:"UseGlobalEndpoint"},!0]}],[l]:C,[g]:[{[w]:{[k]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[_]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"{Region}"}]},[A]:{}},[l]:w}]},{[p]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!1]},j,Z,{[m]:S,[u]:[{[x]:"UseFIPS"},!0]},{[m]:se,[u]:[{[m]:T,[u]:[{[x]:"Region"},"aws-global"]}]},{[m]:S,[u]:[{[x]:"UseGlobalEndpoint"},!1]}],[w]:{[k]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[_]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"{Region}"}]},[A]:{}},[l]:w},{[p]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!1]},U,{[m]:S,[u]:[{[x]:"UseFIPS"},!0]},{[m]:T,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[_]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[A]:{}},[l]:w},{[p]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!1]},U,{[m]:S,[u]:[{[x]:"UseFIPS"},!0]},{[m]:T,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[_]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[A]:{}},[l]:w},{[p]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!1]},U,{[m]:S,[u]:[{[x]:"UseFIPS"},!0]},{[m]:se,[u]:[{[m]:T,[u]:[{[x]:"Region"},"aws-global"]}]},{[m]:S,[u]:[{[x]:"UseGlobalEndpoint"},!0]}],[l]:C,[g]:[{[w]:{[k]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[_]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"{Region}"}]},[A]:{}},[l]:w}]},{[p]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!1]},U,{[m]:S,[u]:[{[x]:"UseFIPS"},!0]},{[m]:se,[u]:[{[m]:T,[u]:[{[x]:"Region"},"aws-global"]}]},{[m]:S,[u]:[{[x]:"UseGlobalEndpoint"},!1]}],[w]:{[k]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[_]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"{Region}"}]},[A]:{}},[l]:w},{[p]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!0]},U,{[m]:S,[u]:[{[x]:"UseFIPS"},!1]},{[m]:T,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[_]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[A]:{}},[l]:w},{[p]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!0]},U,{[m]:S,[u]:[{[x]:"UseFIPS"},!1]},{[m]:T,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[_]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[A]:{}},[l]:w},{[p]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!0]},U,{[m]:S,[u]:[{[x]:"UseFIPS"},!1]},{[m]:se,[u]:[{[m]:T,[u]:[{[x]:"Region"},"aws-global"]}]},{[m]:S,[u]:[{[x]:"UseGlobalEndpoint"},!0]}],[l]:C,[g]:[{[w]:{[k]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[_]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"{Region}"}]},[A]:{}},[l]:w}]},{[p]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!0]},U,{[m]:S,[u]:[{[x]:"UseFIPS"},!1]},{[m]:se,[u]:[{[m]:T,[u]:[{[x]:"Region"},"aws-global"]}]},{[m]:S,[u]:[{[x]:"UseGlobalEndpoint"},!1]}],[w]:{[k]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[_]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"{Region}"}]},[A]:{}},[l]:w},{[p]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!1]},j,Z,{[m]:S,[u]:[{[x]:"UseFIPS"},!1]},{[m]:T,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[_]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[A]:{}},[l]:w},{[p]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!1]},j,Z,{[m]:S,[u]:[{[x]:"UseFIPS"},!1]},{[m]:T,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[_]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[A]:{}},[l]:w},{[p]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!1]},j,Z,{[m]:S,[u]:[{[x]:"UseFIPS"},!1]},{[m]:se,[u]:[{[m]:T,[u]:[{[x]:"Region"},"aws-global"]}]},{[m]:S,[u]:[{[x]:"UseGlobalEndpoint"},!0]}],[l]:C,[g]:[{[p]:[{[m]:T,[u]:[{[x]:"Region"},"us-east-1"]}],[w]:{[k]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[_]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"{Region}"}]},[A]:{}},[l]:w},{[w]:{[k]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[_]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"{Region}"}]},[A]:{}},[l]:w}]},{[p]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!1]},j,Z,{[m]:S,[u]:[{[x]:"UseFIPS"},!1]},{[m]:se,[u]:[{[m]:T,[u]:[{[x]:"Region"},"aws-global"]}]},{[m]:S,[u]:[{[x]:"UseGlobalEndpoint"},!1]}],[w]:{[k]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[_]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"{Region}"}]},[A]:{}},[l]:w},{[p]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!1]},U,{[m]:S,[u]:[{[x]:"UseFIPS"},!1]},{[m]:T,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[_]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[A]:{}},[l]:w},{[p]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!1]},U,{[m]:S,[u]:[{[x]:"UseFIPS"},!1]},{[m]:T,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[_]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[A]:{}},[l]:w},{[p]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!1]},U,{[m]:S,[u]:[{[x]:"UseFIPS"},!1]},{[m]:se,[u]:[{[m]:T,[u]:[{[x]:"Region"},"aws-global"]}]},{[m]:S,[u]:[{[x]:"UseGlobalEndpoint"},!0]}],[l]:C,[g]:[{[p]:[{[m]:T,[u]:[{[x]:"Region"},"us-east-1"]}],[w]:{[k]:"https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[_]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"{Region}"}]},[A]:{}},[l]:w},{[w]:{[k]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[_]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"{Region}"}]},[A]:{}},[l]:w}]},{[p]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!1]},U,{[m]:S,[u]:[{[x]:"UseFIPS"},!1]},{[m]:se,[u]:[{[m]:T,[u]:[{[x]:"Region"},"aws-global"]}]},{[m]:S,[u]:[{[x]:"UseGlobalEndpoint"},!1]}],[w]:{[k]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[_]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"{Region}"}]},[A]:{}},[l]:w}]}]},{[R]:"Path-style addressing cannot be used with S3 Accelerate",[l]:R}]}]},{[R]:"A valid partition could not be determined",[l]:R}]}]},ee={[m]:S,[u]:[{[x]:"UseDualStack"},!0]},le={[m]:S,[u]:[{[x]:"Accelerate"},!1]},re={[m]:S,[u]:[{[x]:"UseFIPS"},!0]},G={[m]:se,[u]:[{[m]:T,[u]:[{[x]:"Region"},"aws-global"]}]},xe={[m]:S,[u]:[{[x]:"UseGlobalEndpoint"},!0]},Ee={[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"{Region}"}]},we={[m]:S,[u]:[{[x]:"UseGlobalEndpoint"},!1]},Q={[m]:S,[u]:[{[x]:"UseDualStack"},!1]},q={[m]:S,[u]:[{[x]:"UseFIPS"},!1]},Rr={[R]:"A valid partition could not be determined",[l]:R},za={[p]:[re,{[m]:T,[u]:[{[m]:oe,[u]:[{[x]:"partitionResult"},O]},"aws-cn"]}],[R]:"Partition does not support FIPS",[l]:R},jS={[m]:T,[u]:[{[m]:oe,[u]:[{[x]:"partitionResult"},O]},"aws-cn"]},Qe={[m]:S,[u]:[{[x]:"Accelerate"},!0]},ap={[p]:[ee,re,le,U,{[m]:T,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[_]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[A]:{}},[l]:w},cp={[k]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[_]:Ee,[A]:{}},dp={[p]:[Q,re,le,U,{[m]:T,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[_]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[A]:{}},[l]:w},lp={[k]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[_]:Ee,[A]:{}},fp={[p]:[ee,q,Qe,U,{[m]:T,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[_]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[A]:{}},[l]:w},mp={[k]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[_]:Ee,[A]:{}},up={[p]:[ee,q,le,U,{[m]:T,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[_]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[A]:{}},[l]:w},hp={[k]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[_]:Ee,[A]:{}},pp={[p]:[Q,q,le,j,Z,{[m]:S,[u]:[{[m]:oe,[u]:[{[x]:"url"},"isIp"]},!0]},{[m]:T,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",[_]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[A]:{}},[l]:w},yp={[m]:S,[u]:[{[m]:oe,[u]:[{[x]:"url"},"isIp"]},!0]},cc={[x]:"url"},gp={[p]:[Q,q,le,j,Z,{[m]:S,[u]:[{[m]:oe,[u]:[cc,"isIp"]},!1]},{[m]:T,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"{url#scheme}://{Bucket}.{url#authority}{url#path}",[_]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[A]:{}},[l]:w},Cp={[m]:S,[u]:[{[m]:oe,[u]:[cc,"isIp"]},!1]},Ua={[k]:"{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",[_]:Ee,[A]:{}},nc={[k]:"{url#scheme}://{Bucket}.{url#authority}{url#path}",[_]:Ee,[A]:{}},xp={[w]:nc,[l]:w},wp={[p]:[Q,q,Qe,U,{[m]:T,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",[_]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[A]:{}},[l]:w},$a={[k]:"https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",[_]:Ee,[A]:{}},Ep={[p]:[Q,q,le,U,{[m]:T,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:ay,[_]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[A]:{}},[l]:w},bp={[k]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[_]:Ee,[A]:{}},$s={[R]:"Invalid region: region was not a valid DNS name.",[l]:R},Ie={[x]:cy},uy={[x]:dy},ja={[m]:oe,[u]:[Ie,"service"]},dc={[x]:ac},Sp={[p]:[ee],[R]:"S3 Object Lambda does not support Dual-stack",[l]:R},kp={[p]:[Qe],[R]:"S3 Object Lambda does not support S3 Accelerate",[l]:R},_p={[p]:[{[m]:Pe,[u]:[{[x]:"DisableAccessPoints"}]},{[m]:S,[u]:[{[x]:"DisableAccessPoints"},!0]}],[R]:"Access points are not supported for this operation",[l]:R},qa={[p]:[{[m]:Pe,[u]:[{[x]:"UseArnRegion"}]},{[m]:S,[u]:[{[x]:"UseArnRegion"},!1]},{[m]:se,[u]:[{[m]:T,[u]:[{[m]:oe,[u]:[Ie,"region"]},"{Region}"]}]}],[R]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[l]:R},lc={[m]:oe,[u]:[{[x]:"bucketPartition"},O]},hy={[m]:oe,[u]:[Ie,"accountId"]},Ap={[p]:[re,{[m]:T,[u]:[lc,"aws-cn"]}],[R]:"Partition does not support FIPS",[l]:R},Ka={[B]:[{[M]:!0,[O]:"sigv4",[F]:ic,[L]:"{bucketArn#region}"}]},Rp={[R]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[l]:R},Ga={[R]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[l]:R},Ha={[R]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[l]:R},Va={[R]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[l]:R},Np={[R]:"Could not load partition for ARN region `{bucketArn#region}`",[l]:R},Tp={[R]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[l]:R},Ip={[R]:"Invalid ARN: bucket ARN is missing a region",[l]:R},Pp={[R]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[l]:R},lo={[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"{bucketArn#region}"}]},vp={[B]:[{[M]:!0,[O]:"sigv4",[F]:sc,[L]:"{bucketArn#region}"}]},Op={[x]:"UseObjectLambdaEndpoint"},Wa={[B]:[{[M]:!0,[O]:"sigv4",[F]:ic,[L]:"{Region}"}]},Dp={[p]:[re,ee,j,Z,{[m]:T,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:Ir,[_]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[A]:{}},[l]:w},py={[w]:{[k]:Ir,[_]:Ee,[A]:{}},[l]:w},fo={[k]:Ir,[_]:Ee,[A]:{}},Bp={[p]:[re,ee,U,{[m]:T,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[_]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[A]:{}},[l]:w},Mp={[k]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[_]:Ee,[A]:{}},Fp={[p]:[re,Q,j,Z,{[m]:T,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:Ir,[_]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[A]:{}},[l]:w},Lp={[p]:[re,Q,U,{[m]:T,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[_]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[A]:{}},[l]:w},zp={[k]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[_]:Ee,[A]:{}},Up={[p]:[q,ee,j,Z,{[m]:T,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:Ir,[_]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[A]:{}},[l]:w},$p={[p]:[q,ee,U,{[m]:T,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[_]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[A]:{}},[l]:w},jp={[k]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[_]:Ee,[A]:{}},qp={[p]:[q,Q,j,Z,{[m]:T,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:Ir,[_]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[A]:{}},[l]:w},Kp={[p]:[q,Q,U,{[m]:T,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:fy,[_]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[A]:{}},[l]:w},Gp={[k]:"https://s3.{Region}.{partitionResult#dnsSuffix}",[_]:Ee,[A]:{}},qs=[{[x]:"Region"}],qS=[yt],Hp=[{[m]:Tr,[u]:[{[x]:rc},!1]}],Vp=[{[m]:T,[u]:[{[x]:oy},"beta"]}],KS=[{[x]:"Endpoint"}],mo=[j,Z],Wp=[my],Yp=[{[m]:iy,[u]:[yt]}],GS=[ee,j],Nr=[{[m]:uo,[u]:qs,[me]:"partitionResult"}],Rn=[{[m]:T,[u]:[{[x]:"Region"},"us-east-1"]}],Qp=[{[m]:Tr,[u]:[{[x]:"Region"},!1]}],Ya=[{[m]:T,[u]:[uy,ly]}],Xp=[{[m]:oe,[u]:[Ie,"resourceId[1]"],[me]:ac},{[m]:se,[u]:[{[m]:T,[u]:[dc,Ks]}]}],HS=[Ie,"resourceId[1]"],Jp=[ee],Qa=[Qe],Xa=[{[m]:se,[u]:[{[m]:T,[u]:[{[m]:oe,[u]:[Ie,"region"]},Ks]}]}],Zp=[{[m]:se,[u]:[{[m]:Pe,[u]:[{[m]:oe,[u]:[Ie,"resourceId[2]"]}]}]}],VS=[Ie,"resourceId[2]"],Ja=[{[m]:uo,[u]:[{[m]:oe,[u]:[Ie,"region"]}],[me]:"bucketPartition"}],ey=[{[m]:T,[u]:[lc,{[m]:oe,[u]:[{[x]:"partitionResult"},O]}]}],Za=[{[m]:Tr,[u]:[{[m]:oe,[u]:[Ie,"region"]},!0]}],ec=[{[m]:Tr,[u]:[hy,!1]}],ty=[{[m]:Tr,[u]:[dc,!1]}],js=[re],ry=[{[m]:Tr,[u]:[{[x]:"Region"},!0]}],tc=[py],WS={version:"1.0",parameters:{Bucket:La,Region:La,UseFIPS:co,UseDualStack:co,Endpoint:La,ForcePathStyle:zs,Accelerate:co,UseGlobalEndpoint:co,UseObjectLambdaEndpoint:zs,DisableAccessPoints:zs,DisableMultiRegionAccessPoints:co,UseArnRegion:zs},[g]:[{[l]:C,[g]:[{[p]:[{[m]:Pe,[u]:qs}],[l]:C,[g]:[{[l]:C,[g]:[{[p]:[my,{[m]:ao,[u]:[yt,49,50,!0],[me]:ny},{[m]:ao,[u]:[yt,8,12,!0],[me]:oy},{[m]:ao,[u]:[yt,0,7,!0],[me]:Xh},{[m]:ao,[u]:[yt,32,49,!0],[me]:rc},{[m]:uo,[u]:qs,[me]:"regionPartition"},{[m]:T,[u]:[{[x]:Xh},"--op-s3"]}],[l]:C,[g]:[{[p]:Hp,[l]:C,[g]:[{[l]:C,[g]:[{[p]:[{[m]:T,[u]:[np,"e"]}],[l]:C,[g]:[{[p]:Vp,[l]:C,[g]:[op,{[p]:mo,endpoint:{[k]:"https://{Bucket}.ec2.{url#authority}",[_]:Us,[A]:ae},[l]:w}]},{endpoint:{[k]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[_]:Us,[A]:ae},[l]:w}]},{[p]:[{[m]:T,[u]:[np,"o"]}],[l]:C,[g]:[{[p]:Vp,[l]:C,[g]:[op,{[p]:mo,endpoint:{[k]:"https://{Bucket}.op-{outpostId}.{url#authority}",[_]:Us,[A]:ae},[l]:w}]},{endpoint:{[k]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[_]:Us,[A]:ae},[l]:w}]},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[l]:R}]}]},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[l]:R}]},{[p]:Wp,[l]:C,[g]:[{[p]:[j,{[m]:se,[u]:[{[m]:Pe,[u]:[{[m]:sy,[u]:KS}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[l]:R},{[l]:C,[g]:[{[p]:[{[m]:Pe,[u]:[sp]},{[m]:S,[u]:[sp,!0]}],[l]:C,[g]:[{[l]:C,[g]:[{[p]:Yp,error:"Path-style addressing cannot be used with ARN buckets",[l]:R},ip]}]},{[p]:[{[m]:Jh,[u]:[yt,!1]}],[l]:C,[g]:[{[p]:Nr,[l]:C,[g]:[{[l]:C,[g]:[{[p]:Qp,[l]:C,[g]:[{[l]:C,[g]:[za,{[l]:C,[g]:[{[p]:[Qe,re],error:"Accelerate cannot be used with FIPS",[l]:R},{[l]:C,[g]:[{[p]:[Qe,jS],error:"S3 Accelerate cannot be used in this region",[l]:R},{[l]:C,[g]:[{[p]:[j,ee],error:Fa,[l]:R},{[l]:C,[g]:[{[p]:[j,re],error:Fa,[l]:R},{[l]:C,[g]:[{[p]:[j,Qe],error:Fa,[l]:R},{[l]:C,[g]:[ap,ap,{[p]:[ee,re,le,U,G,xe],[l]:C,[g]:[{endpoint:cp,[l]:w}]},{[p]:[ee,re,le,U,G,we],endpoint:cp,[l]:w},dp,dp,{[p]:[Q,re,le,U,G,xe],[l]:C,[g]:[{endpoint:lp,[l]:w}]},{[p]:[Q,re,le,U,G,we],endpoint:lp,[l]:w},fp,fp,{[p]:[ee,q,Qe,U,G,xe],[l]:C,[g]:[{endpoint:mp,[l]:w}]},{[p]:[ee,q,Qe,U,G,we],endpoint:mp,[l]:w},up,up,{[p]:[ee,q,le,U,G,xe],[l]:C,[g]:[{endpoint:hp,[l]:w}]},{[p]:[ee,q,le,U,G,we],endpoint:hp,[l]:w},pp,gp,pp,gp,{[p]:[Q,q,le,j,Z,yp,G,xe],[l]:C,[g]:[{[p]:Rn,endpoint:Ua,[l]:w},{endpoint:Ua,[l]:w}]},{[p]:[Q,q,le,j,Z,Cp,G,xe],[l]:C,[g]:[{[p]:Rn,endpoint:nc,[l]:w},xp]},{[p]:[Q,q,le,j,Z,yp,G,we],endpoint:Ua,[l]:w},{[p]:[Q,q,le,j,Z,Cp,G,we],endpoint:nc,[l]:w},wp,wp,{[p]:[Q,q,Qe,U,G,xe],[l]:C,[g]:[{[p]:Rn,endpoint:$a,[l]:w},{endpoint:$a,[l]:w}]},{[p]:[Q,q,Qe,U,G,we],endpoint:$a,[l]:w},Ep,Ep,{[p]:[Q,q,le,U,G,xe],[l]:C,[g]:[{[p]:Rn,endpoint:{[k]:ay,[_]:Ee,[A]:ae},[l]:w},{endpoint:bp,[l]:w}]},{[p]:[Q,q,le,U,G,we],endpoint:bp,[l]:w}]}]}]}]}]}]}]}]},$s]}]},Rr]},{[p]:[j,Z,{[m]:T,[u]:[{[m]:oe,[u]:[cc,"scheme"]},"http"]},{[m]:Jh,[u]:[yt,!0]},q,Q,le],[l]:C,[g]:[{[p]:Nr,[l]:C,[g]:[{[l]:C,[g]:[{[p]:Qp,[l]:C,[g]:[xp]},$s]}]},Rr]},{[p]:[{[m]:iy,[u]:qS,[me]:cy}],[l]:C,[g]:[{[p]:[{[m]:oe,[u]:[Ie,"resourceId[0]"],[me]:dy},{[m]:se,[u]:[{[m]:T,[u]:[uy,Ks]}]}],[l]:C,[g]:[{[l]:C,[g]:[{[p]:[{[m]:T,[u]:[ja,ic]}],[l]:C,[g]:[{[p]:Ya,[l]:C,[g]:[{[l]:C,[g]:[{[p]:Xp,[l]:C,[g]:[{[l]:C,[g]:[Sp,{[l]:C,[g]:[kp,{[l]:C,[g]:[{[p]:Xa,[l]:C,[g]:[{[l]:C,[g]:[_p,{[l]:C,[g]:[{[p]:Zp,[l]:C,[g]:[{[l]:C,[g]:[qa,{[l]:C,[g]:[{[p]:Ja,[l]:C,[g]:[{[l]:C,[g]:[{[p]:Nr,[l]:C,[g]:[{[l]:C,[g]:[{[p]:ey,[l]:C,[g]:[{[l]:C,[g]:[{[p]:Za,[l]:C,[g]:[{[l]:C,[g]:[{[p]:[{[m]:T,[u]:[hy,Ks]}],error:"Invalid ARN: Missing account id",[l]:R},{[l]:C,[g]:[{[p]:ec,[l]:C,[g]:[{[l]:C,[g]:[{[p]:ty,[l]:C,[g]:[{[l]:C,[g]:[Ap,{[l]:C,[g]:[{[p]:mo,endpoint:{[k]:Zh,[_]:Ka,[A]:ae},[l]:w},{[p]:js,endpoint:{[k]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[_]:Ka,[A]:ae},[l]:w},{endpoint:{[k]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[_]:Ka,[A]:ae},[l]:w}]}]}]},Rp]}]},Ga]}]}]},Ha]}]},Va]}]},Rr]}]},Np]}]}]},Tp]}]}]},Ip]}]}]}]},Pp]}]},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[l]:R}]},{[p]:Ya,[l]:C,[g]:[{[p]:Xp,[l]:C,[g]:[{[l]:C,[g]:[{[p]:Xa,[l]:C,[g]:[{[p]:Ya,[l]:C,[g]:[{[p]:Xa,[l]:C,[g]:[{[l]:C,[g]:[_p,{[l]:C,[g]:[{[p]:Zp,[l]:C,[g]:[{[l]:C,[g]:[qa,{[l]:C,[g]:[{[p]:Ja,[l]:C,[g]:[{[l]:C,[g]:[{[p]:Nr,[l]:C,[g]:[{[l]:C,[g]:[{[p]:[{[m]:T,[u]:[lc,"{partitionResult#name}"]}],[l]:C,[g]:[{[l]:C,[g]:[{[p]:Za,[l]:C,[g]:[{[l]:C,[g]:[{[p]:[{[m]:T,[u]:[ja,z]}],[l]:C,[g]:[{[l]:C,[g]:[{[p]:ec,[l]:C,[g]:[{[l]:C,[g]:[{[p]:ty,[l]:C,[g]:[{[l]:C,[g]:[{[p]:Qa,error:"Access Points do not support S3 Accelerate",[l]:R},{[l]:C,[g]:[Ap,{[l]:C,[g]:[{[p]:GS,error:"DualStack cannot be combined with a Host override (PrivateLink)",[l]:R},{[l]:C,[g]:[{[p]:[re,ee],endpoint:{[k]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[_]:lo,[A]:ae},[l]:w},{[p]:[re,Q],endpoint:{[k]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[_]:lo,[A]:ae},[l]:w},{[p]:[q,ee],endpoint:{[k]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[_]:lo,[A]:ae},[l]:w},{[p]:[q,Q,j,Z],endpoint:{[k]:Zh,[_]:lo,[A]:ae},[l]:w},{[p]:[q,Q],endpoint:{[k]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[_]:lo,[A]:ae},[l]:w}]}]}]}]}]},Rp]}]},Ga]}]},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[l]:R}]}]},Ha]}]},Va]}]},Rr]}]},Np]}]}]},Tp]}]}]},Ip]}]},{[l]:C,[g]:[{[p]:[{[m]:Tr,[u]:[dc,!0]}],[l]:C,[g]:[{[l]:C,[g]:[{[p]:Jp,error:"S3 MRAP does not support dual-stack",[l]:R},{[l]:C,[g]:[{[p]:js,error:"S3 MRAP does not support FIPS",[l]:R},{[l]:C,[g]:[{[p]:Qa,error:"S3 MRAP does not support S3 Accelerate",[l]:R},{[l]:C,[g]:[{[p]:[{[m]:S,[u]:[{[x]:"DisableMultiRegionAccessPoints"},!0]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[l]:R},{[l]:C,[g]:[{[p]:[{[m]:uo,[u]:qs,[me]:ep}],[l]:C,[g]:[{[l]:C,[g]:[{[p]:[{[m]:T,[u]:[{[m]:oe,[u]:[{[x]:ep},O]},{[m]:oe,[u]:[Ie,"partition"]}]}],[l]:C,[g]:[{endpoint:{[k]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[_]:{[B]:[{[M]:!0,name:"sigv4a",[F]:z,signingRegionSet:["*"]}]},[A]:ae},[l]:w}]},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[l]:R}]}]},{error:"{Region} was not a valid region",[l]:R}]}]}]}]}]}]},{error:"Invalid Access Point Name",[l]:R}]}]}]},Pp]},{[p]:[{[m]:T,[u]:[ja,sc]}],[l]:C,[g]:[{[p]:Jp,error:"S3 Outposts does not support Dual-stack",[l]:R},{[l]:C,[g]:[{[p]:js,error:"S3 Outposts does not support FIPS",[l]:R},{[l]:C,[g]:[{[p]:Qa,error:"S3 Outposts does not support S3 Accelerate",[l]:R},{[l]:C,[g]:[{[p]:[{[m]:Pe,[u]:[{[m]:oe,[u]:[Ie,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[l]:R},{[l]:C,[g]:[{[p]:[{[m]:oe,[u]:HS,[me]:rc}],[l]:C,[g]:[{[l]:C,[g]:[{[p]:Hp,[l]:C,[g]:[{[l]:C,[g]:[qa,{[l]:C,[g]:[{[p]:Ja,[l]:C,[g]:[{[l]:C,[g]:[{[p]:Nr,[l]:C,[g]:[{[l]:C,[g]:[{[p]:ey,[l]:C,[g]:[{[l]:C,[g]:[{[p]:Za,[l]:C,[g]:[{[l]:C,[g]:[{[p]:ec,[l]:C,[g]:[{[l]:C,[g]:[{[p]:[{[m]:oe,[u]:VS,[me]:tp}],[l]:C,[g]:[{[l]:C,[g]:[{[p]:[{[m]:oe,[u]:[Ie,"resourceId[3]"],[me]:ac}],[l]:C,[g]:[{[l]:C,[g]:[{[p]:[{[m]:T,[u]:[{[x]:tp},ly]}],[l]:C,[g]:[{[l]:C,[g]:[{[p]:mo,endpoint:{[k]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[_]:vp,[A]:ae},[l]:w},{endpoint:{[k]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[_]:vp,[A]:ae},[l]:w}]}]},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[l]:R}]}]},{error:"Invalid ARN: expected an access point name",[l]:R}]}]},{error:"Invalid ARN: Expected a 4-component resource",[l]:R}]}]},Ga]}]},Ha]}]},Va]}]},Rr]}]},{error:"Could not load partition for ARN region {bucketArn#region}",[l]:R}]}]}]},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[l]:R}]}]},{error:"Invalid ARN: The Outpost Id was not set",[l]:R}]}]}]}]}]},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[l]:R}]}]},{error:"Invalid ARN: No ARN type specified",[l]:R}]},{[p]:[{[m]:ao,[u]:[yt,0,4,!1],[me]:rp},{[m]:T,[u]:[{[x]:rp},"arn:"]},{[m]:se,[u]:[{[m]:Pe,[u]:Yp}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[l]:R},ip]}]},{[p]:[{[m]:Pe,[u]:[Op]},{[m]:S,[u]:[Op,!0]}],[l]:C,[g]:[{[p]:Nr,[l]:C,[g]:[{[l]:C,[g]:[{[p]:ry,[l]:C,[g]:[{[l]:C,[g]:[Sp,{[l]:C,[g]:[kp,{[l]:C,[g]:[za,{[l]:C,[g]:[{[p]:mo,endpoint:{[k]:Ir,[_]:Wa,[A]:ae},[l]:w},{[p]:js,endpoint:{[k]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[_]:Wa,[A]:ae},[l]:w},{endpoint:{[k]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[_]:Wa,[A]:ae},[l]:w}]}]}]}]}]},$s]}]},Rr]},{[p]:[{[m]:se,[u]:Wp}],[l]:C,[g]:[{[p]:Nr,[l]:C,[g]:[{[l]:C,[g]:[{[p]:ry,[l]:C,[g]:[{[l]:C,[g]:[za,{[l]:C,[g]:[Dp,Dp,{[p]:[re,ee,j,Z,G,xe],[l]:C,[g]:tc},{[p]:[re,ee,j,Z,G,we],endpoint:fo,[l]:w},Bp,Bp,{[p]:[re,ee,U,G,xe],[l]:C,[g]:[{endpoint:Mp,[l]:w}]},{[p]:[re,ee,U,G,we],endpoint:Mp,[l]:w},Fp,Fp,{[p]:[re,Q,j,Z,G,xe],[l]:C,[g]:tc},{[p]:[re,Q,j,Z,G,we],endpoint:fo,[l]:w},Lp,Lp,{[p]:[re,Q,U,G,xe],[l]:C,[g]:[{endpoint:zp,[l]:w}]},{[p]:[re,Q,U,G,we],endpoint:zp,[l]:w},Up,Up,{[p]:[q,ee,j,Z,G,xe],[l]:C,[g]:tc},{[p]:[q,ee,j,Z,G,we],endpoint:fo,[l]:w},$p,$p,{[p]:[q,ee,U,G,xe],[l]:C,[g]:[{endpoint:jp,[l]:w}]},{[p]:[q,ee,U,G,we],endpoint:jp,[l]:w},qp,qp,{[p]:[q,Q,j,Z,G,xe],[l]:C,[g]:[{[p]:Rn,endpoint:fo,[l]:w},py]},{[p]:[q,Q,j,Z,G,we],endpoint:fo,[l]:w},Kp,Kp,{[p]:[q,Q,U,G,xe],[l]:C,[g]:[{[p]:Rn,endpoint:{[k]:fy,[_]:Ee,[A]:ae},[l]:w},{endpoint:Gp,[l]:w}]},{[p]:[q,Q,U,G,we],endpoint:Gp,[l]:w}]}]}]},$s]}]},Rr]}]}]},{error:"A region must be set when sending requests to S3.",[l]:R}]}]},yy=WS;var gy=(e,t={})=>nr(yy,{endpointParams:e,logger:t.logger});var Cy=e=>({apiVersion:"2006-03-01",base64Decoder:(e==null?void 0:e.base64Decoder)??dr,base64Encoder:(e==null?void 0:e.base64Encoder)??lr,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??gy,logger:(e==null?void 0:e.logger)??new tt,serviceId:(e==null?void 0:e.serviceId)??"S3",signerConstructor:(e==null?void 0:e.signerConstructor)??Ls,signingEscapePath:(e==null?void 0:e.signingEscapePath)??!1,urlParser:(e==null?void 0:e.urlParser)??Ae,useArnRegion:(e==null?void 0:e.useArnRegion)??!1,utf8Decoder:(e==null?void 0:e.utf8Decoder)??ot,utf8Encoder:(e==null?void 0:e.utf8Encoder)??$t});var xy=e=>{Ft(process.version);let t=fr(e),r=()=>t().then(Mt),n=Cy(e);return{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??ar,credentialDefaultProvider:(e==null?void 0:e.credentialDefaultProvider)??Ih(Os),defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??cr({serviceId:n.serviceId,clientVersion:jf.version}),eventStreamSerdeProvider:(e==null?void 0:e.eventStreamSerdeProvider)??jh,getAwsChunkedEncodingStream:(e==null?void 0:e.getAwsChunkedEncodingStream)??Vh,maxAttempts:(e==null?void 0:e.maxAttempts)??K(Qt),md5:(e==null?void 0:e.md5)??$e.bind(null,"md5"),region:(e==null?void 0:e.region)??K(it,Kt),requestHandler:(e==null?void 0:e.requestHandler)??new lt(r),retryMode:(e==null?void 0:e.retryMode)??K({...Jt,default:async()=>(await r()).retryMode||ct}),sdkStreamMixin:(e==null?void 0:e.sdkStreamMixin)??Qh,sha1:(e==null?void 0:e.sha1)??$e.bind(null,"sha1"),sha256:(e==null?void 0:e.sha256)??$e.bind(null,"sha256"),streamCollector:(e==null?void 0:e.streamCollector)??ft,streamHasher:(e==null?void 0:e.streamHasher)??Kh,useArnRegion:(e==null?void 0:e.useArnRegion)??K(Gh),useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??K(jt),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??K(qt)}};var Gs=class extends rt{constructor(t){let r=xy(t),n=$f(r),o=Gt(n),s=Bt(o),i=Xt(s),a=i,c=Zo(a),d=gl(c),f=tr(d),h=Ml(f);super(h),this.config=h,this.middlewareStack.use(Zt(this.config)),this.middlewareStack.use(Ht(this.config)),this.middlewareStack.use(Vt(this.config)),this.middlewareStack.use(Wt(this.config)),this.middlewareStack.use(Yt(this.config)),this.middlewareStack.use(ts(this.config)),this.middlewareStack.use(Cl(this.config)),this.middlewareStack.use(Ll(this.config)),this.middlewareStack.use(or(this.config))}destroy(){super.destroy()}};var YS=/\s+(?=([^"]*"[^"]*")*[^"]*$)/g;async function QS(){try{let e=(0,Nn.getInput)("bucket"),t=(0,Nn.getInput)("path"),r=(0,Nn.getInput)("prefix"),n=t.split(YS).filter(Boolean),o=Array.from(new Set(n)),s=new Gs({});await Promise.all(o.map(async i=>{let a=new Kr({Bucket:e,Prefix:[r,i].filter(Boolean).join("/")}),c=await s.send(a);console.info(c)}))}catch(e){e instanceof Error&&(0,Nn.setFailed)(e)}}QS();
/*! Bundled license information:

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)
*/
