"use strict";var Cg=Object.create;var Oo=Object.defineProperty;var xg=Object.getOwnPropertyDescriptor;var wg=Object.getOwnPropertyNames;var Eg=Object.getPrototypeOf,bg=Object.prototype.hasOwnProperty;var ae=(e,t)=>()=>(e&&(t=e(e=0)),t);var G=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),zr=(e,t)=>{for(var r in t)Oo(e,r,{get:t[r],enumerable:!0})},Kc=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of wg(t))!bg.call(e,o)&&o!==r&&Oo(e,o,{get:()=>t[o],enumerable:!(n=xg(t,o))||n.enumerable});return e};var rt=(e,t,r)=>(r=e!=null?Cg(Eg(e)):{},Kc(t||!e||!e.__esModule?Oo(r,"default",{value:e,enumerable:!0}):r,e)),Ur=e=>Kc(Oo({},"__esModule",{value:!0}),e);var Do=G($r=>{"use strict";Object.defineProperty($r,"__esModule",{value:!0});$r.toCommandProperties=$r.toCommandValue=void 0;function Sg(e){return e==null?"":typeof e=="string"||e instanceof String?e:JSON.stringify(e)}$r.toCommandValue=Sg;function kg(e){return Object.keys(e).length?{title:e.title,file:e.file,line:e.startLine,endLine:e.endLine,col:e.startColumn,endColumn:e.endColumn}:{}}$r.toCommandProperties=kg});var Wc=G(Le=>{"use strict";var Ag=Le&&Le.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),_g=Le&&Le.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Rg=Le&&Le.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Ag(t,e,r);return _g(t,e),t};Object.defineProperty(Le,"__esModule",{value:!0});Le.issue=Le.issueCommand=void 0;var Ng=Rg(require("os")),Hc=Do();function Vc(e,t,r){let n=new yi(e,t,r);process.stdout.write(n.toString()+Ng.EOL)}Le.issueCommand=Vc;function Tg(e,t=""){Vc(e,{},t)}Le.issue=Tg;var Gc="::",yi=class{constructor(t,r,n){t||(t="missing.command"),this.command=t,this.properties=r,this.message=n}toString(){let t=Gc+this.command;if(this.properties&&Object.keys(this.properties).length>0){t+=" ";let r=!0;for(let n in this.properties)if(this.properties.hasOwnProperty(n)){let o=this.properties[n];o&&(r?r=!1:t+=",",t+=`${n}=${Pg(o)}`)}}return t+=`${Gc}${Ig(this.message)}`,t}};function Ig(e){return Hc.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function Pg(e){return Hc.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}});function qn(){return Bo>Mo.length-16&&(Yc.default.randomFillSync(Mo),Bo=0),Mo.slice(Bo,Bo+=16)}var Yc,Mo,Bo,gi=ae(()=>{Yc=rt(require("crypto")),Mo=new Uint8Array(256),Bo=Mo.length});var Qc,Xc=ae(()=>{Qc=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function vg(e){return typeof e=="string"&&Qc.test(e)}var Dt,Kn=ae(()=>{Xc();Dt=vg});function Og(e,t=0){let r=(he[e[t+0]]+he[e[t+1]]+he[e[t+2]]+he[e[t+3]]+"-"+he[e[t+4]]+he[e[t+5]]+"-"+he[e[t+6]]+he[e[t+7]]+"-"+he[e[t+8]]+he[e[t+9]]+"-"+he[e[t+10]]+he[e[t+11]]+he[e[t+12]]+he[e[t+13]]+he[e[t+14]]+he[e[t+15]]).toLowerCase();if(!Dt(r))throw TypeError("Stringified UUID is invalid");return r}var he,Bt,Gn=ae(()=>{Kn();he=[];for(let e=0;e<256;++e)he.push((e+256).toString(16).substr(1));Bt=Og});function Dg(e,t,r){let n=t&&r||0,o=t||new Array(16);e=e||{};let s=e.node||Jc,i=e.clockseq!==void 0?e.clockseq:Ci;if(s==null||i==null){let p=e.random||(e.rng||qn)();s==null&&(s=Jc=[p[0]|1,p[1],p[2],p[3],p[4],p[5]]),i==null&&(i=Ci=(p[6]<<8|p[7])&16383)}let a=e.msecs!==void 0?e.msecs:Date.now(),c=e.nsecs!==void 0?e.nsecs:wi+1,d=a-xi+(c-wi)/1e4;if(d<0&&e.clockseq===void 0&&(i=i+1&16383),(d<0||a>xi)&&e.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");xi=a,wi=c,Ci=i,a+=122192928e5;let f=((a&268435455)*1e4+c)%4294967296;o[n++]=f>>>24&255,o[n++]=f>>>16&255,o[n++]=f>>>8&255,o[n++]=f&255;let h=a/4294967296*1e4&268435455;o[n++]=h>>>8&255,o[n++]=h&255,o[n++]=h>>>24&15|16,o[n++]=h>>>16&255,o[n++]=i>>>8|128,o[n++]=i&255;for(let p=0;p<6;++p)o[n+p]=s[p];return t||Bt(o)}var Jc,Ci,xi,wi,Zc,ed=ae(()=>{gi();Gn();xi=0,wi=0;Zc=Dg});function Bg(e){if(!Dt(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var Fo,Ei=ae(()=>{Kn();Fo=Bg});function Mg(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}function Lo(e,t,r){function n(o,s,i,a){if(typeof o=="string"&&(o=Mg(o)),typeof s=="string"&&(s=Fo(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+o.length);if(c.set(s),c.set(o,s.length),c=r(c),c[6]=c[6]&15|t,c[8]=c[8]&63|128,i){a=a||0;for(let d=0;d<16;++d)i[a+d]=c[d];return i}return Bt(c)}try{n.name=e}catch{}return n.DNS=Fg,n.URL=Lg,n}var Fg,Lg,bi=ae(()=>{Gn();Ei();Fg="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Lg="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function zg(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),td.default.createHash("md5").update(e).digest()}var td,rd,nd=ae(()=>{td=rt(require("crypto"));rd=zg});var Ug,od,sd=ae(()=>{bi();nd();Ug=Lo("v3",48,rd),od=Ug});function $g(e,t,r){e=e||{};let n=e.random||(e.rng||qn)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let o=0;o<16;++o)t[r+o]=n[o];return t}return Bt(n)}var zo,id=ae(()=>{gi();Gn();zo=$g});function jg(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),ad.default.createHash("sha1").update(e).digest()}var ad,cd,dd=ae(()=>{ad=rt(require("crypto"));cd=jg});var qg,ld,fd=ae(()=>{bi();dd();qg=Lo("v5",80,cd),ld=qg});var md,ud=ae(()=>{md="00000000-0000-0000-0000-000000000000"});function Kg(e){if(!Dt(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}var hd,pd=ae(()=>{Kn();hd=Kg});var yd={};zr(yd,{NIL:()=>md,parse:()=>Fo,stringify:()=>Bt,v1:()=>Zc,v3:()=>od,v4:()=>zo,v5:()=>ld,validate:()=>Dt,version:()=>hd});var Si=ae(()=>{ed();sd();id();fd();ud();pd();Kn();Gn();Ei()});var wd=G(ze=>{"use strict";var Gg=ze&&ze.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Hg=ze&&ze.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Cd=ze&&ze.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Gg(t,e,r);return Hg(t,e),t};Object.defineProperty(ze,"__esModule",{value:!0});ze.prepareKeyValueMessage=ze.issueFileCommand=void 0;var gd=Cd(require("fs")),ki=Cd(require("os")),Vg=(Si(),Ur(yd)),xd=Do();function Wg(e,t){let r=process.env[`GITHUB_${e}`];if(!r)throw new Error(`Unable to find environment variable for file command ${e}`);if(!gd.existsSync(r))throw new Error(`Missing file at path: ${r}`);gd.appendFileSync(r,`${xd.toCommandValue(t)}${ki.EOL}`,{encoding:"utf8"})}ze.issueFileCommand=Wg;function Yg(e,t){let r=`ghadelimiter_${Vg.v4()}`,n=xd.toCommandValue(t);if(e.includes(r))throw new Error(`Unexpected input: name should not contain the delimiter "${r}"`);if(n.includes(r))throw new Error(`Unexpected input: value should not contain the delimiter "${r}"`);return`${e}<<${r}${ki.EOL}${n}${ki.EOL}${r}`}ze.prepareKeyValueMessage=Yg});var bd=G(jr=>{"use strict";Object.defineProperty(jr,"__esModule",{value:!0});jr.checkBypass=jr.getProxyUrl=void 0;function Qg(e){let t=e.protocol==="https:";if(Ed(e))return;let r=(()=>t?process.env.https_proxy||process.env.HTTPS_PROXY:process.env.http_proxy||process.env.HTTP_PROXY)();if(r)return new URL(r)}jr.getProxyUrl=Qg;function Ed(e){if(!e.hostname)return!1;let t=e.hostname;if(Xg(t))return!0;let r=process.env.no_proxy||process.env.NO_PROXY||"";if(!r)return!1;let n;e.port?n=Number(e.port):e.protocol==="http:"?n=80:e.protocol==="https:"&&(n=443);let o=[e.hostname.toUpperCase()];typeof n=="number"&&o.push(`${o[0]}:${n}`);for(let s of r.split(",").map(i=>i.trim().toUpperCase()).filter(i=>i))if(s==="*"||o.some(i=>i===s||i.endsWith(`.${s}`)||s.startsWith(".")&&i.endsWith(`${s}`)))return!0;return!1}jr.checkBypass=Ed;function Xg(e){let t=e.toLowerCase();return t==="localhost"||t.startsWith("127.")||t.startsWith("[::1]")||t.startsWith("[0:0:0:0:0:0:0:1]")}});var _d=G(qr=>{"use strict";var pA=require("net"),Jg=require("tls"),Ai=require("http"),Sd=require("https"),Zg=require("events"),yA=require("assert"),eC=require("util");qr.httpOverHttp=tC;qr.httpsOverHttp=rC;qr.httpOverHttps=nC;qr.httpsOverHttps=oC;function tC(e){var t=new Et(e);return t.request=Ai.request,t}function rC(e){var t=new Et(e);return t.request=Ai.request,t.createSocket=kd,t.defaultPort=443,t}function nC(e){var t=new Et(e);return t.request=Sd.request,t}function oC(e){var t=new Et(e);return t.request=Sd.request,t.createSocket=kd,t.defaultPort=443,t}function Et(e){var t=this;t.options=e||{},t.proxyOptions=t.options.proxy||{},t.maxSockets=t.options.maxSockets||Ai.Agent.defaultMaxSockets,t.requests=[],t.sockets=[],t.on("free",function(n,o,s,i){for(var a=Ad(o,s,i),c=0,d=t.requests.length;c<d;++c){var f=t.requests[c];if(f.host===a.host&&f.port===a.port){t.requests.splice(c,1),f.request.onSocket(n);return}}n.destroy(),t.removeSocket(n)})}eC.inherits(Et,Zg.EventEmitter);Et.prototype.addRequest=function(t,r,n,o){var s=this,i=_i({request:t},s.options,Ad(r,n,o));if(s.sockets.length>=this.maxSockets){s.requests.push(i);return}s.createSocket(i,function(a){a.on("free",c),a.on("close",d),a.on("agentRemove",d),t.onSocket(a);function c(){s.emit("free",a,i)}function d(f){s.removeSocket(a),a.removeListener("free",c),a.removeListener("close",d),a.removeListener("agentRemove",d)}})};Et.prototype.createSocket=function(t,r){var n=this,o={};n.sockets.push(o);var s=_i({},n.proxyOptions,{method:"CONNECT",path:t.host+":"+t.port,agent:!1,headers:{host:t.host+":"+t.port}});t.localAddress&&(s.localAddress=t.localAddress),s.proxyAuth&&(s.headers=s.headers||{},s.headers["Proxy-Authorization"]="Basic "+new Buffer(s.proxyAuth).toString("base64")),Mt("making CONNECT request");var i=n.request(s);i.useChunkedEncodingByDefault=!1,i.once("response",a),i.once("upgrade",c),i.once("connect",d),i.once("error",f),i.end();function a(h){h.upgrade=!0}function c(h,p,E){process.nextTick(function(){d(h,p,E)})}function d(h,p,E){if(i.removeAllListeners(),p.removeAllListeners(),h.statusCode!==200){Mt("tunneling socket could not be established, statusCode=%d",h.statusCode),p.destroy();var b=new Error("tunneling socket could not be established, statusCode="+h.statusCode);b.code="ECONNRESET",t.request.emit("error",b),n.removeSocket(o);return}if(E.length>0){Mt("got illegal response body from proxy"),p.destroy();var b=new Error("got illegal response body from proxy");b.code="ECONNRESET",t.request.emit("error",b),n.removeSocket(o);return}return Mt("tunneling connection has established"),n.sockets[n.sockets.indexOf(o)]=p,r(p)}function f(h){i.removeAllListeners(),Mt(`tunneling socket could not be established, cause=%s
`,h.message,h.stack);var p=new Error("tunneling socket could not be established, cause="+h.message);p.code="ECONNRESET",t.request.emit("error",p),n.removeSocket(o)}};Et.prototype.removeSocket=function(t){var r=this.sockets.indexOf(t);if(r!==-1){this.sockets.splice(r,1);var n=this.requests.shift();n&&this.createSocket(n,function(o){n.request.onSocket(o)})}};function kd(e,t){var r=this;Et.prototype.createSocket.call(r,e,function(n){var o=e.request.getHeader("host"),s=_i({},r.options,{socket:n,servername:o?o.replace(/:.*$/,""):e.host}),i=Jg.connect(0,s);r.sockets[r.sockets.indexOf(n)]=i,t(i)})}function Ad(e,t,r){return typeof e=="string"?{host:e,port:t,localAddress:r}:e}function _i(e){for(var t=1,r=arguments.length;t<r;++t){var n=arguments[t];if(typeof n=="object")for(var o=Object.keys(n),s=0,i=o.length;s<i;++s){var a=o[s];n[a]!==void 0&&(e[a]=n[a])}}return e}var Mt;process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?Mt=function(){var e=Array.prototype.slice.call(arguments);typeof e[0]=="string"?e[0]="TUNNEL: "+e[0]:e.unshift("TUNNEL:"),console.error.apply(console,e)}:Mt=function(){};qr.debug=Mt});var Nd=G((CA,Rd)=>{Rd.exports=_d()});var Id=G(J=>{"use strict";var sC=J&&J.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),iC=J&&J.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Ko=J&&J.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&sC(t,e,r);return iC(t,e),t},le=J&&J.__awaiter||function(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(f){try{d(n.next(f))}catch(h){i(h)}}function c(f){try{d(n.throw(f))}catch(h){i(h)}}function d(f){f.done?s(f.value):o(f.value).then(a,c)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(J,"__esModule",{value:!0});J.HttpClient=J.isHttps=J.HttpClientResponse=J.HttpClientError=J.getProxyUrl=J.MediaTypes=J.Headers=J.HttpCodes=void 0;var Uo=Ko(require("http")),Ri=Ko(require("https")),Td=Ko(bd()),$o=Ko(Nd()),Xe;(function(e){e[e.OK=200]="OK",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.ResourceMoved=302]="ResourceMoved",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.SwitchProxy=306]="SwitchProxy",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.TooManyRequests=429]="TooManyRequests",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout"})(Xe=J.HttpCodes||(J.HttpCodes={}));var Se;(function(e){e.Accept="accept",e.ContentType="content-type"})(Se=J.Headers||(J.Headers={}));var Ft;(function(e){e.ApplicationJson="application/json"})(Ft=J.MediaTypes||(J.MediaTypes={}));function aC(e){let t=Td.getProxyUrl(new URL(e));return t?t.href:""}J.getProxyUrl=aC;var cC=[Xe.MovedPermanently,Xe.ResourceMoved,Xe.SeeOther,Xe.TemporaryRedirect,Xe.PermanentRedirect],dC=[Xe.BadGateway,Xe.ServiceUnavailable,Xe.GatewayTimeout],lC=["OPTIONS","GET","DELETE","HEAD"],fC=10,mC=5,Kr=class extends Error{constructor(t,r){super(t),this.name="HttpClientError",this.statusCode=r,Object.setPrototypeOf(this,Kr.prototype)}};J.HttpClientError=Kr;var qo=class{constructor(t){this.message=t}readBody(){return le(this,void 0,void 0,function*(){return new Promise(t=>le(this,void 0,void 0,function*(){let r=Buffer.alloc(0);this.message.on("data",n=>{r=Buffer.concat([r,n])}),this.message.on("end",()=>{t(r.toString())})}))})}};J.HttpClientResponse=qo;function uC(e){return new URL(e).protocol==="https:"}J.isHttps=uC;var Ni=class{constructor(t,r,n){this._ignoreSslError=!1,this._allowRedirects=!0,this._allowRedirectDowngrade=!1,this._maxRedirects=50,this._allowRetries=!1,this._maxRetries=1,this._keepAlive=!1,this._disposed=!1,this.userAgent=t,this.handlers=r||[],this.requestOptions=n,n&&(n.ignoreSslError!=null&&(this._ignoreSslError=n.ignoreSslError),this._socketTimeout=n.socketTimeout,n.allowRedirects!=null&&(this._allowRedirects=n.allowRedirects),n.allowRedirectDowngrade!=null&&(this._allowRedirectDowngrade=n.allowRedirectDowngrade),n.maxRedirects!=null&&(this._maxRedirects=Math.max(n.maxRedirects,0)),n.keepAlive!=null&&(this._keepAlive=n.keepAlive),n.allowRetries!=null&&(this._allowRetries=n.allowRetries),n.maxRetries!=null&&(this._maxRetries=n.maxRetries))}options(t,r){return le(this,void 0,void 0,function*(){return this.request("OPTIONS",t,null,r||{})})}get(t,r){return le(this,void 0,void 0,function*(){return this.request("GET",t,null,r||{})})}del(t,r){return le(this,void 0,void 0,function*(){return this.request("DELETE",t,null,r||{})})}post(t,r,n){return le(this,void 0,void 0,function*(){return this.request("POST",t,r,n||{})})}patch(t,r,n){return le(this,void 0,void 0,function*(){return this.request("PATCH",t,r,n||{})})}put(t,r,n){return le(this,void 0,void 0,function*(){return this.request("PUT",t,r,n||{})})}head(t,r){return le(this,void 0,void 0,function*(){return this.request("HEAD",t,null,r||{})})}sendStream(t,r,n,o){return le(this,void 0,void 0,function*(){return this.request(t,r,n,o)})}getJson(t,r={}){return le(this,void 0,void 0,function*(){r[Se.Accept]=this._getExistingOrDefaultHeader(r,Se.Accept,Ft.ApplicationJson);let n=yield this.get(t,r);return this._processResponse(n,this.requestOptions)})}postJson(t,r,n={}){return le(this,void 0,void 0,function*(){let o=JSON.stringify(r,null,2);n[Se.Accept]=this._getExistingOrDefaultHeader(n,Se.Accept,Ft.ApplicationJson),n[Se.ContentType]=this._getExistingOrDefaultHeader(n,Se.ContentType,Ft.ApplicationJson);let s=yield this.post(t,o,n);return this._processResponse(s,this.requestOptions)})}putJson(t,r,n={}){return le(this,void 0,void 0,function*(){let o=JSON.stringify(r,null,2);n[Se.Accept]=this._getExistingOrDefaultHeader(n,Se.Accept,Ft.ApplicationJson),n[Se.ContentType]=this._getExistingOrDefaultHeader(n,Se.ContentType,Ft.ApplicationJson);let s=yield this.put(t,o,n);return this._processResponse(s,this.requestOptions)})}patchJson(t,r,n={}){return le(this,void 0,void 0,function*(){let o=JSON.stringify(r,null,2);n[Se.Accept]=this._getExistingOrDefaultHeader(n,Se.Accept,Ft.ApplicationJson),n[Se.ContentType]=this._getExistingOrDefaultHeader(n,Se.ContentType,Ft.ApplicationJson);let s=yield this.patch(t,o,n);return this._processResponse(s,this.requestOptions)})}request(t,r,n,o){return le(this,void 0,void 0,function*(){if(this._disposed)throw new Error("Client has already been disposed.");let s=new URL(r),i=this._prepareRequest(t,s,o),a=this._allowRetries&&lC.includes(t)?this._maxRetries+1:1,c=0,d;do{if(d=yield this.requestRaw(i,n),d&&d.message&&d.message.statusCode===Xe.Unauthorized){let h;for(let p of this.handlers)if(p.canHandleAuthentication(d)){h=p;break}return h?h.handleAuthentication(this,i,n):d}let f=this._maxRedirects;for(;d.message.statusCode&&cC.includes(d.message.statusCode)&&this._allowRedirects&&f>0;){let h=d.message.headers.location;if(!h)break;let p=new URL(h);if(s.protocol==="https:"&&s.protocol!==p.protocol&&!this._allowRedirectDowngrade)throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");if(yield d.readBody(),p.hostname!==s.hostname)for(let E in o)E.toLowerCase()==="authorization"&&delete o[E];i=this._prepareRequest(t,p,o),d=yield this.requestRaw(i,n),f--}if(!d.message.statusCode||!dC.includes(d.message.statusCode))return d;c+=1,c<a&&(yield d.readBody(),yield this._performExponentialBackoff(c))}while(c<a);return d})}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}requestRaw(t,r){return le(this,void 0,void 0,function*(){return new Promise((n,o)=>{function s(i,a){i?o(i):a?n(a):o(new Error("Unknown error"))}this.requestRawWithCallback(t,r,s)})})}requestRawWithCallback(t,r,n){typeof r=="string"&&(t.options.headers||(t.options.headers={}),t.options.headers["Content-Length"]=Buffer.byteLength(r,"utf8"));let o=!1;function s(c,d){o||(o=!0,n(c,d))}let i=t.httpModule.request(t.options,c=>{let d=new qo(c);s(void 0,d)}),a;i.on("socket",c=>{a=c}),i.setTimeout(this._socketTimeout||3*6e4,()=>{a&&a.end(),s(new Error(`Request timeout: ${t.options.path}`))}),i.on("error",function(c){s(c)}),r&&typeof r=="string"&&i.write(r,"utf8"),r&&typeof r!="string"?(r.on("close",function(){i.end()}),r.pipe(i)):i.end()}getAgent(t){let r=new URL(t);return this._getAgent(r)}_prepareRequest(t,r,n){let o={};o.parsedUrl=r;let s=o.parsedUrl.protocol==="https:";o.httpModule=s?Ri:Uo;let i=s?443:80;if(o.options={},o.options.host=o.parsedUrl.hostname,o.options.port=o.parsedUrl.port?parseInt(o.parsedUrl.port):i,o.options.path=(o.parsedUrl.pathname||"")+(o.parsedUrl.search||""),o.options.method=t,o.options.headers=this._mergeHeaders(n),this.userAgent!=null&&(o.options.headers["user-agent"]=this.userAgent),o.options.agent=this._getAgent(o.parsedUrl),this.handlers)for(let a of this.handlers)a.prepareRequest(o.options);return o}_mergeHeaders(t){return this.requestOptions&&this.requestOptions.headers?Object.assign({},jo(this.requestOptions.headers),jo(t||{})):jo(t||{})}_getExistingOrDefaultHeader(t,r,n){let o;return this.requestOptions&&this.requestOptions.headers&&(o=jo(this.requestOptions.headers)[r]),t[r]||o||n}_getAgent(t){let r,n=Td.getProxyUrl(t),o=n&&n.hostname;if(this._keepAlive&&o&&(r=this._proxyAgent),this._keepAlive&&!o&&(r=this._agent),r)return r;let s=t.protocol==="https:",i=100;if(this.requestOptions&&(i=this.requestOptions.maxSockets||Uo.globalAgent.maxSockets),n&&n.hostname){let a={maxSockets:i,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(n.username||n.password)&&{proxyAuth:`${n.username}:${n.password}`}),{host:n.hostname,port:n.port})},c,d=n.protocol==="https:";s?c=d?$o.httpsOverHttps:$o.httpsOverHttp:c=d?$o.httpOverHttps:$o.httpOverHttp,r=c(a),this._proxyAgent=r}if(this._keepAlive&&!r){let a={keepAlive:this._keepAlive,maxSockets:i};r=s?new Ri.Agent(a):new Uo.Agent(a),this._agent=r}return r||(r=s?Ri.globalAgent:Uo.globalAgent),s&&this._ignoreSslError&&(r.options=Object.assign(r.options||{},{rejectUnauthorized:!1})),r}_performExponentialBackoff(t){return le(this,void 0,void 0,function*(){t=Math.min(fC,t);let r=mC*Math.pow(2,t);return new Promise(n=>setTimeout(()=>n(),r))})}_processResponse(t,r){return le(this,void 0,void 0,function*(){return new Promise((n,o)=>le(this,void 0,void 0,function*(){let s=t.message.statusCode||0,i={statusCode:s,result:null,headers:{}};s===Xe.NotFound&&n(i);function a(f,h){if(typeof h=="string"){let p=new Date(h);if(!isNaN(p.valueOf()))return p}return h}let c,d;try{d=yield t.readBody(),d&&d.length>0&&(r&&r.deserializeDates?c=JSON.parse(d,a):c=JSON.parse(d),i.result=c),i.headers=t.message.headers}catch{}if(s>299){let f;c&&c.message?f=c.message:d&&d.length>0?f=d:f=`Failed request: (${s})`;let h=new Kr(f,s);h.result=i.result,o(h)}else n(i)}))})}};J.HttpClient=Ni;var jo=e=>Object.keys(e).reduce((t,r)=>(t[r.toLowerCase()]=e[r],t),{})});var Pd=G(nt=>{"use strict";var vi=nt&&nt.__awaiter||function(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(f){try{d(n.next(f))}catch(h){i(h)}}function c(f){try{d(n.throw(f))}catch(h){i(h)}}function d(f){f.done?s(f.value):o(f.value).then(a,c)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(nt,"__esModule",{value:!0});nt.PersonalAccessTokenCredentialHandler=nt.BearerCredentialHandler=nt.BasicCredentialHandler=void 0;var Ti=class{constructor(t,r){this.username=t,this.password=r}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return vi(this,void 0,void 0,function*(){throw new Error("not implemented")})}};nt.BasicCredentialHandler=Ti;var Ii=class{constructor(t){this.token=t}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Bearer ${this.token}`}canHandleAuthentication(){return!1}handleAuthentication(){return vi(this,void 0,void 0,function*(){throw new Error("not implemented")})}};nt.BearerCredentialHandler=Ii;var Pi=class{constructor(t){this.token=t}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return vi(this,void 0,void 0,function*(){throw new Error("not implemented")})}};nt.PersonalAccessTokenCredentialHandler=Pi});var Dd=G(Gr=>{"use strict";var vd=Gr&&Gr.__awaiter||function(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(f){try{d(n.next(f))}catch(h){i(h)}}function c(f){try{d(n.throw(f))}catch(h){i(h)}}function d(f){f.done?s(f.value):o(f.value).then(a,c)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(Gr,"__esModule",{value:!0});Gr.OidcClient=void 0;var hC=Id(),pC=Pd(),Od=Oi(),Lt=class{static createHttpClient(t=!0,r=10){let n={allowRetries:t,maxRetries:r};return new hC.HttpClient("actions/oidc-client",[new pC.BearerCredentialHandler(Lt.getRequestToken())],n)}static getRequestToken(){let t=process.env.ACTIONS_ID_TOKEN_REQUEST_TOKEN;if(!t)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable");return t}static getIDTokenUrl(){let t=process.env.ACTIONS_ID_TOKEN_REQUEST_URL;if(!t)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable");return t}static getCall(t){var r;return vd(this,void 0,void 0,function*(){let s=(r=(yield Lt.createHttpClient().getJson(t).catch(i=>{throw new Error(`Failed to get ID Token. 
 
        Error Code : ${i.statusCode}
 
        Error Message: ${i.result.message}`)})).result)===null||r===void 0?void 0:r.value;if(!s)throw new Error("Response json body do not have ID Token field");return s})}static getIDToken(t){return vd(this,void 0,void 0,function*(){try{let r=Lt.getIDTokenUrl();if(t){let o=encodeURIComponent(t);r=`${r}&audience=${o}`}Od.debug(`ID token url is ${r}`);let n=yield Lt.getCall(r);return Od.setSecret(n),n}catch(r){throw new Error(`Error message: ${r.message}`)}})}};Gr.OidcClient=Lt});var Fi=G(_e=>{"use strict";var Di=_e&&_e.__awaiter||function(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(f){try{d(n.next(f))}catch(h){i(h)}}function c(f){try{d(n.throw(f))}catch(h){i(h)}}function d(f){f.done?s(f.value):o(f.value).then(a,c)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(_e,"__esModule",{value:!0});_e.summary=_e.markdownSummary=_e.SUMMARY_DOCS_URL=_e.SUMMARY_ENV_VAR=void 0;var yC=require("os"),Bi=require("fs"),{access:gC,appendFile:CC,writeFile:xC}=Bi.promises;_e.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY";_e.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";var Mi=class{constructor(){this._buffer=""}filePath(){return Di(this,void 0,void 0,function*(){if(this._filePath)return this._filePath;let t=process.env[_e.SUMMARY_ENV_VAR];if(!t)throw new Error(`Unable to find environment variable for $${_e.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`);try{yield gC(t,Bi.constants.R_OK|Bi.constants.W_OK)}catch{throw new Error(`Unable to access summary file: '${t}'. Check if the file has correct read/write permissions.`)}return this._filePath=t,this._filePath})}wrap(t,r,n={}){let o=Object.entries(n).map(([s,i])=>` ${s}="${i}"`).join("");return r?`<${t}${o}>${r}</${t}>`:`<${t}${o}>`}write(t){return Di(this,void 0,void 0,function*(){let r=!!(t!=null&&t.overwrite),n=yield this.filePath();return yield(r?xC:CC)(n,this._buffer,{encoding:"utf8"}),this.emptyBuffer()})}clear(){return Di(this,void 0,void 0,function*(){return this.emptyBuffer().write({overwrite:!0})})}stringify(){return this._buffer}isEmptyBuffer(){return this._buffer.length===0}emptyBuffer(){return this._buffer="",this}addRaw(t,r=!1){return this._buffer+=t,r?this.addEOL():this}addEOL(){return this.addRaw(yC.EOL)}addCodeBlock(t,r){let n=Object.assign({},r&&{lang:r}),o=this.wrap("pre",this.wrap("code",t),n);return this.addRaw(o).addEOL()}addList(t,r=!1){let n=r?"ol":"ul",o=t.map(i=>this.wrap("li",i)).join(""),s=this.wrap(n,o);return this.addRaw(s).addEOL()}addTable(t){let r=t.map(o=>{let s=o.map(i=>{if(typeof i=="string")return this.wrap("td",i);let{header:a,data:c,colspan:d,rowspan:f}=i,h=a?"th":"td",p=Object.assign(Object.assign({},d&&{colspan:d}),f&&{rowspan:f});return this.wrap(h,c,p)}).join("");return this.wrap("tr",s)}).join(""),n=this.wrap("table",r);return this.addRaw(n).addEOL()}addDetails(t,r){let n=this.wrap("details",this.wrap("summary",t)+r);return this.addRaw(n).addEOL()}addImage(t,r,n){let{width:o,height:s}=n||{},i=Object.assign(Object.assign({},o&&{width:o}),s&&{height:s}),a=this.wrap("img",null,Object.assign({src:t,alt:r},i));return this.addRaw(a).addEOL()}addHeading(t,r){let n=`h${r}`,o=["h1","h2","h3","h4","h5","h6"].includes(n)?n:"h1",s=this.wrap(o,t);return this.addRaw(s).addEOL()}addSeparator(){let t=this.wrap("hr",null);return this.addRaw(t).addEOL()}addBreak(){let t=this.wrap("br",null);return this.addRaw(t).addEOL()}addQuote(t,r){let n=Object.assign({},r&&{cite:r}),o=this.wrap("blockquote",t,n);return this.addRaw(o).addEOL()}addLink(t,r){let n=this.wrap("a",t,{href:r});return this.addRaw(n).addEOL()}},Bd=new Mi;_e.markdownSummary=Bd;_e.summary=Bd});var Md=G(Re=>{"use strict";var wC=Re&&Re.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),EC=Re&&Re.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),bC=Re&&Re.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&wC(t,e,r);return EC(t,e),t};Object.defineProperty(Re,"__esModule",{value:!0});Re.toPlatformPath=Re.toWin32Path=Re.toPosixPath=void 0;var SC=bC(require("path"));function kC(e){return e.replace(/[\\]/g,"/")}Re.toPosixPath=kC;function AC(e){return e.replace(/[/]/g,"\\")}Re.toWin32Path=AC;function _C(e){return e.replace(/[/\\]/g,SC.sep)}Re.toPlatformPath=_C});var Oi=G(P=>{"use strict";var RC=P&&P.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),NC=P&&P.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Fd=P&&P.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&RC(t,e,r);return NC(t,e),t},Ld=P&&P.__awaiter||function(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(f){try{d(n.next(f))}catch(h){i(h)}}function c(f){try{d(n.throw(f))}catch(h){i(h)}}function d(f){f.done?s(f.value):o(f.value).then(a,c)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(P,"__esModule",{value:!0});P.getIDToken=P.getState=P.saveState=P.group=P.endGroup=P.startGroup=P.info=P.notice=P.warning=P.error=P.debug=P.isDebug=P.setFailed=P.setCommandEcho=P.setOutput=P.getBooleanInput=P.getMultilineInput=P.getInput=P.addPath=P.setSecret=P.exportVariable=P.ExitCode=void 0;var Ue=Wc(),Sr=wd(),Hr=Do(),zd=Fd(require("os")),TC=Fd(require("path")),IC=Dd(),Ud;(function(e){e[e.Success=0]="Success",e[e.Failure=1]="Failure"})(Ud=P.ExitCode||(P.ExitCode={}));function PC(e,t){let r=Hr.toCommandValue(t);if(process.env[e]=r,process.env.GITHUB_ENV||"")return Sr.issueFileCommand("ENV",Sr.prepareKeyValueMessage(e,t));Ue.issueCommand("set-env",{name:e},r)}P.exportVariable=PC;function vC(e){Ue.issueCommand("add-mask",{},e)}P.setSecret=vC;function OC(e){process.env.GITHUB_PATH||""?Sr.issueFileCommand("PATH",e):Ue.issueCommand("add-path",{},e),process.env.PATH=`${e}${TC.delimiter}${process.env.PATH}`}P.addPath=OC;function Li(e,t){let r=process.env[`INPUT_${e.replace(/ /g,"_").toUpperCase()}`]||"";if(t&&t.required&&!r)throw new Error(`Input required and not supplied: ${e}`);return t&&t.trimWhitespace===!1?r:r.trim()}P.getInput=Li;function DC(e,t){let r=Li(e,t).split(`
`).filter(n=>n!=="");return t&&t.trimWhitespace===!1?r:r.map(n=>n.trim())}P.getMultilineInput=DC;function BC(e,t){let r=["true","True","TRUE"],n=["false","False","FALSE"],o=Li(e,t);if(r.includes(o))return!0;if(n.includes(o))return!1;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${e}
Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}P.getBooleanInput=BC;function MC(e,t){if(process.env.GITHUB_OUTPUT||"")return Sr.issueFileCommand("OUTPUT",Sr.prepareKeyValueMessage(e,t));process.stdout.write(zd.EOL),Ue.issueCommand("set-output",{name:e},Hr.toCommandValue(t))}P.setOutput=MC;function FC(e){Ue.issue("echo",e?"on":"off")}P.setCommandEcho=FC;function LC(e){process.exitCode=Ud.Failure,$d(e)}P.setFailed=LC;function zC(){return process.env.RUNNER_DEBUG==="1"}P.isDebug=zC;function UC(e){Ue.issueCommand("debug",{},e)}P.debug=UC;function $d(e,t={}){Ue.issueCommand("error",Hr.toCommandProperties(t),e instanceof Error?e.toString():e)}P.error=$d;function $C(e,t={}){Ue.issueCommand("warning",Hr.toCommandProperties(t),e instanceof Error?e.toString():e)}P.warning=$C;function jC(e,t={}){Ue.issueCommand("notice",Hr.toCommandProperties(t),e instanceof Error?e.toString():e)}P.notice=jC;function qC(e){process.stdout.write(e+zd.EOL)}P.info=qC;function jd(e){Ue.issue("group",e)}P.startGroup=jd;function qd(){Ue.issue("endgroup")}P.endGroup=qd;function KC(e,t){return Ld(this,void 0,void 0,function*(){jd(e);let r;try{r=yield t()}finally{qd()}return r})}P.group=KC;function GC(e,t){if(process.env.GITHUB_STATE||"")return Sr.issueFileCommand("STATE",Sr.prepareKeyValueMessage(e,t));Ue.issueCommand("save-state",{name:e},Hr.toCommandValue(t))}P.saveState=GC;function HC(e){return process.env[`STATE_${e}`]||""}P.getState=HC;function VC(e){return Ld(this,void 0,void 0,function*(){return yield IC.OidcClient.getIDToken(e)})}P.getIDToken=VC;var WC=Fi();Object.defineProperty(P,"summary",{enumerable:!0,get:function(){return WC.summary}});var YC=Fi();Object.defineProperty(P,"markdownSummary",{enumerable:!0,get:function(){return YC.markdownSummary}});var zi=Md();Object.defineProperty(P,"toPosixPath",{enumerable:!0,get:function(){return zi.toPosixPath}});Object.defineProperty(P,"toWin32Path",{enumerable:!0,get:function(){return zi.toWin32Path}});Object.defineProperty(P,"toPlatformPath",{enumerable:!0,get:function(){return zi.toPlatformPath}})});var Wi=G(St=>{"use strict";var cl=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",Nx=cl+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",dl="["+cl+"]["+Nx+"]*",Tx=new RegExp("^"+dl+"$"),Ix=function(e,t){let r=[],n=t.exec(e);for(;n;){let o=[];o.startIndex=t.lastIndex-n[0].length;let s=n.length;for(let i=0;i<s;i++)o.push(n[i]);r.push(o),n=t.exec(e)}return r},Px=function(e){let t=Tx.exec(e);return!(t===null||typeof t>"u")};St.isExist=function(e){return typeof e<"u"};St.isEmptyObject=function(e){return Object.keys(e).length===0};St.merge=function(e,t,r){if(t){let n=Object.keys(t),o=n.length;for(let s=0;s<o;s++)r==="strict"?e[n[s]]=[t[n[s]]]:e[n[s]]=t[n[s]]}};St.getValue=function(e){return St.isExist(e)?e:""};St.isName=Px;St.getAllMatches=Ix;St.nameRegexp=dl});var Qi=G(hl=>{"use strict";var Yi=Wi(),vx={allowBooleanAttributes:!1,unpairedTags:[]};hl.validate=function(e,t){t=Object.assign({},vx,t);let r=[],n=!1,o=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let s=0;s<e.length;s++)if(e[s]==="<"&&e[s+1]==="?"){if(s+=2,s=fl(e,s),s.err)return s}else if(e[s]==="<"){let i=s;if(s++,e[s]==="!"){s=ml(e,s);continue}else{let a=!1;e[s]==="/"&&(a=!0,s++);let c="";for(;s<e.length&&e[s]!==">"&&e[s]!==" "&&e[s]!=="	"&&e[s]!==`
`&&e[s]!=="\r";s++)c+=e[s];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),s--),!Ux(c)){let h;return c.trim().length===0?h="Invalid space after '<'.":h="Tag '"+c+"' is an invalid name.",ce("InvalidTag",h,Pe(e,s))}let d=Bx(e,s);if(d===!1)return ce("InvalidAttr","Attributes for '"+c+"' have open quote.",Pe(e,s));let f=d.value;if(s=d.index,f[f.length-1]==="/"){let h=s-f.length;f=f.substring(0,f.length-1);let p=ul(f,t);if(p===!0)n=!0;else return ce(p.err.code,p.err.msg,Pe(e,h+p.err.line))}else if(a)if(d.tagClosed){if(f.trim().length>0)return ce("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",Pe(e,i));{let h=r.pop();if(c!==h.tagName){let p=Pe(e,h.tagStartPos);return ce("InvalidTag","Expected closing tag '"+h.tagName+"' (opened in line "+p.line+", col "+p.col+") instead of closing tag '"+c+"'.",Pe(e,i))}r.length==0&&(o=!0)}}else return ce("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",Pe(e,s));else{let h=ul(f,t);if(h!==!0)return ce(h.err.code,h.err.msg,Pe(e,s-f.length+h.err.line));if(o===!0)return ce("InvalidXml","Multiple possible root nodes found.",Pe(e,s));t.unpairedTags.indexOf(c)!==-1||r.push({tagName:c,tagStartPos:i}),n=!0}for(s++;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="!"){s++,s=ml(e,s);continue}else if(e[s+1]==="?"){if(s=fl(e,++s),s.err)return s}else break;else if(e[s]==="&"){let h=Lx(e,s);if(h==-1)return ce("InvalidChar","char '&' is not expected.",Pe(e,s));s=h}else if(o===!0&&!ll(e[s]))return ce("InvalidXml","Extra text at the end",Pe(e,s));e[s]==="<"&&s--}}else{if(ll(e[s]))continue;return ce("InvalidChar","char '"+e[s]+"' is not expected.",Pe(e,s))}if(n){if(r.length==1)return ce("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",Pe(e,r[0].tagStartPos));if(r.length>0)return ce("InvalidXml","Invalid '"+JSON.stringify(r.map(s=>s.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return ce("InvalidXml","Start tag expected.",1);return!0};function ll(e){return e===" "||e==="	"||e===`
`||e==="\r"}function fl(e,t){let r=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){let n=e.substr(r,t-r);if(t>5&&n==="xml")return ce("InvalidXml","XML declaration allowed only at the start of the document.",Pe(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function ml(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let r=1;for(t+=8;t<e.length;t++)if(e[t]==="<")r++;else if(e[t]===">"&&(r--,r===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}var Ox='"',Dx="'";function Bx(e,t){let r="",n="",o=!1;for(;t<e.length;t++){if(e[t]===Ox||e[t]===Dx)n===""?n=e[t]:n!==e[t]||(n="");else if(e[t]===">"&&n===""){o=!0;break}r+=e[t]}return n!==""?!1:{value:r,index:t,tagClosed:o}}var Mx=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function ul(e,t){let r=Yi.getAllMatches(e,Mx),n={};for(let o=0;o<r.length;o++){if(r[o][1].length===0)return ce("InvalidAttr","Attribute '"+r[o][2]+"' has no space in starting.",Xn(r[o]));if(r[o][3]!==void 0&&r[o][4]===void 0)return ce("InvalidAttr","Attribute '"+r[o][2]+"' is without value.",Xn(r[o]));if(r[o][3]===void 0&&!t.allowBooleanAttributes)return ce("InvalidAttr","boolean attribute '"+r[o][2]+"' is not allowed.",Xn(r[o]));let s=r[o][2];if(!zx(s))return ce("InvalidAttr","Attribute '"+s+"' is an invalid name.",Xn(r[o]));if(!n.hasOwnProperty(s))n[s]=1;else return ce("InvalidAttr","Attribute '"+s+"' is repeated.",Xn(r[o]))}return!0}function Fx(e,t){let r=/\d/;for(e[t]==="x"&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(r))break}return-1}function Lx(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,Fx(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(e[t]===";")break;return-1}return t}function ce(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function zx(e){return Yi.isName(e)}function Ux(e){return Yi.isName(e)}function Pe(e,t){let r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function Xn(e){return e.startIndex+e[1].length}});var yl=G(Xi=>{var pl={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1},$x=function(e){return Object.assign({},pl,e)};Xi.buildOptions=$x;Xi.defaultOptions=pl});var Cl=G((BR,gl)=>{"use strict";var Ji=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,r){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:r})}addChild(t){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,[":@"]:t[":@"]}):this.child.push({[t.tagname]:t.child})}};gl.exports=Ji});var wl=G((MR,xl)=>{function jx(e,t){let r={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let n=1,o=!1,s=!1,i=!1,a="";for(;t<e.length;t++)if(e[t]==="<"&&!i){if(o&&e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="N"&&e[t+4]==="T"&&e[t+5]==="I"&&e[t+6]==="T"&&e[t+7]==="Y")t+=7,s=!0;else if(o&&e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="L"&&e[t+4]==="E"&&e[t+5]==="M"&&e[t+6]==="E"&&e[t+7]==="N"&&e[t+8]==="T")t+=8;else if(o&&e[t+1]==="!"&&e[t+2]==="A"&&e[t+3]==="T"&&e[t+4]==="T"&&e[t+5]==="L"&&e[t+6]==="I"&&e[t+7]==="S"&&e[t+8]==="T")t+=8;else if(o&&e[t+1]==="!"&&e[t+2]==="N"&&e[t+3]==="O"&&e[t+4]==="T"&&e[t+5]==="A"&&e[t+6]==="T"&&e[t+7]==="I"&&e[t+8]==="O"&&e[t+9]==="N")t+=9;else if(e[t+1]==="!"&&e[t+2]==="-"&&e[t+3]==="-")i=!0;else throw new Error("Invalid DOCTYPE");n++,a=""}else if(e[t]===">"){if(i?e[t-1]==="-"&&e[t-2]==="-"&&(i=!1,n--):(s&&(Kx(a,r),s=!1),n--),n===0)break}else e[t]==="["?o=!0:a+=e[t];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:t}}var qx=RegExp(`^\\s([a-zA-z0-0]+)[ 	](['"])([^&]+)\\2`);function Kx(e,t){let r=qx.exec(e);r&&(t[r[1]]={regx:RegExp(`&${r[1]};`,"g"),val:r[3]})}xl.exports=jx});var bl=G((FR,El)=>{var Gx=/^[-+]?0x[a-fA-F0-9]+$/,Hx=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var Vx={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function Wx(e,t={}){if(t=Object.assign({},Vx,t),!e||typeof e!="string")return e;let r=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(r))return e;if(t.hex&&Gx.test(r))return Number.parseInt(r,16);{let n=Hx.exec(r);if(n){let o=n[1],s=n[2],i=Yx(n[3]),a=n[4]||n[6];if(!t.leadingZeros&&s.length>0&&o&&r[2]!==".")return e;if(!t.leadingZeros&&s.length>0&&!o&&r[1]!==".")return e;{let c=Number(r),d=""+c;return d.search(/[eE]/)!==-1||a?t.eNotation?c:e:r.indexOf(".")!==-1?d==="0"&&i===""||d===i||o&&d==="-"+i?c:e:s?i===d||o+i===d?c:e:r===d||r===o+d?c:e}}else return e}}function Yx(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substr(0,e.length-1))),e}El.exports=Wx});var kl=G((zR,Sl)=>{"use strict";var ra=Wi(),Jn=Cl(),Qx=wl(),Xx=bl(),LR="<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,ra.nameRegexp),Zi=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"}},this.addExternalEntities=Jx,this.parseXml=nw,this.parseTextData=Zx,this.resolveNameSpace=ew,this.buildAttributesMap=rw,this.isItStopNode=iw,this.replaceEntitiesValue=ow,this.readStopNodeData=cw,this.saveTextToParentTag=sw}};function Jx(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}function Zx(e,t,r,n,o,s,i){if(e!==void 0&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){i||(e=this.replaceEntitiesValue(e));let a=this.options.tagValueProcessor(t,e,r,o,s);return a==null?e:typeof a!=typeof e||a!==e?a:this.options.trimValues?ta(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?ta(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function ew(e){if(this.options.removeNSPrefix){let t=e.split(":"),r=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=r+t[1])}return e}var tw=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function rw(e,t){if(!this.options.ignoreAttributes&&typeof e=="string"){let r=ra.getAllMatches(e,tw),n=r.length,o={};for(let s=0;s<n;s++){let i=this.resolveNameSpace(r[s][1]),a=r[s][4],c=this.options.attributeNamePrefix+i;if(i.length)if(this.options.transformAttributeName&&(c=this.options.transformAttributeName(c)),c==="__proto__"&&(c="#__proto__"),a!==void 0){this.options.trimValues&&(a=a.trim()),a=this.replaceEntitiesValue(a);let d=this.options.attributeValueProcessor(i,a,t);d==null?o[c]=a:typeof d!=typeof a||d!==a?o[c]=d:o[c]=ta(a,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(o[c]=!0)}if(!Object.keys(o).length)return;if(this.options.attributesGroupName){let s={};return s[this.options.attributesGroupName]=o,s}return o}}var nw=function(e){e=e.replace(/\r\n?/g,`
`);let t=new Jn("!xml"),r=t,n="",o="";for(let s=0;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="/"){let a=_r(e,">",s,"Closing Tag is not closed."),c=e.substring(s+2,a).trim();if(this.options.removeNSPrefix){let d=c.indexOf(":");d!==-1&&(c=c.substr(d+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&(n=this.saveTextToParentTag(n,r,o)),o=o.substr(0,o.lastIndexOf(".")),r=this.tagsNodeStack.pop(),n="",s=a}else if(e[s+1]==="?"){let a=ea(e,s,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,o),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let c=new Jn(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,o)),r.addChild(c)}s=a.closeIndex+1}else if(e.substr(s+1,3)==="!--"){let a=_r(e,"-->",s+4,"Comment is not closed.");if(this.options.commentPropName){let c=e.substring(s+4,a-2);n=this.saveTextToParentTag(n,r,o),r.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}s=a}else if(e.substr(s+1,2)==="!D"){let a=Qx(e,s);this.docTypeEntities=a.entities,s=a.i}else if(e.substr(s+1,2)==="!["){let a=_r(e,"]]>",s,"CDATA is not closed.")-2,c=e.substring(s+9,a);if(n=this.saveTextToParentTag(n,r,o),this.options.cdataPropName)r.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]);else{let d=this.parseTextData(c,r.tagname,o,!0,!1,!0);d==null&&(d=""),r.add(this.options.textNodeName,d)}s=a+2}else{let a=ea(e,s,this.options.removeNSPrefix),c=a.tagName,d=a.tagExp,f=a.attrExpPresent,h=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,o,!1)),c!==t.tagname&&(o+=o?"."+c:c);let p=r;if(p&&this.options.unpairedTags.indexOf(p.tagname)!==-1&&(r=this.tagsNodeStack.pop()),this.isItStopNode(this.options.stopNodes,o,c)){let E="";if(d.length>0&&d.lastIndexOf("/")===d.length-1)s=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)s=a.closeIndex;else{let T=this.readStopNodeData(e,c,h+1);if(!T)throw new Error(`Unexpected end of ${c}`);s=T.i,E=T.tagContent}let b=new Jn(c);c!==d&&f&&(b[":@"]=this.buildAttributesMap(d,o)),E&&(E=this.parseTextData(E,c,o,!0,f,!0,!0)),o=o.substr(0,o.lastIndexOf(".")),b.add(this.options.textNodeName,E),r.addChild(b)}else{if(d.length>0&&d.lastIndexOf("/")===d.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),d=c):d=d.substr(0,d.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));let E=new Jn(c);c!==d&&f&&(E[":@"]=this.buildAttributesMap(d,o)),o=o.substr(0,o.lastIndexOf(".")),r.addChild(E)}else{let E=new Jn(c);this.tagsNodeStack.push(r),c!==d&&f&&(E[":@"]=this.buildAttributesMap(d,o)),r.addChild(E),r=E}n="",s=h}}else n+=e[s];return t.child},ow=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){let r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){let r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){let r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function sw(e,t,r,n){return e&&(n===void 0&&(n=Object.keys(t.child).length===0),e=this.parseTextData(e,t.tagname,r,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,n),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function iw(e,t,r){let n="*."+r;for(let o in e){let s=e[o];if(n===s||t===s)return!0}return!1}function aw(e,t,r=">"){let n,o="";for(let s=t;s<e.length;s++){let i=e[s];if(n)i===n&&(n="");else if(i==='"'||i==="'")n=i;else if(i===r[0])if(r[1]){if(e[s+1]===r[1])return{data:o,index:s}}else return{data:o,index:s};else i==="	"&&(i=" ");o+=i}}function _r(e,t,r,n){let o=e.indexOf(t,r);if(o===-1)throw new Error(n);return o+t.length-1}function ea(e,t,r,n=">"){let o=aw(e,t+1,n);if(!o)return;let s=o.data,i=o.index,a=s.search(/\s/),c=s,d=!0;if(a!==-1&&(c=s.substr(0,a).replace(/\s\s*$/,""),s=s.substr(a+1)),r){let f=c.indexOf(":");f!==-1&&(c=c.substr(f+1),d=c!==o.data.substr(f+1))}return{tagName:c,tagExp:s,closeIndex:i,attrExpPresent:d}}function cw(e,t,r){let n=r,o=1;for(;r<e.length;r++)if(e[r]==="<")if(e[r+1]==="/"){let s=_r(e,">",r,`${t} is not closed`);if(e.substring(r+2,s).trim()===t&&(o--,o===0))return{tagContent:e.substring(n,r),i:s};r=s}else if(e[r+1]==="?")r=_r(e,"?>",r+1,"StopNode is not closed.");else if(e.substr(r+1,3)==="!--")r=_r(e,"-->",r+3,"StopNode is not closed.");else if(e.substr(r+1,2)==="![")r=_r(e,"]]>",r,"StopNode is not closed.")-2;else{let s=ea(e,r,">");s&&((s&&s.tagName)===t&&s.tagExp[s.tagExp.length-1]!=="/"&&o++,r=s.closeIndex)}}function ta(e,t,r){if(t&&typeof e=="string"){let n=e.trim();return n==="true"?!0:n==="false"?!1:Xx(e,r)}else return ra.isExist(e)?e:""}Sl.exports=Zi});var Rl=G(_l=>{"use strict";function dw(e,t){return Al(e,t)}function Al(e,t,r){let n,o={};for(let s=0;s<e.length;s++){let i=e[s],a=lw(i),c="";if(r===void 0?c=a:c=r+"."+a,a===t.textNodeName)n===void 0?n=i[a]:n+=""+i[a];else{if(a===void 0)continue;if(i[a]){let d=Al(i[a],t,c),f=mw(d,t);i[":@"]?fw(d,i[":@"],c,t):Object.keys(d).length===1&&d[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?d=d[t.textNodeName]:Object.keys(d).length===0&&(t.alwaysCreateTextNode?d[t.textNodeName]="":d=""),o[a]!==void 0&&o.hasOwnProperty(a)?(Array.isArray(o[a])||(o[a]=[o[a]]),o[a].push(d)):t.isArray(a,c,f)?o[a]=[d]:o[a]=d}}}return typeof n=="string"?n.length>0&&(o[t.textNodeName]=n):n!==void 0&&(o[t.textNodeName]=n),o}function lw(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function fw(e,t,r,n){if(t){let o=Object.keys(t),s=o.length;for(let i=0;i<s;i++){let a=o[i];n.isArray(a,r+"."+a,!0,!0)?e[a]=[t[a]]:e[a]=t[a]}}}function mw(e,t){let r=Object.keys(e).length;return!!(r===0||r===1&&e[t.textNodeName])}_l.prettify=dw});var Tl=G(($R,Nl)=>{var{buildOptions:uw}=yl(),hw=kl(),{prettify:pw}=Rl(),yw=Qi(),na=class{constructor(t){this.externalEntities={},this.options=uw(t)}parse(t,r){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let s=yw.validate(t,r);if(s!==!0)throw Error(`${s.err.msg}:${s.err.line}:${s.err.col}`)}let n=new hw(this.options);n.addExternalEntities(this.externalEntities);let o=n.parseXml(t);return this.options.preserveOrder||o===void 0?o:pw(o,this.options)}addEntity(t,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=r}};Nl.exports=na});var Dl=G((jR,Ol)=>{var gw=`
`;function Cw(e,t){let r="";return t.format&&t.indentBy.length>0&&(r=gw),Pl(e,t,"",r)}function Pl(e,t,r,n){let o="",s=!1;for(let i=0;i<e.length;i++){let a=e[i],c=xw(a),d="";if(r.length===0?d=c:d=`${r}.${c}`,c===t.textNodeName){let b=a[c];ww(d,t)||(b=t.tagValueProcessor(c,b),b=vl(b,t)),s&&(o+=n),o+=b,s=!1;continue}else if(c===t.cdataPropName){s&&(o+=n),o+=`<![CDATA[${a[c][0][t.textNodeName]}]]>`,s=!1;continue}else if(c===t.commentPropName){o+=n+`<!--${a[c][0][t.textNodeName]}-->`,s=!0;continue}else if(c[0]==="?"){let b=Il(a[":@"],t),T=c==="?xml"?"":n,v=a[c][0][t.textNodeName];v=v.length!==0?" "+v:"",o+=T+`<${c}${v}${b}?>`,s=!0;continue}let f=n;f!==""&&(f+=t.indentBy);let h=Il(a[":@"],t),p=n+`<${c}${h}`,E=Pl(a[c],t,d,f);t.unpairedTags.indexOf(c)!==-1?t.suppressUnpairedNode?o+=p+">":o+=p+"/>":(!E||E.length===0)&&t.suppressEmptyNode?o+=p+"/>":E&&E.endsWith(">")?o+=p+`>${E}${n}</${c}>`:(o+=p+">",E&&n!==""&&(E.includes("/>")||E.includes("</"))?o+=n+t.indentBy+E+n:o+=E,o+=`</${c}>`),s=!0}return o}function xw(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function Il(e,t){let r="";if(e&&!t.ignoreAttributes)for(let n in e){let o=t.attributeValueProcessor(n,e[n]);o=vl(o,t),o===!0&&t.suppressBooleanAttributes?r+=` ${n.substr(t.attributeNamePrefix.length)}`:r+=` ${n.substr(t.attributeNamePrefix.length)}="${o}"`}return r}function ww(e,t){e=e.substr(0,e.length-t.textNodeName.length-1);let r=e.substr(e.lastIndexOf(".")+1);for(let n in t.stopNodes)if(t.stopNodes[n]===e||t.stopNodes[n]==="*."+r)return!0;return!1}function vl(e,t){if(e&&e.length>0&&t.processEntities)for(let r=0;r<t.entities.length;r++){let n=t.entities[r];e=e.replace(n.regex,n.val)}return e}Ol.exports=Cw});var Ml=G((qR,Bl)=>{"use strict";var Ew=Dl(),bw={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[]};function qt(e){this.options=Object.assign({},bw,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=Aw),this.processTextOrObjNode=Sw,this.options.format?(this.indentate=kw,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}qt.prototype.build=function(e){return this.options.preserveOrder?Ew(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0).val)};qt.prototype.j2x=function(e,t){let r="",n="";for(let o in e)if(!(typeof e[o]>"u"))if(e[o]===null)o[0]==="?"?n+=this.indentate(t)+"<"+o+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+o+"/"+this.tagEndChar;else if(e[o]instanceof Date)n+=this.buildTextValNode(e[o],o,"",t);else if(typeof e[o]!="object"){let s=this.isAttribute(o);if(s)r+=this.buildAttrPairStr(s,""+e[o]);else if(o===this.options.textNodeName){let i=this.options.tagValueProcessor(o,""+e[o]);n+=this.replaceEntitiesValue(i)}else n+=this.buildTextValNode(e[o],o,"",t)}else if(Array.isArray(e[o])){let s=e[o].length;for(let i=0;i<s;i++){let a=e[o][i];typeof a>"u"||(a===null?o[0]==="?"?n+=this.indentate(t)+"<"+o+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+o+"/"+this.tagEndChar:typeof a=="object"?n+=this.processTextOrObjNode(a,o,t):n+=this.buildTextValNode(a,o,"",t))}}else if(this.options.attributesGroupName&&o===this.options.attributesGroupName){let s=Object.keys(e[o]),i=s.length;for(let a=0;a<i;a++)r+=this.buildAttrPairStr(s[a],""+e[o][s[a]])}else n+=this.processTextOrObjNode(e[o],o,t);return{attrStr:r,val:n}};qt.prototype.buildAttrPairStr=function(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&t==="true"?" "+e:" "+e+'="'+t+'"'};function Sw(e,t,r){let n=this.j2x(e,r+1);return e[this.options.textNodeName]!==void 0&&Object.keys(e).length===1?this.buildTextValNode(e[this.options.textNodeName],t,n.attrStr,r):this.buildObjectNode(n.val,t,n.attrStr,r)}qt.prototype.buildObjectNode=function(e,t,r,n){if(e==="")return t[0]==="?"?this.indentate(n)+"<"+t+r+"?"+this.tagEndChar:this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar;{let o="</"+t+this.tagEndChar,s="";return t[0]==="?"&&(s="?",o=""),r&&e.indexOf("<")===-1?this.indentate(n)+"<"+t+r+s+">"+e+o:this.options.commentPropName!==!1&&t===this.options.commentPropName&&s.length===0?this.indentate(n)+`<!--${e}-->`+this.newLine:this.indentate(n)+"<"+t+r+s+this.tagEndChar+e+this.indentate(n)+o}};qt.prototype.closeTag=function(e){let t="";return this.options.unpairedTags.indexOf(e)!==-1?this.options.suppressUnpairedNode||(t="/"):this.options.suppressEmptyNode?t="/":t=`></${e}`,t};qt.prototype.buildTextValNode=function(e,t,r,n){if(this.options.cdataPropName!==!1&&t===this.options.cdataPropName)return this.indentate(n)+`<![CDATA[${e}]]>`+this.newLine;if(this.options.commentPropName!==!1&&t===this.options.commentPropName)return this.indentate(n)+`<!--${e}-->`+this.newLine;if(t[0]==="?")return this.indentate(n)+"<"+t+r+"?"+this.tagEndChar;{let o=this.options.tagValueProcessor(t,e);return o=this.replaceEntitiesValue(o),o===""?this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar:this.indentate(n)+"<"+t+r+">"+o+"</"+t+this.tagEndChar}};qt.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){let r=this.options.entities[t];e=e.replace(r.regex,r.val)}return e};function kw(e){return this.options.indentBy.repeat(e)}function Aw(e){return e.startsWith(this.options.attributeNamePrefix)?e.substr(this.attrPrefixLen):!1}Bl.exports=qt});var oa=G((KR,Fl)=>{"use strict";var _w=Qi(),Rw=Tl(),Nw=Ml();Fl.exports={XMLParser:Rw,XMLValidator:_w,XMLBuilder:Nw}});var ua={};zr(ua,{__assign:()=>fa,__asyncDelegator:()=>oE,__asyncGenerator:()=>nE,__asyncValues:()=>sE,__await:()=>to,__awaiter:()=>Xw,__classPrivateFieldGet:()=>dE,__classPrivateFieldSet:()=>lE,__createBinding:()=>Zw,__decorate:()=>Ww,__exportStar:()=>eE,__extends:()=>Hw,__generator:()=>Jw,__importDefault:()=>cE,__importStar:()=>aE,__makeTemplateObject:()=>iE,__metadata:()=>Qw,__param:()=>Yw,__read:()=>tf,__rest:()=>Vw,__spread:()=>tE,__spreadArrays:()=>rE,__values:()=>ma});function Hw(e,t){la(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function Vw(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function Ww(e,t,r,n){var o=arguments.length,s=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}function Yw(e,t){return function(r,n){t(r,n,e)}}function Qw(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Xw(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(f){try{d(n.next(f))}catch(h){i(h)}}function c(f){try{d(n.throw(f))}catch(h){i(h)}}function d(f){f.done?s(f.value):o(f.value).then(a,c)}d((n=n.apply(e,t||[])).next())})}function Jw(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,o,s,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(d){return function(f){return c([d,f])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(s=d[0]&2?o.return:d[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,d[1])).done)return s;switch(o=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,o=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){r.label=d[1];break}if(d[0]===6&&r.label<s[1]){r.label=s[1],s=d;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(d);break}s[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(f){d=[6,f],o=0}finally{n=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Zw(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function eE(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function ma(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function tf(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(a){i={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s}function tE(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(tf(arguments[t]));return e}function rE(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),o=0,t=0;t<r;t++)for(var s=arguments[t],i=0,a=s.length;i<a;i++,o++)n[o]=s[i];return n}function to(e){return this instanceof to?(this.v=e,this):new to(e)}function nE(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,s=[];return o={},i("next"),i("throw"),i("return"),o[Symbol.asyncIterator]=function(){return this},o;function i(p){n[p]&&(o[p]=function(E){return new Promise(function(b,T){s.push([p,E,b,T])>1||a(p,E)})})}function a(p,E){try{c(n[p](E))}catch(b){h(s[0][3],b)}}function c(p){p.value instanceof to?Promise.resolve(p.value.v).then(d,f):h(s[0][2],p)}function d(p){a("next",p)}function f(p){a("throw",p)}function h(p,E){p(E),s.shift(),s.length&&a(s[0][0],s[0][1])}}function oE(e){var t,r;return t={},n("next"),n("throw",function(o){throw o}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(o,s){t[o]=e[o]?function(i){return(r=!r)?{value:to(e[o](i)),done:o==="return"}:s?s(i):i}:s}}function sE(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof ma=="function"?ma(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(i){return new Promise(function(a,c){i=e[s](i),o(a,c,i.done,i.value)})}}function o(s,i,a,c){Promise.resolve(c).then(function(d){s({value:d,done:a})},i)}}function iE(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function aE(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function cE(e){return e&&e.__esModule?e:{default:e}}function dE(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function lE(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}var la,fa,ha=ae(()=>{la=function(e,t){return la=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},la(e,t)};fa=function(){return fa=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},fa.apply(this,arguments)}});var rf,nf,of=ae(()=>{rf=e=>{let t=[];for(let r=0,n=e.length;r<n;r++){let o=e.charCodeAt(r);if(o<128)t.push(o);else if(o<2048)t.push(o>>6|192,o&63|128);else if(r+1<e.length&&(o&64512)===55296&&(e.charCodeAt(r+1)&64512)===56320){let s=65536+((o&1023)<<10)+(e.charCodeAt(++r)&1023);t.push(s>>18|240,s>>12&63|128,s>>6&63|128,s&63|128)}else t.push(o>>12|224,o>>6&63|128,o&63|128)}return Uint8Array.from(t)},nf=e=>{let t="";for(let r=0,n=e.length;r<n;r++){let o=e[r];if(o<128)t+=String.fromCharCode(o);else if(192<=o&&o<224){let s=e[++r];t+=String.fromCharCode((o&31)<<6|s&63)}else if(240<=o&&o<365){let i="%"+[o,e[++r],e[++r],e[++r]].map(a=>a.toString(16)).join("%");t+=decodeURIComponent(i)}else t+=String.fromCharCode((o&15)<<12|(e[++r]&63)<<6|e[++r]&63)}return t}});function sf(e){return new TextEncoder().encode(e)}function af(e){return new TextDecoder("utf-8").decode(e)}var cf=ae(()=>{});var df={};zr(df,{fromUtf8:()=>fE,toUtf8:()=>mE});var fE,mE,lf=ae(()=>{of();cf();fE=e=>typeof TextEncoder=="function"?sf(e):rf(e),mE=e=>typeof TextDecoder=="function"?af(e):nf(e)});var ff=G(es=>{"use strict";Object.defineProperty(es,"__esModule",{value:!0});es.convertToBuffer=void 0;var uE=(lf(),Ur(df)),hE=typeof Buffer<"u"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:uE.fromUtf8;function pE(e){return e instanceof Uint8Array?e:typeof e=="string"?hE(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}es.convertToBuffer=pE});var mf=G(ts=>{"use strict";Object.defineProperty(ts,"__esModule",{value:!0});ts.isEmptyData=void 0;function yE(e){return typeof e=="string"?e.length===0:e.byteLength===0}ts.isEmptyData=yE});var uf=G(rs=>{"use strict";Object.defineProperty(rs,"__esModule",{value:!0});rs.numToUint8=void 0;function gE(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}rs.numToUint8=gE});var hf=G(ns=>{"use strict";Object.defineProperty(ns,"__esModule",{value:!0});ns.uint32ArrayFrom=void 0;function CE(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),r=0;r<e.length;)t[r]=e[r],r+=1;return t}return Uint32Array.from(e)}ns.uint32ArrayFrom=CE});var ro=G(at=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});at.uint32ArrayFrom=at.numToUint8=at.isEmptyData=at.convertToBuffer=void 0;var xE=ff();Object.defineProperty(at,"convertToBuffer",{enumerable:!0,get:function(){return xE.convertToBuffer}});var wE=mf();Object.defineProperty(at,"isEmptyData",{enumerable:!0,get:function(){return wE.isEmptyData}});var EE=uf();Object.defineProperty(at,"numToUint8",{enumerable:!0,get:function(){return EE.numToUint8}});var bE=hf();Object.defineProperty(at,"uint32ArrayFrom",{enumerable:!0,get:function(){return bE.uint32ArrayFrom}})});var gf=G(os=>{"use strict";Object.defineProperty(os,"__esModule",{value:!0});os.AwsCrc32=void 0;var pf=(ha(),Ur(ua)),pa=ro(),yf=no(),SE=function(){function e(){this.crc32=new yf.Crc32}return e.prototype.update=function(t){(0,pa.isEmptyData)(t)||this.crc32.update((0,pa.convertToBuffer)(t))},e.prototype.digest=function(){return pf.__awaiter(this,void 0,void 0,function(){return pf.__generator(this,function(t){return[2,(0,pa.numToUint8)(this.crc32.digest())]})})},e.prototype.reset=function(){this.crc32=new yf.Crc32},e}();os.AwsCrc32=SE});var no=G(Kt=>{"use strict";Object.defineProperty(Kt,"__esModule",{value:!0});Kt.AwsCrc32=Kt.Crc32=Kt.crc32=void 0;var kE=(ha(),Ur(ua)),AE=ro();function _E(e){return new Cf().update(e).digest()}Kt.crc32=_E;var Cf=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(t){var r,n;try{for(var o=kE.__values(t),s=o.next();!s.done;s=o.next()){var i=s.value;this.checksum=this.checksum>>>8^NE[(this.checksum^i)&255]}}catch(a){r={error:a}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e}();Kt.Crc32=Cf;var RE=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],NE=(0,AE.uint32ArrayFrom)(RE),TE=gf();Object.defineProperty(Kt,"AwsCrc32",{enumerable:!0,get:function(){return TE.AwsCrc32}})});var xa={};zr(xa,{__assign:()=>ga,__asyncDelegator:()=>jE,__asyncGenerator:()=>$E,__asyncValues:()=>qE,__await:()=>oo,__awaiter:()=>BE,__classPrivateFieldGet:()=>VE,__classPrivateFieldSet:()=>WE,__createBinding:()=>FE,__decorate:()=>vE,__exportStar:()=>LE,__extends:()=>IE,__generator:()=>ME,__importDefault:()=>HE,__importStar:()=>GE,__makeTemplateObject:()=>KE,__metadata:()=>DE,__param:()=>OE,__read:()=>xf,__rest:()=>PE,__spread:()=>zE,__spreadArrays:()=>UE,__values:()=>Ca});function IE(e,t){ya(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function PE(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function vE(e,t,r,n){var o=arguments.length,s=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}function OE(e,t){return function(r,n){t(r,n,e)}}function DE(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function BE(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(f){try{d(n.next(f))}catch(h){i(h)}}function c(f){try{d(n.throw(f))}catch(h){i(h)}}function d(f){f.done?s(f.value):o(f.value).then(a,c)}d((n=n.apply(e,t||[])).next())})}function ME(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,o,s,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(d){return function(f){return c([d,f])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(s=d[0]&2?o.return:d[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,d[1])).done)return s;switch(o=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,o=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){r.label=d[1];break}if(d[0]===6&&r.label<s[1]){r.label=s[1],s=d;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(d);break}s[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(f){d=[6,f],o=0}finally{n=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function FE(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function LE(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function Ca(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function xf(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(a){i={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s}function zE(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(xf(arguments[t]));return e}function UE(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),o=0,t=0;t<r;t++)for(var s=arguments[t],i=0,a=s.length;i<a;i++,o++)n[o]=s[i];return n}function oo(e){return this instanceof oo?(this.v=e,this):new oo(e)}function $E(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,s=[];return o={},i("next"),i("throw"),i("return"),o[Symbol.asyncIterator]=function(){return this},o;function i(p){n[p]&&(o[p]=function(E){return new Promise(function(b,T){s.push([p,E,b,T])>1||a(p,E)})})}function a(p,E){try{c(n[p](E))}catch(b){h(s[0][3],b)}}function c(p){p.value instanceof oo?Promise.resolve(p.value.v).then(d,f):h(s[0][2],p)}function d(p){a("next",p)}function f(p){a("throw",p)}function h(p,E){p(E),s.shift(),s.length&&a(s[0][0],s[0][1])}}function jE(e){var t,r;return t={},n("next"),n("throw",function(o){throw o}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(o,s){t[o]=e[o]?function(i){return(r=!r)?{value:oo(e[o](i)),done:o==="return"}:s?s(i):i}:s}}function qE(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Ca=="function"?Ca(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(i){return new Promise(function(a,c){i=e[s](i),o(a,c,i.done,i.value)})}}function o(s,i,a,c){Promise.resolve(c).then(function(d){s({value:d,done:a})},i)}}function KE(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function GE(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function HE(e){return e&&e.__esModule?e:{default:e}}function VE(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function WE(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}var ya,ga,wa=ae(()=>{ya=function(e,t){return ya=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},ya(e,t)};ga=function(){return ga=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},ga.apply(this,arguments)}});var bf=G(ss=>{"use strict";Object.defineProperty(ss,"__esModule",{value:!0});ss.AwsCrc32c=void 0;var wf=(wa(),Ur(xa)),Ea=ro(),Ef=ba(),YE=function(){function e(){this.crc32c=new Ef.Crc32c}return e.prototype.update=function(t){(0,Ea.isEmptyData)(t)||this.crc32c.update((0,Ea.convertToBuffer)(t))},e.prototype.digest=function(){return wf.__awaiter(this,void 0,void 0,function(){return wf.__generator(this,function(t){return[2,(0,Ea.numToUint8)(this.crc32c.digest())]})})},e.prototype.reset=function(){this.crc32c=new Ef.Crc32c},e}();ss.AwsCrc32c=YE});var ba=G(Gt=>{"use strict";Object.defineProperty(Gt,"__esModule",{value:!0});Gt.AwsCrc32c=Gt.Crc32c=Gt.crc32c=void 0;var QE=(wa(),Ur(xa)),XE=ro();function JE(e){return new Sf().update(e).digest()}Gt.crc32c=JE;var Sf=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(t){var r,n;try{for(var o=QE.__values(t),s=o.next();!s.done;s=o.next()){var i=s.value;this.checksum=this.checksum>>>8^eb[(this.checksum^i)&255]}}catch(a){r={error:a}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e}();Gt.Crc32c=Sf;var ZE=[0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697],eb=(0,XE.uint32ArrayFrom)(ZE),tb=bf();Object.defineProperty(Gt,"AwsCrc32c",{enumerable:!0,get:function(){return tb.AwsCrc32c}})});var hg=require("fs/promises"),pg=require("path"),$n=rt(Oi());var Kd=async e=>{let t=(e==null?void 0:e.Bucket)||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),ex(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!ZC(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},QC=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,XC=/(\d+\.){3}\d+/,JC=/\.\./;var ZC=e=>QC.test(e)&&!XC.test(e)&&!JC.test(e),ex=e=>{let[t,r,n,o,s,i]=e.split(":"),a=t==="arn"&&e.split(":").length>=6,c=[t,r,n,s,i].filter(Boolean).length===5;if(a&&!c)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return t==="arn"&&!!r&&!!n&&!!s&&!!i};var Gd=(e,t,r)=>{let n=async()=>{let o=r[e]??r[t];return typeof o=="function"?o():o};return e==="endpoint"||t==="endpoint"?async()=>{let o=await n();if(o&&typeof o=="object"){if("url"in o)return o.url.href;if("hostname"in o){let{protocol:s,hostname:i,port:a,path:c}=o;return`${s}//${i}${a?":"+a:""}${c}`}}return o}:n};var Hd=async(e,t,r,n)=>{let o=await tx(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(o,n)},tx=async(e,t,r)=>{var s;let n={},o=((s=t==null?void 0:t.getEndpointParameterInstructions)==null?void 0:s.call(t))||{};for(let[i,a]of Object.entries(o))switch(a.type){case"staticContextParams":n[i]=a.value;break;case"contextParams":n[i]=e[a.name];break;case"clientContextParams":case"builtInParams":n[i]=await Gd(a.name,i,r)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return Object.keys(o).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await Kd(n),n};function Vd(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,o=null]=r.split("=");n=decodeURIComponent(n),o&&(o=decodeURIComponent(o)),n in t?Array.isArray(t[n])?t[n].push(o):t[n]=[t[n],o]:t[n]=o}return t}var Ne=e=>{if(typeof e=="string")return Ne(new URL(e));let{hostname:t,pathname:r,port:n,protocol:o,search:s}=e,i;return s&&(i=Vd(s)),{hostname:t,port:n?parseInt(n):void 0,protocol:o,path:r,query:i}};var Wd=e=>typeof e=="object"?"url"in e?Ne(e.url):e:Ne(e);var Yd=({config:e,instructions:t})=>(r,n)=>async o=>{var a,c;let s=await Hd(o.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=s,n.authSchemes=(a=s.properties)==null?void 0:a.authSchemes;let i=(c=n.authSchemes)==null?void 0:c[0];return i&&(n.signing_region=i.signingRegion,n.signing_service=i.signingName),r({...o})};var Qd=(e,t)=>(r,n)=>async o=>{let{response:s}=await r(o);try{let i=await t(s,e);return{response:s,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:s}),!("$metadata"in i)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";i.message+=`
  `+a}throw i}};var Xd=(e,t)=>(r,n)=>async o=>{var a;let s=(a=n.endpointV2)!=null&&a.url&&e.urlParser?async()=>e.urlParser(n.endpointV2.url):e.endpoint;if(!s)throw new Error("No valid endpoint provider available.");let i=await t(o.input,{...e,endpoint:s});return r({...o,request:i})};var rx={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Ui={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function $e(e,t,r){return{applyToStack:n=>{n.add(Qd(e,r),rx),n.add(Xd(e,t),Ui)}}}var nx={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:Ui.name},je=(e,t)=>({applyToStack:r=>{r.addRelativeTo(Yd({config:e,instructions:t}),nx)}});var pe=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t};var zt=e=>{let t=e.tls??!0,{endpoint:r}=e,n=r!=null?async()=>Wd(await pe(r)()):void 0;return{...e,endpoint:n,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:pe(e.useDualstackEndpoint??!1),useFipsEndpoint:pe(e.useFipsEndpoint??!1)}};var ot=class{trace(){}debug(){}info(){}warn(){}error(){}};var Vr=()=>{let e=[],t=[],r=new Set,n=f=>f.sort((h,p)=>Jd[p.step]-Jd[h.step]||Zd[p.priority||"normal"]-Zd[h.priority||"normal"]),o=f=>{let h=!1,p=E=>E.name&&E.name===f?(h=!0,r.delete(f),!1):!0;return e=e.filter(p),t=t.filter(p),h},s=f=>{let h=!1,p=E=>E.middleware===f?(h=!0,E.name&&r.delete(E.name),!1):!0;return e=e.filter(p),t=t.filter(p),h},i=f=>(e.forEach(h=>{f.add(h.middleware,{...h})}),t.forEach(h=>{f.addRelativeTo(h.middleware,{...h})}),f),a=f=>{let h=[];return f.before.forEach(p=>{p.before.length===0&&p.after.length===0?h.push(p):h.push(...a(p))}),h.push(f),f.after.reverse().forEach(p=>{p.before.length===0&&p.after.length===0?h.push(p):h.push(...a(p))}),h},c=(f=!1)=>{let h=[],p=[],E={};return e.forEach(T=>{let v={...T,before:[],after:[]};v.name&&(E[v.name]=v),h.push(v)}),t.forEach(T=>{let v={...T,before:[],after:[]};v.name&&(E[v.name]=v),p.push(v)}),p.forEach(T=>{if(T.toMiddleware){let v=E[T.toMiddleware];if(v===void 0){if(f)return;throw new Error(`${T.toMiddleware} is not found when adding ${T.name||"anonymous"} middleware ${T.relation} ${T.toMiddleware}`)}T.relation==="after"&&v.after.push(T),T.relation==="before"&&v.before.push(T)}}),n(h).map(a).reduce((T,v)=>(T.push(...v),T),[])},d={add:(f,h={})=>{let{name:p,override:E}=h,b={step:"initialize",priority:"normal",middleware:f,...h};if(p){if(r.has(p)){if(!E)throw new Error(`Duplicate middleware name '${p}'`);let T=e.findIndex(Fe=>Fe.name===p),v=e[T];if(v.step!==b.step||v.priority!==b.priority)throw new Error(`"${p}" middleware with ${v.priority} priority in ${v.step} step cannot be overridden by same-name middleware with ${b.priority} priority in ${b.step} step.`);e.splice(T,1)}r.add(p)}e.push(b)},addRelativeTo:(f,h)=>{let{name:p,override:E}=h,b={middleware:f,...h};if(p){if(r.has(p)){if(!E)throw new Error(`Duplicate middleware name '${p}'`);let T=t.findIndex(Fe=>Fe.name===p),v=t[T];if(v.toMiddleware!==b.toMiddleware||v.relation!==b.relation)throw new Error(`"${p}" middleware ${v.relation} "${v.toMiddleware}" middleware cannot be overridden by same-name middleware ${b.relation} "${b.toMiddleware}" middleware.`);t.splice(T,1)}r.add(p)}t.push(b)},clone:()=>i(Vr()),use:f=>{f.applyToStack(d)},remove:f=>typeof f=="string"?o(f):s(f),removeByTag:f=>{let h=!1,p=E=>{let{tags:b,name:T}=E;return b&&b.includes(f)?(T&&r.delete(T),h=!0,!1):!0};return e=e.filter(p),t=t.filter(p),h},concat:f=>{let h=i(Vr());return h.use(f),h},applyToStack:i,identify:()=>c(!0).map(f=>f.name+": "+(f.tags||[]).join(",")),resolve:(f,h)=>{for(let p of c().map(E=>E.middleware).reverse())f=p(f,h);return f}};return d},Jd={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},Zd={high:3,normal:2,low:1};var st=class{constructor(t){this.middlewareStack=Vr(),this.config=t}send(t,r,n){let o=typeof r!="function"?r:void 0,s=typeof r=="function"?r:n,i=t.resolveMiddleware(this.middlewareStack,this.config,o);if(s)i(t).then(a=>s(null,a.output),a=>s(a)).catch(()=>{});else return i(t).then(a=>a.output)}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}};var Te=class{constructor(){this.middlewareStack=Vr()}};var kr="***SensitiveInformation***";var Ho=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}};var ox=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&il.warn(sl(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},sx=Math.ceil(34028234663852886e22),el=e=>{let t=ox(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>sx)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},Wr=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}};var Go=e=>$i(e,32),tl=e=>$i(e,16),rl=e=>$i(e,8),$i=(e,t)=>{let r=Wr(e);if(r!==void 0&&ix(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},ix=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},Ie=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},Yr=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},N=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return il.warn(sl(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}};var nl=e=>el(typeof e=="string"?Hn(e):e),ax=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Hn=e=>{let t=e.match(ax);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)};var ji=e=>Wr(typeof e=="string"?Hn(e):e);var bt=e=>Go(typeof e=="string"?Hn(e):e),Vn=e=>tl(typeof e=="string"?Hn(e):e),ol=e=>rl(typeof e=="string"?Hn(e):e),sl=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),il={warn:console.warn};var cx=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Ki=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Wo(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),o=e.getUTCDate(),s=e.getUTCHours(),i=e.getUTCMinutes(),a=e.getUTCSeconds(),c=o<10?`0${o}`:`${o}`,d=s<10?`0${s}`:`${s}`,f=i<10?`0${i}`:`${i}`,h=a<10?`0${a}`:`${a}`;return`${cx[n]}, ${c} ${Ki[r]} ${t} ${d}:${f}:${h} GMT`}var k_=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/);var dx=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),Yn=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=dx.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,a,c,d,f]=t,h=Vn(Wn(n)),p=Ut(o,"month",1,12),E=Ut(s,"day",1,31),b=Vo(h,p,E,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:d});return f.toUpperCase()!="Z"&&b.setTime(b.getTime()-wx(f)),b},lx=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),fx=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),mx=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),Gi=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=lx.exec(e);if(t){let[r,n,o,s,i,a,c,d]=t;return Vo(Vn(Wn(s)),qi(o),Ut(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:d})}if(t=fx.exec(e),t){let[r,n,o,s,i,a,c,d]=t;return px(Vo(ux(s),qi(o),Ut(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:d}))}if(t=mx.exec(e),t){let[r,n,o,s,i,a,c,d]=t;return Vo(Vn(Wn(d)),qi(n),Ut(o.trimLeft(),"day",1,31),{hours:s,minutes:i,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")};var Vo=(e,t,r,n)=>{let o=t-1;return gx(e,o,r),new Date(Date.UTC(e,o,r,Ut(n.hours,"hour",0,23),Ut(n.minutes,"minute",0,59),Ut(n.seconds,"seconds",0,60),xx(n.fractionalMilliseconds)))},ux=e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+Vn(Wn(e));return r<t?r+100:r},hx=50*365*24*60*60*1e3,px=e=>e.getTime()-new Date().getTime()>hx?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,qi=e=>{let t=Ki.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},yx=[31,28,31,30,31,30,31,31,30,31,30,31],gx=(e,t,r)=>{let n=yx[t];if(t===1&&Cx(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${Ki[t]} in ${e}: ${r}`)},Cx=e=>e%4===0&&(e%100!==0||e%400===0),Ut=(e,t,r,n)=>{let o=ol(Wn(e));if(o<r||o>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return o},xx=e=>e==null?0:nl("0."+e)*1e3,wx=e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),o=Number(e.substring(4,6));return r*(n*60+o)*60*1e3},Wn=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)};var qe=class extends Error{constructor(t){super(t.message),Object.setPrototypeOf(this,qe.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}},W=(e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,o])=>{(e[n]==null||e[n]==="")&&(e[n]=o)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e};var it=({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let o=Ex(e),s=o.httpStatusCode?o.httpStatusCode+"":void 0,i=new r({name:(t==null?void 0:t.code)||(t==null?void 0:t.Code)||n||s||"UnknownError",$fault:"client",$metadata:o});throw W(i,t)},Ex=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]});var $t=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}};var al=!1,jt=e=>{e&&!al&&parseInt(e.substring(1,e.indexOf(".")))<14&&(al=!0)};function Qr(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var Yo=e=>Array.isArray(e)?e:[e];var Qn=e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=Qn(e[r]));return e};var Hi=function(){let e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,[null,...arguments]),r=new t;return Object.setPrototypeOf(r,e.prototype),r};Hi.prototype=Object.create(String.prototype,{constructor:{value:Hi,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(Hi,String);function Ar(e,t,r){let n,o,s;if(typeof t>"u"&&typeof r>"u")n={},s=e;else{if(n=e,typeof t=="function")return o=t,s=r,bx(n,o,s);s=t}for(let i of Object.keys(s)){if(!Array.isArray(s[i])){n[i]=s[i];continue}Sx(n,null,s,i)}return n}var bx=(e,t,r)=>Ar(e,Object.entries(r).reduce((n,[o,s])=>(Array.isArray(s)?n[o]=s:typeof s=="function"?n[o]=[t,s()]:n[o]=[t,s],n),{})),Sx=(e,t,r,n)=>{if(t!==null){let i=r[n];typeof i=="function"&&(i=[,i]);let[a=kx,c=Ax,d=n]=i;(typeof a=="function"&&a(t[d])||typeof a!="function"&&a)&&(e[n]=c(t[d]));return}let[o,s]=r[n];if(typeof s=="function"){let i,a=o===void 0&&(i=s())!=null,c=typeof o=="function"&&!!o(void 0)||typeof o!="function"&&!!o;a?e[n]=i:c&&(e[n]=s())}else{let i=o===void 0&&s!=null,a=typeof o=="function"&&!!o(s)||typeof o!="function"&&!!o;(i||a)&&(e[n]=s)}},kx=e=>e!=null,Ax=e=>e;var Qo=(e,t,r,n,o,s)=>{if(t!=null&&t[r]!==void 0){let i=n();if(i.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(o,s?i.split("/").map(a=>Qr(a)).join("/"):Qr(i))}else throw new Error("No value provided for input HTTP label: "+r+".");return e};var Vi;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(Vi||(Vi={}));var q=class{constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/"}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){let t=new q({...this,headers:{...this.headers}});return t.query&&(t.query=_x(t.query)),t}};function _x(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}var Je=class{constructor(t){this.statusCode=t.statusCode,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};var Ul=rt(oa());var Ze=class extends qe{constructor(t){super(t),Object.setPrototypeOf(this,Ze.prototype)}};var sa;(function(e){e.visit=(t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])})(sa||(sa={}));var ia;(function(e){e.visit=(t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.ObjectSizeGreaterThan!==void 0?r.ObjectSizeGreaterThan(t.ObjectSizeGreaterThan):t.ObjectSizeLessThan!==void 0?r.ObjectSizeLessThan(t.ObjectSizeLessThan):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])})(ia||(ia={}));var aa;(function(e){e.visit=(t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.AccessPointArn!==void 0?r.AccessPointArn(t.AccessPointArn):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])})(aa||(aa={}));var ca;(function(e){e.visit=(t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])})(ca||(ca={}));var Xr=class extends Ze{constructor(t){super({name:"InvalidObjectState",$fault:"client",...t}),this.name="InvalidObjectState",this.$fault="client",Object.setPrototypeOf(this,Xr.prototype),this.StorageClass=t.StorageClass,this.AccessTier=t.AccessTier}},Jr=class extends Ze{constructor(t){super({name:"NoSuchKey",$fault:"client",...t}),this.name="NoSuchKey",this.$fault="client",Object.setPrototypeOf(this,Jr.prototype)}};var Zr=class extends Ze{constructor(t){super({name:"NoSuchBucket",$fault:"client",...t}),this.name="NoSuchBucket",this.$fault="client",Object.setPrototypeOf(this,Zr.prototype)}};var Ll=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:kr}}),zl=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:kr}});var $l=async(e,t)=>{let{hostname:r,protocol:n="https",port:o,path:s}=await t.endpoint(),i=kt({},Xo,{"if-match":e.IfMatch,"if-modified-since":[()=>Xo(e.IfModifiedSince),()=>Wo(e.IfModifiedSince).toString()],"if-none-match":e.IfNoneMatch,"if-unmodified-since":[()=>Xo(e.IfUnmodifiedSince),()=>Wo(e.IfUnmodifiedSince).toString()],range:e.Range,"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":e.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5,"x-amz-request-payer":e.RequestPayer,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner,"x-amz-checksum-mode":e.ChecksumMode}),a=`${s!=null&&s.endsWith("/")?s.slice(0,-1):s||""}/{Key+}`;a=Qo(a,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),a=Qo(a,e,"Key",()=>e.Key,"{Key+}",!0);let c=kt({"x-id":[,"GetObject"],"response-cache-control":[,e.ResponseCacheControl],"response-content-disposition":[,e.ResponseContentDisposition],"response-content-encoding":[,e.ResponseContentEncoding],"response-content-language":[,e.ResponseContentLanguage],"response-content-type":[,e.ResponseContentType],"response-expires":[()=>e.ResponseExpires!==void 0,()=>Wo(e.ResponseExpires).toString()],versionId:[,e.VersionId],partNumber:[()=>e.PartNumber!==void 0,()=>e.PartNumber.toString()]}),d;return new q({protocol:n,hostname:r,port:o,method:"GET",headers:i,path:a,query:c,body:d})};var jl=async(e,t)=>{let{hostname:r,protocol:n="https",port:o,path:s}=await t.endpoint(),i=kt({},Xo,{"x-amz-request-payer":e.RequestPayer,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),a=`${s!=null&&s.endsWith("/")?s.slice(0,-1):s||""}/`;a=Qo(a,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let c=kt({"list-type":[,"2"],delimiter:[,e.Delimiter],"encoding-type":[,e.EncodingType],"max-keys":[()=>e.MaxKeys!==void 0,()=>e.MaxKeys.toString()],prefix:[,e.Prefix],"continuation-token":[,e.ContinuationToken],"fetch-owner":[()=>e.FetchOwner!==void 0,()=>e.FetchOwner.toString()],"start-after":[,e.StartAfter]}),d;return new q({protocol:n,hostname:r,port:o,method:"GET",headers:i,path:a,query:c,body:d})};var ql=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Tw(e,t);let r=kt({$metadata:Zn(e),DeleteMarker:[()=>e.headers["x-amz-delete-marker"]!==void 0,()=>Ho(e.headers["x-amz-delete-marker"])],AcceptRanges:[,e.headers["accept-ranges"]],Expiration:[,e.headers["x-amz-expiration"]],Restore:[,e.headers["x-amz-restore"]],LastModified:[()=>e.headers["last-modified"]!==void 0,()=>Ie(Gi(e.headers["last-modified"]))],ContentLength:[()=>e.headers["content-length"]!==void 0,()=>ji(e.headers["content-length"])],ETag:[,e.headers.etag],ChecksumCRC32:[,e.headers["x-amz-checksum-crc32"]],ChecksumCRC32C:[,e.headers["x-amz-checksum-crc32c"]],ChecksumSHA1:[,e.headers["x-amz-checksum-sha1"]],ChecksumSHA256:[,e.headers["x-amz-checksum-sha256"]],MissingMeta:[()=>e.headers["x-amz-missing-meta"]!==void 0,()=>bt(e.headers["x-amz-missing-meta"])],VersionId:[,e.headers["x-amz-version-id"]],CacheControl:[,e.headers["cache-control"]],ContentDisposition:[,e.headers["content-disposition"]],ContentEncoding:[,e.headers["content-encoding"]],ContentLanguage:[,e.headers["content-language"]],ContentRange:[,e.headers["content-range"]],ContentType:[,e.headers["content-type"]],Expires:[()=>e.headers.expires!==void 0,()=>Ie(Gi(e.headers.expires))],WebsiteRedirectLocation:[,e.headers["x-amz-website-redirect-location"]],ServerSideEncryption:[,e.headers["x-amz-server-side-encryption"]],SSECustomerAlgorithm:[,e.headers["x-amz-server-side-encryption-customer-algorithm"]],SSECustomerKeyMD5:[,e.headers["x-amz-server-side-encryption-customer-key-md5"]],SSEKMSKeyId:[,e.headers["x-amz-server-side-encryption-aws-kms-key-id"]],BucketKeyEnabled:[()=>e.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0,()=>Ho(e.headers["x-amz-server-side-encryption-bucket-key-enabled"])],StorageClass:[,e.headers["x-amz-storage-class"]],RequestCharged:[,e.headers["x-amz-request-charged"]],ReplicationStatus:[,e.headers["x-amz-replication-status"]],PartsCount:[()=>e.headers["x-amz-mp-parts-count"]!==void 0,()=>bt(e.headers["x-amz-mp-parts-count"])],TagCount:[()=>e.headers["x-amz-tagging-count"]!==void 0,()=>bt(e.headers["x-amz-tagging-count"])],ObjectLockMode:[,e.headers["x-amz-object-lock-mode"]],ObjectLockRetainUntilDate:[()=>e.headers["x-amz-object-lock-retain-until-date"]!==void 0,()=>Ie(Yn(e.headers["x-amz-object-lock-retain-until-date"]))],ObjectLockLegalHoldStatus:[,e.headers["x-amz-object-lock-legal-hold"]],Metadata:[,Object.keys(e.headers).filter(o=>o.startsWith("x-amz-meta-")).reduce((o,s)=>(o[s.substring(11)]=e.headers[s],o),{})]}),n=e.body;return t.sdkStreamMixin(n),r.Body=n,r},Tw=async(e,t)=>{let r={...e,body:await Hl(e.body,t)},n=Vl(e,r.body);switch(n){case"InvalidObjectState":case"com.amazonaws.s3#InvalidObjectState":throw await Pw(r,t);case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":throw await Ow(r,t);default:let o=r.body;it({output:e,parsedBody:o,exceptionCtor:Ze,errorCode:n})}};var Kl=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Iw(e,t);let r=kt({$metadata:Zn(e)}),n=Ie(Yr(await Gl(e.body,t)),"body");return n.CommonPrefixes===""?r.CommonPrefixes=[]:n.CommonPrefixes!==void 0&&(r.CommonPrefixes=Mw(Yo(n.CommonPrefixes),t)),n.Contents===""?r.Contents=[]:n.Contents!==void 0&&(r.Contents=Lw(Yo(n.Contents),t)),n.ContinuationToken!==void 0&&(r.ContinuationToken=N(n.ContinuationToken)),n.Delimiter!==void 0&&(r.Delimiter=N(n.Delimiter)),n.EncodingType!==void 0&&(r.EncodingType=N(n.EncodingType)),n.IsTruncated!==void 0&&(r.IsTruncated=Ho(n.IsTruncated)),n.KeyCount!==void 0&&(r.KeyCount=bt(n.KeyCount)),n.MaxKeys!==void 0&&(r.MaxKeys=bt(n.MaxKeys)),n.Name!==void 0&&(r.Name=N(n.Name)),n.NextContinuationToken!==void 0&&(r.NextContinuationToken=N(n.NextContinuationToken)),n.Prefix!==void 0&&(r.Prefix=N(n.Prefix)),n.StartAfter!==void 0&&(r.StartAfter=N(n.StartAfter)),r},Iw=async(e,t)=>{let r={...e,body:await Hl(e.body,t)},n=Vl(e,r.body);switch(n){case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":throw await vw(r,t);default:let o=r.body;it({output:e,parsedBody:o,exceptionCtor:Ze,errorCode:n})}};var kt=Ar;var Pw=async(e,t)=>{let r=kt({}),n=e.body;n.AccessTier!==void 0&&(r.AccessTier=N(n.AccessTier)),n.StorageClass!==void 0&&(r.StorageClass=N(n.StorageClass));let o=new Xr({$metadata:Zn(e),...r});return W(o,e.body)},vw=async(e,t)=>{let r=kt({}),n=e.body,o=new Zr({$metadata:Zn(e),...r});return W(o,e.body)},Ow=async(e,t)=>{let r=kt({}),n=e.body,o=new Jr({$metadata:Zn(e),...r});return W(o,e.body)};var Dw=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>N(r)),Bw=(e,t)=>{let r={};return e.Prefix!==void 0&&(r.Prefix=N(e.Prefix)),r},Mw=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>Bw(r,t));var Fw=(e,t)=>{let r={};return e.Key!==void 0&&(r.Key=N(e.Key)),e.LastModified!==void 0&&(r.LastModified=Ie(Yn(e.LastModified))),e.ETag!==void 0&&(r.ETag=N(e.ETag)),e.ChecksumAlgorithm===""?r.ChecksumAlgorithm=[]:e.ChecksumAlgorithm!==void 0&&(r.ChecksumAlgorithm=Dw(Yo(e.ChecksumAlgorithm),t)),e.Size!==void 0&&(r.Size=ji(e.Size)),e.StorageClass!==void 0&&(r.StorageClass=N(e.StorageClass)),e.Owner!==void 0&&(r.Owner=zw(e.Owner,t)),r},Lw=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>Fw(r,t));var zw=(e,t)=>{let r={};return e.DisplayName!==void 0&&(r.DisplayName=N(e.DisplayName)),e.ID!==void 0&&(r.ID=N(e.ID)),r};var Zn=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Uw=(e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),$w=(e,t)=>Uw(e,t).then(r=>t.utf8Encoder(r)),Xo=e=>e!=null&&e!==""&&(!Object.getOwnPropertyNames(e).includes("length")||e.length!=0)&&(!Object.getOwnPropertyNames(e).includes("size")||e.size!=0),Gl=(e,t)=>$w(e,t).then(r=>{if(r.length){let n=new Ul.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,d)=>d.trim()===""&&d.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let o=n.parse(r),s="#text",i=Object.keys(o)[0],a=o[i];return a[s]&&(a[i]=a[s],delete a[s]),Qn(a)}return{}}),Hl=async(e,t)=>{let r=await Gl(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},Vl=(e,t)=>{if((t==null?void 0:t.Code)!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"};var Wl=e=>({...e,forcePathStyle:e.forcePathStyle??!1,useAccelerateEndpoint:e.useAccelerateEndpoint??!1,disableMultiregionAccessPoints:e.disableMultiregionAccessPoints??!1});var da=e=>typeof e=="string"&&e.indexOf("arn:")===0&&e.split(":").length>=6;function jw(){return e=>async t=>{let{input:{Bucket:r}}=t;if(typeof r=="string"&&!da(r)&&r.indexOf("/")>=0){let n=new Error(`Bucket name shouldn't contain '/', received '${r}'`);throw n.name="InvalidBucketName",n}return e({...t})}}var qw={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},Yl=e=>({applyToStack:t=>{t.add(jw(),qw)}});function Kw(e){return t=>async r=>{let n={...r.input},o=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];for(let s of o){let i=n[s.target];if(i){let a=ArrayBuffer.isView(i)?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):typeof i=="string"?e.utf8Decoder(i):new Uint8Array(i),c=e.base64Encoder(a),d=new e.md5;d.update(a),n={...n,[s.target]:c,[s.hash]:e.base64Encoder(await d.digest())}}}return t({...r,input:n})}}var Gw={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},Ql=e=>({applyToStack:t=>{t.add(Kw(e),Gw)}});var ie;(function(e){e.MD5="MD5",e.CRC32="CRC32",e.CRC32C="CRC32C",e.SHA1="SHA1",e.SHA256="SHA256"})(ie||(ie={}));var Xl;(function(e){e.HEADER="header",e.TRAILER="trailer"})(Xl||(Xl={}));var eo=[ie.CRC32,ie.CRC32C,ie.SHA1,ie.SHA256],Jl=[ie.CRC32,ie.CRC32C,ie.SHA1,ie.SHA256];var Zl=(e,{requestChecksumRequired:t,requestAlgorithmMember:r})=>{if(!r||!e[r])return t?ie.MD5:void 0;let n=e[r];if(!eo.includes(n))throw new Error(`The checksum algorithm "${n}" is not supported by the client. Select one of ${eo}.`);return n};var Jo=e=>e===ie.MD5?"content-md5":`x-amz-checksum-${e.toLowerCase()}`;var ef=(e,t)=>{let r=e.toLowerCase();for(let n of Object.keys(t))if(r===n.toLowerCase())return!0;return!1};var en=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]";var Zo=e=>e!==void 0&&typeof e!="string"&&!ArrayBuffer.isView(e)&&!en(e);var kf=rt(no()),Af=rt(ba());var is=(e,t)=>({[ie.MD5]:t.md5,[ie.CRC32]:kf.AwsCrc32,[ie.CRC32C]:Af.AwsCrc32c,[ie.SHA1]:t.sha1,[ie.SHA256]:t.sha256})[e];var as=require("buffer"),At=(e,t=0,r=e.byteLength-t)=>{if(!en(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return as.Buffer.from(e,t,r)},tn=(e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?as.Buffer.from(e,t):as.Buffer.from(e)};var ct=e=>{let t=tn(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)};var ve=e=>typeof e=="string"?ct(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e);var Ht=e=>At(e.buffer,e.byteOffset,e.byteLength).toString("utf8");var cs=(e,t)=>{let r=new e;return r.update(ve(t||"")),r.digest()};var _f=async(e,{streamHasher:t,checksumAlgorithmFn:r,base64Encoder:n})=>{let o=Zo(e)?t(r,e):cs(r,e);return n(await o)};var Rf=(e=[])=>{let t=[];for(let r of Jl)!e.includes(r)||!eo.includes(r)||t.push(r);return t};var Nf=async(e,{config:t,responseAlgorithms:r})=>{let n=Rf(r),{body:o,headers:s}=e;for(let i of n){let a=Jo(i),c=s[a];if(c){let d=is(i,t),{streamHasher:f,base64Encoder:h}=t,p=await _f(o,{streamHasher:f,checksumAlgorithmFn:d,base64Encoder:h});if(p===c)break;throw new Error(`Checksum mismatch: expected "${p}" but received "${c}" in response header "${a}".`)}}};var Tf=(e,t)=>r=>async n=>{if(!q.isInstance(n.request))return r(n);let{request:o}=n,{body:s,headers:i}=o,{base64Encoder:a,streamHasher:c}=e,{input:d,requestChecksumRequired:f,requestAlgorithmMember:h}=t,p=Zl(d,{requestChecksumRequired:f,requestAlgorithmMember:h}),E=s,b=i;if(p){let Er=Jo(p),Ae=is(p,e);if(Zo(s)){let{getAwsChunkedEncodingStream:br,bodyLengthChecker:jn}=e;E=br(s,{base64Encoder:a,bodyLengthChecker:jn,checksumLocationName:Er,checksumAlgorithmFn:Ae,streamHasher:c}),b={...i,"content-encoding":i["content-encoding"]?`${i["content-encoding"]},aws-chunked`:"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":i["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":Er},delete b["content-length"]}else if(!ef(Er,i)){let br=await cs(Ae,s);b={...i,[Er]:a(br)}}}let T=await r({...n,request:{...o,headers:b,body:E}}),{requestValidationModeMember:v,responseAlgorithms:Fe}=t;return v&&d[v]==="ENABLED"&&Nf(T.response,{config:e,responseAlgorithms:Fe}),T};var rb={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},If=(e,t)=>({applyToStack:r=>{r.add(Tf(e,t),rb)}});var rn=class extends Te{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use($e(r,this.serialize,this.deserialize)),this.middlewareStack.use(je(r,rn.getEndpointParameterInstructions())),this.middlewareStack.use(Ql(r)),this.middlewareStack.use(If(r,{input:this.input,requestChecksumRequired:!1,requestValidationModeMember:"ChecksumMode",responseAlgorithms:["CRC32","CRC32C","SHA256","SHA1"]}));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"S3Client",commandName:"GetObjectCommand",inputFilterSensitiveLog:zl,outputFilterSensitiveLog:Ll},{requestHandler:d}=r;return o.resolve(f=>d.handle(f.request,n||{}),c)}serialize(t,r){return $l(t,r)}deserialize(t,r){return ql(t,r)}};var nn=class extends Te{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use($e(r,this.serialize,this.deserialize)),this.middlewareStack.use(je(r,nn.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"S3Client",commandName:"ListObjectsV2Command",inputFilterSensitiveLog:f=>f,outputFilterSensitiveLog:f=>f},{requestHandler:d}=r;return o.resolve(f=>d.handle(f.request,n||{}),c)}serialize(t,r){return jl(t,r)}deserialize(t,r){return Kl(t,r)}};var Ke;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(Ke||(Ke={}));var dt=(e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}};var nb="AWS_USE_DUALSTACK_ENDPOINT",ob="use_dualstack_endpoint";var Vt={environmentVariableSelector:e=>dt(e,nb,Ke.ENV),configFileSelector:e=>dt(e,ob,Ke.CONFIG),default:!1};var sb="AWS_USE_FIPS_ENDPOINT",ib="use_fips_endpoint";var Wt={environmentVariableSelector:e=>dt(e,sb,Ke.ENV),configFileSelector:e=>dt(e,ib,Ke.CONFIG),default:!1};var ab="AWS_REGION",cb="region",lt={environmentVariableSelector:e=>e[ab],configFileSelector:e=>e[cb],default:()=>{throw new Error("Region is missing")}},Yt={preferredFile:"credentials"};var ds=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips"));var Sa=e=>ds(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e;var Qt=e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return{...e,region:async()=>{if(typeof t=="string")return Sa(t);let n=await t();return Sa(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return ds(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}};var Pf=e=>({...e,eventStreamMarshaller:e.eventStreamSerdeProvider(e)});var vf="content-length";function db(e){return t=>async r=>{let n=r.request;if(q.isInstance(n)){let{body:o,headers:s}=n;if(o&&Object.keys(s).map(i=>i.toLowerCase()).indexOf(vf)===-1)try{let i=e(o);n.headers={...n.headers,[vf]:String(i)}}catch{}}return t({...r,request:n})}}var lb={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},Xt=e=>({applyToStack:t=>{t.add(db(e.bodyLengthChecker),lb)}});function fb(e){return t=>async r=>{let{request:n}=r;return q.isInstance(n)&&n.body&&e.runtime==="node"&&(n.headers={...n.headers,Expect:"100-continue"}),t({...r,request:n})}}var mb={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},Of=e=>({applyToStack:t=>{t.add(fb(e),mb)}});var ub=e=>t=>async r=>{if(!q.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:o=""}=e.requestHandler.metadata||{};if(o.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]="";else if(!n.headers.host){let s=n.hostname;n.port!=null&&(s+=`:${n.port}`),n.headers.host=s}return t(r)},hb={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Jt=e=>({applyToStack:t=>{t.add(ub(e),hb)}});var pb=()=>(e,t)=>async r=>{var n,o;try{let s=await e(r),{clientName:i,commandName:a,logger:c,dynamoDbDocumentClientOptions:d={}}=t,{overrideInputFilterSensitiveLog:f,overrideOutputFilterSensitiveLog:h}=d,p=f??t.inputFilterSensitiveLog,E=h??t.outputFilterSensitiveLog,{$metadata:b,...T}=s.output;return(n=c==null?void 0:c.info)==null||n.call(c,{clientName:i,commandName:a,input:p(r.input),output:E(T),metadata:b}),s}catch(s){let{clientName:i,commandName:a,logger:c,dynamoDbDocumentClientOptions:d={}}=t,{overrideInputFilterSensitiveLog:f}=d,h=f??t.inputFilterSensitiveLog;throw(o=c==null?void 0:c.error)==null||o.call(c,{clientName:i,commandName:a,input:h(r.input),error:s,metadata:s.$metadata}),s}},yb={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},Zt=e=>({applyToStack:t=>{t.add(pb(),yb)}});var Df="X-Amzn-Trace-Id",gb="AWS_LAMBDA_FUNCTION_NAME",Cb="_X_AMZN_TRACE_ID",xb=e=>t=>async r=>{let{request:n}=r;if(!q.isInstance(n)||e.runtime!=="node"||n.headers.hasOwnProperty(Df))return t(r);let o=process.env[gb],s=process.env[Cb],i=a=>typeof a=="string"&&a.length>0;return i(o)&&i(s)&&(n.headers[Df]=s),t({...r,request:n})},wb={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},er=e=>({applyToStack:t=>{t.add(xb(e),wb)}});var ft;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(ft||(ft={}));var Rr=3,mt="STANDARD";var Bf=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],Mf=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],Ff=[500,502,503,504],Lf=["ECONNRESET","EPIPE","ETIMEDOUT"];var on=e=>{var t,r;return((t=e.$metadata)==null?void 0:t.httpStatusCode)===429||Bf.includes(e.name)||((r=e.$retryable)==null?void 0:r.throttling)==!0},ls=e=>{var t;return Mf.includes(e.name)||Lf.includes((e==null?void 0:e.code)||"")||Ff.includes(((t=e.$metadata)==null?void 0:t.httpStatusCode)||0)},zf=e=>{var t;if(((t=e.$metadata)==null?void 0:t.httpStatusCode)!==void 0){let r=e.$metadata.httpStatusCode;return 500<=r&&r<=599&&!ls(e)}return!1};var so=class{constructor(t){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=(t==null?void 0:t.beta)??.7,this.minCapacity=(t==null?void 0:t.minCapacity)??1,this.minFillRate=(t==null?void 0:t.minFillRate)??.5,this.scaleConstant=(t==null?void 0:t.scaleConstant)??.4,this.smooth=(t==null?void 0:t.smooth)??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>setTimeout(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),on(t)){let o=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=o,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(o),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}};var fs="amz-sdk-invocation-id",ms="amz-sdk-request";var Uf=()=>{let e=100;return{computeNextBackoffDelay:n=>Math.floor(Math.min(2e4,Math.random()*2**n*e)),setDelayBase:n=>{e=n}}};var Gf=(e,t,r,n)=>{let o=e,s=(n==null?void 0:n.retryCost)??5,i=(n==null?void 0:n.timeoutRetryCost)??10,a=(n==null?void 0:n.retryBackoffStrategy)??Uf(),c=e,d=Math.min(2e4,t),f,h=r??0,p=Ae=>Ae==="TRANSIENT"?i:s,E=()=>h,b=()=>d,T=()=>f,v=Ae=>p(Ae)<=c;return{getRetryCount:E,getRetryDelay:b,getLastRetryCost:T,hasRetryTokens:v,getRetryTokenCount:Ae=>{let br=Ae.errorType;if(!v(br))throw new Error("No retry token available");let jn=p(br),yg=br==="THROTTLING"?500:100;a.setDelayBase(yg);let qc=a.computeNextBackoffDelay(h);if(Ae.retryAfterHint){let gg=Ae.retryAfterHint.getTime()-Date.now();d=Math.max(gg||0,qc)}else d=qc;return h++,f=jn,c-=jn,jn},releaseRetryTokens:Ae=>{c+=Ae??1,c=Math.min(c,o)}}};var an=class{constructor(t){this.maxAttemptsProvider=t,this.mode=ft.STANDARD,this.retryToken=Gf(500,100),this.maxAttemptsProvider=t}async acquireInitialRetryToken(t){return this.retryToken}async refreshRetryTokenForRetry(t,r){let n=await this.getMaxAttempts();if(this.shouldRetry(t,r,n))return t.getRetryTokenCount(r),t;throw new Error("No retry token available")}recordSuccess(t){this.retryToken.releaseRetryTokens(t.getLastRetryCost())}async getMaxAttempts(){let t;try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${Rr}`),Rr}}shouldRetry(t,r,n){return t.getRetryCount()<n&&t.hasRetryTokens(r.errorType)&&this.isRetryableError(r.errorType)}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}};var hs=class{constructor(t,r){this.maxAttemptsProvider=t,this.mode=ft.ADAPTIVE;let{rateLimiter:n}=r??{};this.rateLimiter=n??new so,this.standardRetryStrategy=new an(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(t,r)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}};var ka=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`);var Vf="AWS_MAX_ATTEMPTS",Wf="max_attempts",tr={environmentVariableSelector:e=>{let t=e[Vf];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${Vf} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[Wf];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${Wf} mast be a number, got "${t}"`);return r},default:Rr},rr=e=>{let{retryStrategy:t}=e,r=pe(e.maxAttempts??Rr);return{...e,maxAttempts:r,retryStrategy:async()=>t||(await pe(e.retryMode)()===ft.ADAPTIVE?new hs(r):new an(r))}},Eb="AWS_RETRY_MODE",bb="retry_mode",nr={environmentVariableSelector:e=>e[Eb],configFileSelector:e=>e[bb],default:mt};Si();var Sb=e=>(t,r)=>async n=>{let o=await e.retryStrategy(),s=await e.maxAttempts();if(kb(o)){o=o;let i=await o.acquireInitialRetryToken(r.partition_id),a=new Error,c=0,d=0,{request:f}=n;for(q.isInstance(f)&&(f.headers[fs]=zo());;)try{q.isInstance(f)&&(f.headers[ms]=`attempt=${c+1}; max=${s}`);let{response:h,output:p}=await t(n);return o.recordSuccess(i),p.$metadata.attempts=c+1,p.$metadata.totalRetryDelay=d,{response:h,output:p}}catch(h){let p=Ab(h);a=ka(h);try{i=await o.refreshRetryTokenForRetry(i,p)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=d,a}c=i.getRetryCount();let E=i.getRetryDelay();d+=E,await new Promise(b=>setTimeout(b,E))}}else return o=o,o!=null&&o.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",o.mode]]),o.retry(t,n)},kb=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",Ab=e=>{let t={errorType:_b(e)},r=Nb(e.$response);return r&&(t.retryAfterHint=r),t},_b=e=>on(e)?"THROTTLING":ls(e)?"TRANSIENT":zf(e)?"SERVER_ERROR":"CLIENT_ERROR",Rb={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},or=e=>({applyToStack:t=>{t.add(Sb(e),Rb)}}),Nb=e=>{if(!Je.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)};var Oe=class extends Error{constructor(t,r=!0){super(t),this.tryNextLink=r,this.name="ProviderError",Object.setPrototypeOf(this,Oe.prototype)}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}};var D=class extends Oe{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="CredentialsProviderError",Object.setPrototypeOf(this,D.prototype)}};var De=class extends Oe{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="TokenProviderError",Object.setPrototypeOf(this,De.prototype)}};function ps(...e){return()=>{let t=Promise.reject(new Oe("No providers in chain"));for(let r of e)t=t.catch(n=>{if(n!=null&&n.tryNextLink)return r();throw n});return t}}var Yf=e=>()=>Promise.resolve(e);var sr=(e,t,r)=>{let n,o,s,i=!1,a=async()=>{o||(o=e());try{n=await o,s=!0,i=!1}finally{o=void 0}return n};return t===void 0?async c=>((!s||c!=null&&c.forceRefresh)&&(n=await a()),n):async c=>((!s||c!=null&&c.forceRefresh)&&(n=await a()),i?n:r&&!r(n)?(i=!0,n):(t(n)&&await a(),n))};var Qf={},Aa={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),Qf[e]=t,Aa[t]=e}function Xf(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in Aa)t[r/2]=Aa[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}function ye(e){let t="";for(let r=0;r<e.byteLength;r++)t+=Qf[e[r]];return t}var Jf="X-Amz-Algorithm",Zf="X-Amz-Credential",_a="X-Amz-Date",em="X-Amz-SignedHeaders",tm="X-Amz-Expires",Ra="X-Amz-Signature",Na="X-Amz-Security-Token";var Ta="authorization",Ia=_a.toLowerCase(),Tb="date",rm=[Ta,Ia,Tb],nm=Ra.toLowerCase(),io="x-amz-content-sha256",om=Na.toLowerCase();var sm={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},im=/^proxy-/,am=/^sec-/;var ys="AWS4-HMAC-SHA256";var cm="AWS4-HMAC-SHA256-PAYLOAD",dm="UNSIGNED-PAYLOAD",lm=50,Pa="aws4_request",fm=60*60*24*7;var gs={},va=[],Cs=(e,t,r)=>`${e}/${t}/${r}/${Pa}`,um=async(e,t,r,n,o)=>{let s=await mm(e,t.secretAccessKey,t.accessKeyId),i=`${r}:${n}:${o}:${ye(s)}:${t.sessionToken}`;if(i in gs)return gs[i];for(va.push(i);va.length>lm;)delete gs[va.shift()];let a=`AWS4${t.secretAccessKey}`;for(let c of[r,n,o,Pa])a=await mm(e,a,c);return gs[i]=a};var mm=(e,t,r)=>{let n=new e(t);return n.update(ve(r)),n.digest()};var xs=({headers:e},t,r)=>{let n={};for(let o of Object.keys(e).sort()){if(e[o]==null)continue;let s=o.toLowerCase();(s in sm||t!=null&&t.has(s)||im.test(s)||am.test(s))&&(!r||r&&!r.has(s))||(n[s]=e[o].trim().replace(/\s+/g," "))}return n};var ut=e=>encodeURIComponent(e).replace(/[!'()*]/g,Ib),Ib=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`;var Oa=({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e).sort()){if(n.toLowerCase()===nm)continue;t.push(n);let o=e[n];typeof o=="string"?r[n]=`${ut(n)}=${ut(o)}`:Array.isArray(o)&&(r[n]=o.slice(0).sort().reduce((s,i)=>s.concat([`${ut(n)}=${ut(i)}`]),[]).join("&"))}return t.map(n=>r[n]).filter(n=>n).join("&")};var ao=async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===io)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||en(t)){let n=new r;return n.update(ve(t)),ye(await n.digest())}return dm};var hm=(e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1};var ws=({headers:e,query:t,...r})=>({...r,headers:{...e},query:t?Pb(t):void 0}),Pb=e=>Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{});var Da=(e,t={})=>{var o;let{headers:r,query:n={}}=typeof e.clone=="function"?e.clone():ws(e);for(let s of Object.keys(r)){let i=s.toLowerCase();i.slice(0,6)==="x-amz-"&&!((o=t.unhoistableHeaders)!=null&&o.has(i))&&(n[s]=r[s],delete r[s])}return{...e,headers:r,query:n}};var Es=e=>{e=typeof e.clone=="function"?e.clone():ws(e);for(let t of Object.keys(e.headers))rm.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e};var pm=e=>vb(e).toISOString().replace(/\.\d{3}Z$/,"Z"),vb=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e;var Nr=class{constructor({applyChecksum:t,credentials:r,region:n,service:o,sha256:s,uriEscapePath:i=!0}){this.service=o,this.sha256=s,this.uriEscapePath=i,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=pe(n),this.credentialProvider=pe(r)}async presign(t,r={}){let{signingDate:n=new Date,expiresIn:o=3600,unsignableHeaders:s,unhoistableHeaders:i,signableHeaders:a,signingRegion:c,signingService:d}=r,f=await this.credentialProvider();this.validateResolvedCredentials(f);let h=c??await this.regionProvider(),{longDate:p,shortDate:E}=bs(n);if(o>fm)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let b=Cs(E,h,d??this.service),T=Da(Es(t),{unhoistableHeaders:i});f.sessionToken&&(T.query[Na]=f.sessionToken),T.query[Jf]=ys,T.query[Zf]=`${f.accessKeyId}/${b}`,T.query[_a]=p,T.query[tm]=o.toString(10);let v=xs(T,s,a);return T.query[em]=ym(v),T.query[Ra]=await this.getSignature(p,b,this.getSigningKey(f,h,E,d),this.createCanonicalRequest(T,v,await ao(t,this.sha256))),T}async sign(t,r){return typeof t=="string"?this.signString(t,r):t.headers&&t.payload?this.signEvent(t,r):this.signRequest(t,r)}async signEvent({headers:t,payload:r},{signingDate:n=new Date,priorSignature:o,signingRegion:s,signingService:i}){let a=s??await this.regionProvider(),{shortDate:c,longDate:d}=bs(n),f=Cs(c,a,i??this.service),h=await ao({headers:{},body:r},this.sha256),p=new this.sha256;p.update(t);let E=ye(await p.digest()),b=[cm,d,f,o,E,h].join(`
`);return this.signString(b,{signingDate:n,signingRegion:a,signingService:i})}async signString(t,{signingDate:r=new Date,signingRegion:n,signingService:o}={}){let s=await this.credentialProvider();this.validateResolvedCredentials(s);let i=n??await this.regionProvider(),{shortDate:a}=bs(r),c=new this.sha256(await this.getSigningKey(s,i,a,o));return c.update(ve(t)),ye(await c.digest())}async signRequest(t,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:o,signingRegion:s,signingService:i}={}){let a=await this.credentialProvider();this.validateResolvedCredentials(a);let c=s??await this.regionProvider(),d=Es(t),{longDate:f,shortDate:h}=bs(r),p=Cs(h,c,i??this.service);d.headers[Ia]=f,a.sessionToken&&(d.headers[om]=a.sessionToken);let E=await ao(d,this.sha256);!hm(io,d.headers)&&this.applyChecksum&&(d.headers[io]=E);let b=xs(d,o,n),T=await this.getSignature(f,p,this.getSigningKey(a,c,h,i),this.createCanonicalRequest(d,b,E));return d.headers[Ta]=`${ys} Credential=${a.accessKeyId}/${p}, SignedHeaders=${ym(b)}, Signature=${T}`,d}createCanonicalRequest(t,r,n){let o=Object.keys(r).sort();return`${t.method}
${this.getCanonicalPath(t)}
${Oa(t)}
${o.map(s=>`${s}:${r[s]}`).join(`
`)}

${o.join(";")}
${n}`}async createStringToSign(t,r,n){let o=new this.sha256;o.update(ve(n));let s=await o.digest();return`${ys}
${t}
${r}
${ye(s)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){let r=[];for(let s of t.split("/"))(s==null?void 0:s.length)!==0&&s!=="."&&(s===".."?r.pop():r.push(s));let n=`${t!=null&&t.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&(t!=null&&t.endsWith("/"))?"/":""}`;return encodeURIComponent(n).replace(/%2F/g,"/")}return t}async getSignature(t,r,n,o){let s=await this.createStringToSign(t,r,o),i=new this.sha256(await n);return i.update(ve(s)),ye(await i.digest())}getSigningKey(t,r,n,o){return um(this.sha256,t,n,r,o||this.service)}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}},bs=e=>{let t=pm(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}},ym=e=>Object.keys(e).sort().join(";");var Ob=3e5,Ss=e=>{let t=e.credentials?Db(e.credentials):e.credentialDefaultProvider(e),{signingEscapePath:r=!0,systemClockOffset:n=e.systemClockOffset||0,sha256:o}=e,s;return e.signer?s=pe(e.signer):e.regionInfoProvider?s=()=>pe(e.region)().then(async i=>[await e.regionInfoProvider(i,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},i]).then(([i,a])=>{let{signingRegion:c,signingService:d}=i;e.signingRegion=e.signingRegion||c||a,e.signingName=e.signingName||d||e.serviceId;let f={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:r},h=e.signerConstructor||Nr;return new h(f)}):s=async i=>{i=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await pe(e.region)(),properties:{}},i);let a=i.signingRegion,c=i.signingName;e.signingRegion=e.signingRegion||a,e.signingName=e.signingName||c||e.serviceId;let d={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:r},f=e.signerConstructor||Nr;return new f(d)},{...e,systemClockOffset:n,signingEscapePath:r,credentials:t,signer:s}};var Db=e=>typeof e=="function"?sr(e,t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<Ob,t=>t.expiration!==void 0):pe(e);var ks=e=>new Date(Date.now()+e);var gm=(e,t)=>Math.abs(ks(t).getTime()-e)>=3e5;var Ba=(e,t)=>{let r=Date.parse(e);return gm(r,t)?r-Date.now():t};var Bb=e=>(t,r)=>async function(n){var d,f,h,p;if(!q.isInstance(n.request))return t(n);let o=(h=(f=(d=r.endpointV2)==null?void 0:d.properties)==null?void 0:f.authSchemes)==null?void 0:h[0],s=(o==null?void 0:o.name)==="sigv4a"?(p=o==null?void 0:o.signingRegionSet)==null?void 0:p.join(","):void 0,i=await e.signer(o),a=await t({...n,request:await i.sign(n.request,{signingDate:ks(e.systemClockOffset),signingRegion:s||r.signing_region,signingService:r.signing_service})}).catch(E=>{let b=E.ServerTime??Cm(E.$response);throw b&&(e.systemClockOffset=Ba(b,e.systemClockOffset)),E}),c=Cm(a.response);return c&&(e.systemClockOffset=Ba(c,e.systemClockOffset)),a},Cm=e=>{var t,r;return Je.isInstance(e)?((t=e.headers)==null?void 0:t.date)??((r=e.headers)==null?void 0:r.Date):void 0},Mb={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},As=e=>({applyToStack:t=>{t.addRelativeTo(Bb(e),Mb)}});function ir(e){return{...e,customUserAgent:typeof e.customUserAgent=="string"?[[e.customUserAgent]]:e.customUserAgent}}var Ma={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}}],version:"1.1"};var xm=Ma,wm="",Lb=e=>{let{partitions:t}=xm;for(let n of t){let{regions:o,outputs:s}=n;for(let[i,a]of Object.entries(o))if(i===e)return{...s,...a}}for(let n of t){let{regionRegex:o,outputs:s}=n;if(new RegExp(o).test(e))return{...s}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},Em=(e,t="")=>{xm=e,wm=t},zb=()=>{Em(Ma,"")},Fa=()=>wm;var _t="endpoints";function Ge(e){return typeof e!="object"||e==null?e:"ref"in e?`$${Ge(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(Ge).join(", ")})`:JSON.stringify(e,null,2)}var te=class extends Error{constructor(t){super(t),this.name="EndpointError"}};var $a={};zr($a,{aws:()=>La,booleanEquals:()=>qb,getAttr:()=>za,isSet:()=>Kb,isValidHostLabel:()=>Rs,not:()=>Gb,parseURL:()=>Hb,stringEquals:()=>Vb,substring:()=>Wb,uriEncode:()=>Yb});var La={};zr(La,{getUserAgentPrefix:()=>Fa,isVirtualHostableS3Bucket:()=>bm,parseArn:()=>jb,partition:()=>Lb,setPartitionInfo:()=>Em,useDefaultPartitionInfo:()=>zb});var Ub=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),_s=e=>Ub.test(e)||e.startsWith("[")&&e.endsWith("]");var $b=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),Rs=(e,t=!1)=>{if(!t)return $b.test(e);let r=e.split(".");for(let n of r)if(!Rs(n))return!1;return!0};var bm=(e,t=!1)=>{if(t){for(let r of e.split("."))if(!bm(r))return!1;return!0}return!(!Rs(e)||e.length<3||e.length>63||e!==e.toLowerCase()||_s(e))};var jb=e=>{let t=e.split(":");if(t.length<6)return null;let[r,n,o,s,i,...a]=t;return r!=="arn"||n===""||o===""||a[0]===""?null:{partition:n,service:o,region:s,accountId:i,resourceId:a[0].includes("/")?a[0].split("/"):a}};var qb=(e,t)=>e===t;var Sm=e=>{let t=e.split("."),r=[];for(let n of t){let o=n.indexOf("[");if(o!==-1){if(n.indexOf("]")!==n.length-1)throw new te(`Path: '${e}' does not end with ']'`);let s=n.slice(o+1,-1);if(Number.isNaN(parseInt(s)))throw new te(`Invalid array index: '${s}' in path: '${e}'`);o!==0&&r.push(n.slice(0,o)),r.push(s)}else r.push(n)}return r};var za=(e,t)=>Sm(t).reduce((r,n)=>{if(typeof r!="object")throw new te(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e);var Kb=e=>e!=null;var Gb=e=>!e;var km;(function(e){e.HEADER="header",e.QUERY="query"})(km||(km={}));var Am;(function(e){e.AAAA="AAAA",e.A="A"})(Am||(Am={}));var cn;(function(e){e.HTTP="http",e.HTTPS="https"})(cn||(cn={}));var _m;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(_m||(_m={}));var Ua={[cn.HTTP]:80,[cn.HTTPS]:443},Hb=e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:p,port:E,protocol:b="",path:T="",query:v={}}=e,Fe=new URL(`${b}//${p}${E?`:${E}`:""}${T}`);return Fe.search=Object.entries(v).map(([Er,Ae])=>`${Er}=${Ae}`).join("&"),Fe}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:o,pathname:s,protocol:i,search:a}=t;if(a)return null;let c=i.slice(0,-1);if(!Object.values(cn).includes(c))return null;let d=_s(o),f=r.includes(`${n}:${Ua[c]}`)||typeof e=="string"&&e.includes(`${n}:${Ua[c]}`),h=`${n}${f?`:${Ua[c]}`:""}`;return{scheme:c,authority:h,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:d}};var Vb=(e,t)=>e===t;var Wb=(e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r);var Yb=e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`);var Ns=(e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},o=0;for(;o<e.length;){let s=e.indexOf("{",o);if(s===-1){r.push(e.slice(o));break}r.push(e.slice(o,s));let i=e.indexOf("}",s);if(i===-1){r.push(e.slice(s));break}e[s+1]==="{"&&e[i+1]==="}"&&(r.push(e.slice(s+1,i)),o=i+2);let a=e.substring(s+1,i);if(a.includes("#")){let[c,d]=a.split("#");r.push(za(n[c],d))}else r.push(n[a]);o=i+1}return r.join("")};var Rm=({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e];var ar=(e,t,r)=>{if(typeof e=="string")return Ns(e,r);if(e.fn)return Ts(e,r);if(e.ref)return Rm(e,r);throw new te(`'${t}': ${String(e)} is not a string, function or reference.`)};var Ts=({fn:e,argv:t},r)=>{let n=t.map(o=>["boolean","number"].includes(typeof o)?o:ar(o,"arg",r));return e.split(".").reduce((o,s)=>o[s],$a)(...n)};var Nm=({assign:e,...t},r)=>{var o,s;if(e&&e in r.referenceRecord)throw new te(`'${e}' is already defined in Reference Record.`);let n=Ts(t,r);return(s=(o=r.logger)==null?void 0:o.debug)==null||s.call(o,_t,`evaluateCondition: ${Ge(t)} = ${Ge(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}};var dn=(e=[],t)=>{var n,o;let r={};for(let s of e){let{result:i,toAssign:a}=Nm(s,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!i)return{result:i};a&&(r[a.name]=a.value,(o=(n=t.logger)==null?void 0:n.debug)==null||o.call(n,_t,`assign: ${a.name} := ${Ge(a.value)}`))}return{result:!0,referenceRecord:r}};var Tm=(e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:o.map(s=>{let i=ar(s,"Header value entry",t);if(typeof i!="string")throw new te(`Header '${n}' value '${i}' is not a string`);return i})}),{});var ja=(e,t)=>{if(Array.isArray(e))return e.map(r=>ja(r,t));switch(typeof e){case"string":return Ns(e,t);case"object":if(e===null)throw new te(`Unexpected endpoint property: ${e}`);return Is(e,t);case"boolean":return e;default:throw new te(`Unexpected endpoint property type: ${typeof e}`)}};var Is=(e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:ja(o,t)}),{});var Im=(e,t)=>{let r=ar(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new te(`Endpoint URL must be a string, got ${typeof r}`)};var Pm=(e,t)=>{var f,h;let{conditions:r,endpoint:n}=e,{result:o,referenceRecord:s}=dn(r,t);if(!o)return;let i={...t,referenceRecord:{...t.referenceRecord,...s}},{url:a,properties:c,headers:d}=n;return(h=(f=t.logger)==null?void 0:f.debug)==null||h.call(f,_t,`Resolving endpoint from template: ${Ge(n)}`),{...d!=null&&{headers:Tm(d,i)},...c!=null&&{properties:Is(c,i)},url:Im(a,i)}};var vm=(e,t)=>{let{conditions:r,error:n}=e,{result:o,referenceRecord:s}=dn(r,t);if(o)throw new te(ar(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...s}}))};var Om=(e,t)=>{let{conditions:r,rules:n}=e,{result:o,referenceRecord:s}=dn(r,t);if(o)return Ps(n,{...t,referenceRecord:{...t.referenceRecord,...s}})};var Ps=(e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=Pm(r,t);if(n)return n}else if(r.type==="error")vm(r,t);else if(r.type==="tree"){let n=Om(r,t);if(n)return n}else throw new te(`Unknown endpoint rule: ${r}`);throw new te("Rules evaluation failed")};var cr=(e,t)=>{var d,f,h,p,E;let{endpointParams:r,logger:n}=t,{parameters:o,rules:s}=e;(f=(d=t.logger)==null?void 0:d.debug)==null||f.call(d,_t,`Initial EndpointParams: ${Ge(r)}`);let i=Object.entries(o).filter(([,b])=>b.default!=null).map(([b,T])=>[b,T.default]);if(i.length>0)for(let[b,T]of i)r[b]=r[b]??T;let a=Object.entries(o).filter(([,b])=>b.required).map(([b])=>b);for(let b of a)if(r[b]==null)throw new te(`Missing required parameter: '${b}'`);let c=Ps(s,{endpointParams:r,logger:n,referenceRecord:{}});if((h=t.endpointParams)!=null&&h.Endpoint)try{let b=new URL(t.endpointParams.Endpoint),{protocol:T,port:v}=b;c.url.protocol=T,c.url.port=v}catch{}return(E=(p=t.logger)==null?void 0:p.debug)==null||E.call(p,_t,`Resolved endpoint: ${Ge(c)}`),c};var qa="user-agent",vs="x-amz-user-agent",Ka=" ",Dm=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g;var Qb=e=>(t,r)=>async n=>{var p,E;let{request:o}=n;if(!q.isInstance(o))return t(n);let{headers:s}=o,i=((p=r==null?void 0:r.userAgent)==null?void 0:p.map(Ga))||[],a=(await e.defaultUserAgentProvider()).map(Ga),c=((E=e==null?void 0:e.customUserAgent)==null?void 0:E.map(Ga))||[],d=Fa(),f=(d?[d]:[]).concat([...a,...i,...c]).join(Ka),h=[...a.filter(b=>b.startsWith("aws-sdk-")),...c].join(Ka);return e.runtime!=="browser"?(h&&(s[vs]=s[vs]?`${s[qa]} ${h}`:h),s[qa]=f):s[vs]=f,t({...n,request:o})},Ga=([e,t])=>{let r=e.indexOf("/"),n=e.substring(0,r),o=e.substring(r+1);return n==="api"&&(o=o.toLowerCase()),[n,o,t].filter(s=>s&&s.length>0).map(s=>s==null?void 0:s.replace(Dm,"_")).join("/")},Xb={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},dr=e=>({applyToStack:t=>{t.add(Qb(e),Xb)}});var Bm=e=>({...e,useFipsEndpoint:e.useFipsEndpoint??!1,useDualstackEndpoint:e.useDualstackEndpoint??!1,useAccelerateEndpoint:e.useAccelerateEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,disableMultiregionAccessPoints:e.disableMultiregionAccessPoints??!1,defaultSigningName:"s3"});var Mm={name:"@aws-sdk/client-s3",description:"AWS SDK for JavaScript S3 Client for Node.js, Browser and React Native",version:"3.309.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo s3",test:"yarn test:unit","test:e2e":"ts-mocha test/**/*.ispec.ts && karma start karma.conf.js","test:unit":"ts-mocha test/**/*.spec.ts"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha1-browser":"3.0.0","@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.309.0","@aws-sdk/config-resolver":"3.306.0","@aws-sdk/credential-provider-node":"3.309.0","@aws-sdk/eventstream-serde-browser":"3.306.0","@aws-sdk/eventstream-serde-config-resolver":"3.306.0","@aws-sdk/eventstream-serde-node":"3.306.0","@aws-sdk/fetch-http-handler":"3.306.0","@aws-sdk/hash-blob-browser":"3.306.0","@aws-sdk/hash-node":"3.306.0","@aws-sdk/hash-stream-node":"3.306.0","@aws-sdk/invalid-dependency":"3.306.0","@aws-sdk/md5-js":"3.306.0","@aws-sdk/middleware-bucket-endpoint":"3.306.0","@aws-sdk/middleware-content-length":"3.306.0","@aws-sdk/middleware-endpoint":"3.306.0","@aws-sdk/middleware-expect-continue":"3.306.0","@aws-sdk/middleware-flexible-checksums":"3.306.0","@aws-sdk/middleware-host-header":"3.306.0","@aws-sdk/middleware-location-constraint":"3.306.0","@aws-sdk/middleware-logger":"3.306.0","@aws-sdk/middleware-recursion-detection":"3.306.0","@aws-sdk/middleware-retry":"3.306.0","@aws-sdk/middleware-sdk-s3":"3.306.0","@aws-sdk/middleware-serde":"3.306.0","@aws-sdk/middleware-signing":"3.306.0","@aws-sdk/middleware-ssec":"3.306.0","@aws-sdk/middleware-stack":"3.306.0","@aws-sdk/middleware-user-agent":"3.306.0","@aws-sdk/node-config-provider":"3.306.0","@aws-sdk/node-http-handler":"3.306.0","@aws-sdk/protocol-http":"3.306.0","@aws-sdk/signature-v4-multi-region":"3.306.0","@aws-sdk/smithy-client":"3.309.0","@aws-sdk/types":"3.306.0","@aws-sdk/url-parser":"3.306.0","@aws-sdk/util-base64":"3.303.0","@aws-sdk/util-body-length-browser":"3.303.0","@aws-sdk/util-body-length-node":"3.303.0","@aws-sdk/util-defaults-mode-browser":"3.309.0","@aws-sdk/util-defaults-mode-node":"3.309.0","@aws-sdk/util-endpoints":"3.306.0","@aws-sdk/util-retry":"3.306.0","@aws-sdk/util-stream-browser":"3.306.0","@aws-sdk/util-stream-node":"3.306.0","@aws-sdk/util-user-agent-browser":"3.306.0","@aws-sdk/util-user-agent-node":"3.306.0","@aws-sdk/util-utf8":"3.303.0","@aws-sdk/util-waiter":"3.306.0","@aws-sdk/xml-builder":"3.303.0","fast-xml-parser":"4.1.2",tslib:"^2.5.0"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.303.0","@tsconfig/node14":"1.0.3","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-s3",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-s3"}};var Fm=rt(oa());var ke=class extends qe{constructor(t){super(t),Object.setPrototypeOf(this,ke.prototype)}};var ln=class extends ke{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,ln.prototype)}},fn=class extends ke{constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),this.name="MalformedPolicyDocumentException",this.$fault="client",Object.setPrototypeOf(this,fn.prototype)}},mn=class extends ke{constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),this.name="PackedPolicyTooLargeException",this.$fault="client",Object.setPrototypeOf(this,mn.prototype)}},un=class extends ke{constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),this.name="RegionDisabledException",this.$fault="client",Object.setPrototypeOf(this,un.prototype)}},hn=class extends ke{constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),this.name="IDPRejectedClaimException",this.$fault="client",Object.setPrototypeOf(this,hn.prototype)}},pn=class extends ke{constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),this.name="InvalidIdentityTokenException",this.$fault="client",Object.setPrototypeOf(this,pn.prototype)}},yn=class extends ke{constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),this.name="IDPCommunicationErrorException",this.$fault="client",Object.setPrototypeOf(this,yn.prototype)}};var Lm=async(e,t)=>{let r={"content-type":"application/x-www-form-urlencoded"},n;return n=Xm({...oS(e,t),Action:"AssumeRole",Version:"2011-06-15"}),Ym(t,r,"/",void 0,n)};var zm=async(e,t)=>{let r={"content-type":"application/x-www-form-urlencoded"},n;return n=Xm({...sS(e,t),Action:"AssumeRoleWithWebIdentity",Version:"2011-06-15"}),Ym(t,r,"/",void 0,n)};var Um=async(e,t)=>{if(e.statusCode>=300)return Zb(e,t);let r=await Ha(e.body,t),n={};n=lS(r.AssumeRoleResult,t);let o={$metadata:Rt(e),...n};return Promise.resolve(o)},Zb=async(e,t)=>{let r={...e,body:await Qm(e.body,t)},n=Jm(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await jm(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await qm(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await Km(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await Gm(r,t);default:let o=r.body;it({output:e,parsedBody:o.Error,exceptionCtor:ke,errorCode:n})}};var $m=async(e,t)=>{if(e.statusCode>=300)return eS(e,t);let r=await Ha(e.body,t),n={};n=fS(r.AssumeRoleWithWebIdentityResult,t);let o={$metadata:Rt(e),...n};return Promise.resolve(o)},eS=async(e,t)=>{let r={...e,body:await Qm(e.body,t)},n=Jm(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await jm(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await tS(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await rS(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await nS(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await qm(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await Km(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await Gm(r,t);default:let o=r.body;it({output:e,parsedBody:o.Error,exceptionCtor:ke,errorCode:n})}};var jm=async(e,t)=>{let r=e.body,n=mS(r.Error,t),o=new ln({$metadata:Rt(e),...n});return W(o,r)},tS=async(e,t)=>{let r=e.body,n=uS(r.Error,t),o=new yn({$metadata:Rt(e),...n});return W(o,r)},rS=async(e,t)=>{let r=e.body,n=hS(r.Error,t),o=new hn({$metadata:Rt(e),...n});return W(o,r)};var nS=async(e,t)=>{let r=e.body,n=pS(r.Error,t),o=new pn({$metadata:Rt(e),...n});return W(o,r)},qm=async(e,t)=>{let r=e.body,n=yS(r.Error,t),o=new fn({$metadata:Rt(e),...n});return W(o,r)},Km=async(e,t)=>{let r=e.body,n=gS(r.Error,t),o=new mn({$metadata:Rt(e),...n});return W(o,r)},Gm=async(e,t)=>{let r=e.body,n=CS(r.Error,t),o=new un({$metadata:Rt(e),...n});return W(o,r)},oS=(e,t)=>{var n,o,s;let r={};if(e.RoleArn!=null&&(r.RoleArn=e.RoleArn),e.RoleSessionName!=null&&(r.RoleSessionName=e.RoleSessionName),e.PolicyArns!=null){let i=Hm(e.PolicyArns,t);((n=e.PolicyArns)==null?void 0:n.length)===0&&(r.PolicyArns=[]),Object.entries(i).forEach(([a,c])=>{let d=`PolicyArns.${a}`;r[d]=c})}if(e.Policy!=null&&(r.Policy=e.Policy),e.DurationSeconds!=null&&(r.DurationSeconds=e.DurationSeconds),e.Tags!=null){let i=dS(e.Tags,t);((o=e.Tags)==null?void 0:o.length)===0&&(r.Tags=[]),Object.entries(i).forEach(([a,c])=>{let d=`Tags.${a}`;r[d]=c})}if(e.TransitiveTagKeys!=null){let i=cS(e.TransitiveTagKeys,t);((s=e.TransitiveTagKeys)==null?void 0:s.length)===0&&(r.TransitiveTagKeys=[]),Object.entries(i).forEach(([a,c])=>{let d=`TransitiveTagKeys.${a}`;r[d]=c})}return e.ExternalId!=null&&(r.ExternalId=e.ExternalId),e.SerialNumber!=null&&(r.SerialNumber=e.SerialNumber),e.TokenCode!=null&&(r.TokenCode=e.TokenCode),e.SourceIdentity!=null&&(r.SourceIdentity=e.SourceIdentity),r};var sS=(e,t)=>{var n;let r={};if(e.RoleArn!=null&&(r.RoleArn=e.RoleArn),e.RoleSessionName!=null&&(r.RoleSessionName=e.RoleSessionName),e.WebIdentityToken!=null&&(r.WebIdentityToken=e.WebIdentityToken),e.ProviderId!=null&&(r.ProviderId=e.ProviderId),e.PolicyArns!=null){let o=Hm(e.PolicyArns,t);((n=e.PolicyArns)==null?void 0:n.length)===0&&(r.PolicyArns=[]),Object.entries(o).forEach(([s,i])=>{let a=`PolicyArns.${s}`;r[a]=i})}return e.Policy!=null&&(r.Policy=e.Policy),e.DurationSeconds!=null&&(r.DurationSeconds=e.DurationSeconds),r};var Hm=(e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let s=iS(o,t);Object.entries(s).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},iS=(e,t)=>{let r={};return e.arn!=null&&(r.arn=e.arn),r},aS=(e,t)=>{let r={};return e.Key!=null&&(r.Key=e.Key),e.Value!=null&&(r.Value=e.Value),r},cS=(e,t)=>{let r={},n=1;for(let o of e)o!==null&&(r[`member.${n}`]=o,n++);return r},dS=(e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let s=aS(o,t);Object.entries(s).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},Vm=(e,t)=>{let r={};return e.AssumedRoleId!==void 0&&(r.AssumedRoleId=N(e.AssumedRoleId)),e.Arn!==void 0&&(r.Arn=N(e.Arn)),r},lS=(e,t)=>{let r={};return e.Credentials!==void 0&&(r.Credentials=Wm(e.Credentials,t)),e.AssumedRoleUser!==void 0&&(r.AssumedRoleUser=Vm(e.AssumedRoleUser,t)),e.PackedPolicySize!==void 0&&(r.PackedPolicySize=bt(e.PackedPolicySize)),e.SourceIdentity!==void 0&&(r.SourceIdentity=N(e.SourceIdentity)),r};var fS=(e,t)=>{let r={};return e.Credentials!==void 0&&(r.Credentials=Wm(e.Credentials,t)),e.SubjectFromWebIdentityToken!==void 0&&(r.SubjectFromWebIdentityToken=N(e.SubjectFromWebIdentityToken)),e.AssumedRoleUser!==void 0&&(r.AssumedRoleUser=Vm(e.AssumedRoleUser,t)),e.PackedPolicySize!==void 0&&(r.PackedPolicySize=bt(e.PackedPolicySize)),e.Provider!==void 0&&(r.Provider=N(e.Provider)),e.Audience!==void 0&&(r.Audience=N(e.Audience)),e.SourceIdentity!==void 0&&(r.SourceIdentity=N(e.SourceIdentity)),r},Wm=(e,t)=>{let r={};return e.AccessKeyId!==void 0&&(r.AccessKeyId=N(e.AccessKeyId)),e.SecretAccessKey!==void 0&&(r.SecretAccessKey=N(e.SecretAccessKey)),e.SessionToken!==void 0&&(r.SessionToken=N(e.SessionToken)),e.Expiration!==void 0&&(r.Expiration=Ie(Yn(e.Expiration))),r};var mS=(e,t)=>{let r={};return e.message!==void 0&&(r.message=N(e.message)),r};var uS=(e,t)=>{let r={};return e.message!==void 0&&(r.message=N(e.message)),r},hS=(e,t)=>{let r={};return e.message!==void 0&&(r.message=N(e.message)),r};var pS=(e,t)=>{let r={};return e.message!==void 0&&(r.message=N(e.message)),r},yS=(e,t)=>{let r={};return e.message!==void 0&&(r.message=N(e.message)),r},gS=(e,t)=>{let r={};return e.message!==void 0&&(r.message=N(e.message)),r},CS=(e,t)=>{let r={};return e.message!==void 0&&(r.message=N(e.message)),r},Rt=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),xS=(e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),wS=(e,t)=>xS(e,t).then(r=>t.utf8Encoder(r)),Ym=async(e,t,r,n,o)=>{let{hostname:s,protocol:i="https",port:a,path:c}=await e.endpoint(),d={protocol:i,hostname:s,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(d.hostname=n),o!==void 0&&(d.body=o),new q(d)},Ha=(e,t)=>wS(e,t).then(r=>{if(r.length){let n=new Fm.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,d)=>d.trim()===""&&d.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let o=n.parse(r),s="#text",i=Object.keys(o)[0],a=o[i];return a[s]&&(a[i]=a[s],delete a[s]),Qn(a)}return{}}),Qm=async(e,t)=>{let r=await Ha(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},Xm=e=>Object.entries(e).map(([t,r])=>Qr(t)+"="+Qr(r)).join("&"),Jm=(e,t)=>{var r;if(((r=t.Error)==null?void 0:r.Code)!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"};var gn=class extends Te{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use($e(r,this.serialize,this.deserialize)),this.middlewareStack.use(je(r,gn.getEndpointParameterInstructions())),this.middlewareStack.use(As(r));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"STSClient",commandName:"AssumeRoleCommand",inputFilterSensitiveLog:f=>f,outputFilterSensitiveLog:f=>f},{requestHandler:d}=r;return o.resolve(f=>d.handle(f.request,n||{}),c)}serialize(t,r){return Lm(t,r)}deserialize(t,r){return Um(t,r)}};var Cn=class extends Te{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use($e(r,this.serialize,this.deserialize)),this.middlewareStack.use(je(r,Cn.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"STSClient",commandName:"AssumeRoleWithWebIdentityCommand",inputFilterSensitiveLog:f=>f,outputFilterSensitiveLog:f=>f},{requestHandler:d}=r;return o.resolve(f=>d.handle(f.request,n||{}),c)}serialize(t,r){return zm(t,r)}deserialize(t,r){return $m(t,r)}};var Zm=(e,{stsClientCtor:t})=>Ss({...e,stsClientCtor:t});var eu=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"});var tu={name:"@aws-sdk/client-sts",description:"AWS SDK for JavaScript Sts Client for Node.js, Browser and React Native",version:"3.309.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sts",test:"yarn test:unit","test:unit":"jest"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/config-resolver":"3.306.0","@aws-sdk/credential-provider-node":"3.309.0","@aws-sdk/fetch-http-handler":"3.306.0","@aws-sdk/hash-node":"3.306.0","@aws-sdk/invalid-dependency":"3.306.0","@aws-sdk/middleware-content-length":"3.306.0","@aws-sdk/middleware-endpoint":"3.306.0","@aws-sdk/middleware-host-header":"3.306.0","@aws-sdk/middleware-logger":"3.306.0","@aws-sdk/middleware-recursion-detection":"3.306.0","@aws-sdk/middleware-retry":"3.306.0","@aws-sdk/middleware-sdk-sts":"3.306.0","@aws-sdk/middleware-serde":"3.306.0","@aws-sdk/middleware-signing":"3.306.0","@aws-sdk/middleware-stack":"3.306.0","@aws-sdk/middleware-user-agent":"3.306.0","@aws-sdk/node-config-provider":"3.306.0","@aws-sdk/node-http-handler":"3.306.0","@aws-sdk/protocol-http":"3.306.0","@aws-sdk/smithy-client":"3.309.0","@aws-sdk/types":"3.306.0","@aws-sdk/url-parser":"3.306.0","@aws-sdk/util-base64":"3.303.0","@aws-sdk/util-body-length-browser":"3.303.0","@aws-sdk/util-body-length-node":"3.303.0","@aws-sdk/util-defaults-mode-browser":"3.309.0","@aws-sdk/util-defaults-mode-node":"3.309.0","@aws-sdk/util-endpoints":"3.306.0","@aws-sdk/util-retry":"3.306.0","@aws-sdk/util-user-agent-browser":"3.306.0","@aws-sdk/util-user-agent-node":"3.306.0","@aws-sdk/util-utf8":"3.303.0","fast-xml-parser":"4.1.2",tslib:"^2.5.0"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.303.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sts",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sts"}};var ru="us-east-1",nu=e=>typeof e!="function"?e===void 0?ru:e:async()=>{try{return await e()}catch{return ru}},Va=(e,t)=>{let r,n;return async(o,s)=>{if(n=o,!r){let{logger:a,region:c,requestHandler:d}=e;r=new t({logger:a,credentialDefaultProvider:()=>async()=>n,region:nu(c||e.region),...d?{requestHandler:d}:{}})}let{Credentials:i}=await r.send(new gn(s));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${s.RoleArn}`);return{accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration}}},Wa=(e,t)=>{let r;return async n=>{if(!r){let{logger:s,region:i,requestHandler:a}=e;r=new t({logger:s,region:nu(i||e.region),...a?{requestHandler:a}:{}})}let{Credentials:o}=await r.send(new Cn(n));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);return{accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration}}},ou=e=>t=>e({roleAssumer:Va(t,t.stsClientCtor),roleAssumerWithWebIdentity:Wa(t,t.stsClientCtor),...t});var bS="AWS_ACCESS_KEY_ID",SS="AWS_SECRET_ACCESS_KEY",kS="AWS_SESSION_TOKEN",AS="AWS_CREDENTIAL_EXPIRATION",Os=()=>async()=>{let e=process.env[bS],t=process.env[SS],r=process.env[kS],n=process.env[AS];if(e&&t)return{accessKeyId:e,secretAccessKey:t,...r&&{sessionToken:r},...n&&{expiration:new Date(n)}};throw new D("Unable to find environment variable credentials.")};var su=require("os"),iu=require("path"),xn=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${iu.sep}`}=process.env;return e||t||(r?`${n}${r}`:(0,su.homedir)())};var Ya="AWS_PROFILE",_S="default",He=e=>e.profile||process.env[Ya]||_S;var au=require("crypto"),cu=require("path");var Ds=e=>{let r=(0,au.createHash)("sha1").update(e).digest("hex");return(0,cu.join)(xn(),".aws","sso","cache",`${r}.json`)};var du=require("fs");var{readFile:RS}=du.promises,Bs=async e=>{let t=Ds(e),r=await RS(t,"utf8");return JSON.parse(r)};var lu=require("path");var NS="AWS_CONFIG_FILE",Ms=()=>process.env[NS]||(0,lu.join)(xn(),".aws","config");var fu=require("path");var TS="AWS_SHARED_CREDENTIALS_FILE",mu=()=>process.env[TS]||(0,fu.join)(xn(),".aws","credentials");var uu=/^profile\s(["'])?([^\1]+)\1$/,hu=e=>Object.entries(e).filter(([t])=>uu.test(t)).reduce((t,[r,n])=>({...t,[uu.exec(r)[2]]:n}),{...e.default&&{default:e.default}});var IS=["__proto__","profile __proto__"],co=e=>{let t={},r;for(let n of e.split(/\r?\n/))if(n=n.split(/(^|\s)[;#]/)[0].trim(),n[0]==="["&&n[n.length-1]==="]"){if(r=n.substring(1,n.length-1),IS.includes(r))throw new Error(`Found invalid profile name "${r}"`)}else if(r){let s=n.indexOf("="),i=0,a=n.length-1;if(s!==-1&&s!==i&&s!==a){let[d,f]=[n.substring(0,s).trim(),n.substring(s+1).trim()];t[r]=t[r]||{},t[r][d]=f}}return t};var pu=require("fs"),{readFile:PS}=pu.promises,Qa={},lo=(e,t)=>((!Qa[e]||t!=null&&t.ignoreCache)&&(Qa[e]=PS(e,"utf8")),Qa[e]);var yu=()=>({}),Fs=async(e={})=>{let{filepath:t=mu(),configFilepath:r=Ms()}=e,n=await Promise.all([lo(r,{ignoreCache:e.ignoreCache}).then(co).then(hu).catch(yu),lo(t,{ignoreCache:e.ignoreCache}).then(co).catch(yu)]);return{configFile:n[0],credentialsFile:n[1]}};var gu=/^sso-session\s(["'])?([^\1]+)\1$/,Cu=e=>Object.entries(e).filter(([t])=>gu.test(t)).reduce((t,[r,n])=>({...t,[gu.exec(r)[2]]:n}),{});var vS=()=>({}),Ls=async(e={})=>lo(e.configFilepath??Ms()).then(co).then(Cu).catch(vS);var xu=(...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t};var lr=async e=>{let t=await Fs(e);return xu(t.configFile,t.credentialsFile)};var Su=require("url");var wu=require("buffer"),Eu=require("http");function Nt(e){return new Promise((t,r)=>{var o;let n=(0,Eu.request)({method:"GET",...e,hostname:(o=e.hostname)==null?void 0:o.replace(/^\[(.+)\]$/,"$1")});n.on("error",s=>{r(Object.assign(new Oe("Unable to connect to instance metadata service"),s)),n.destroy()}),n.on("timeout",()=>{r(new Oe("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",s=>{let{statusCode:i=400}=s;(i<200||300<=i)&&(r(Object.assign(new Oe("Error response received from instance metadata service"),{statusCode:i})),n.destroy());let a=[];s.on("data",c=>{a.push(c)}),s.on("end",()=>{t(wu.Buffer.concat(a)),n.destroy()})}),n.end()})}var zs=e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string",Us=e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration)});var $s=({maxRetries:e=0,timeout:t=1e3})=>({maxRetries:e,timeout:t});var fo=(e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r};var mo="AWS_CONTAINER_CREDENTIALS_FULL_URI",uo="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",bu="AWS_CONTAINER_AUTHORIZATION_TOKEN",js=(e={})=>{let{timeout:t,maxRetries:r}=$s(e);return()=>fo(async()=>{let n=await FS(),o=JSON.parse(await OS(t,n));if(!zs(o))throw new D("Invalid response received from instance metadata service.");return Us(o)},r)},OS=async(e,t)=>(process.env[bu]&&(t.headers={...t.headers,Authorization:process.env[bu]}),(await Nt({...t,timeout:e})).toString()),DS="169.254.170.2",BS={localhost:!0,"127.0.0.1":!0},MS={"http:":!0,"https:":!0},FS=async()=>{if(process.env[uo])return{hostname:DS,path:process.env[uo]};if(process.env[mo]){let e=(0,Su.parse)(process.env[mo]);if(!e.hostname||!(e.hostname in BS))throw new D(`${e.hostname} is not a valid container metadata service hostname`,!1);if(!e.protocol||!(e.protocol in MS))throw new D(`${e.protocol} is not a valid container metadata service protocol`,!1);return{...e,port:e.port?parseInt(e.port,10):void 0}}throw new D(`The container metadata credential provider cannot be used unless the ${uo} or ${mo} environment variable is set`,!1)};var ku=e=>async()=>{try{let t=e(process.env);if(t===void 0)throw new Error;return t}catch(t){throw new D(t.message||`Cannot load config from environment variables with getter: ${e}`)}};var Au=(e,{preferredFile:t="config",...r}={})=>async()=>{let n=He(r),{configFile:o,credentialsFile:s}=await Fs(r),i=s[n]||{},a=o[n]||{},c=t==="config"?{...i,...a}:{...a,...i};try{let d=e(c);if(d===void 0)throw new Error;return d}catch(d){throw new D(d.message||`Cannot load config for profile ${n} in SDK configuration files with getter: ${e}`)}};var LS=e=>typeof e=="function",_u=e=>LS(e)?async()=>await e():Yf(e);var H=({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>sr(ps(ku(e),Au(t,n),_u(r)));var ho;(function(e){e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]"})(ho||(ho={}));var zS="AWS_EC2_METADATA_SERVICE_ENDPOINT",US="ec2_metadata_service_endpoint",Ru={environmentVariableSelector:e=>e[zS],configFileSelector:e=>e[US],default:void 0};var fr;(function(e){e.IPv4="IPv4",e.IPv6="IPv6"})(fr||(fr={}));var $S="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",jS="ec2_metadata_service_endpoint_mode",Nu={environmentVariableSelector:e=>e[$S],configFileSelector:e=>e[jS],default:fr.IPv4};var po=async()=>Ne(await qS()||await KS()),qS=async()=>H(Ru)(),KS=async()=>{let e=await H(Nu)();switch(e){case fr.IPv4:return ho.IPv4;case fr.IPv6:return ho.IPv6;default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(fr)}`)}};var GS="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",Xa=(e,t)=>{let r=300+Math.floor(Math.random()*300),n=new Date(Date.now()+r*1e3);t.warn("Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(newExpiration)}.\nFor more information, please visit: "+GS);let o=e.originalExpiration??e.expiration;return{...e,...o?{originalExpiration:o}:{},expiration:n}};var Tu=(e,t={})=>{let r=(t==null?void 0:t.logger)||console,n;return async()=>{let o;try{o=await e(),o.expiration&&o.expiration.getTime()<Date.now()&&(o=Xa(o,r))}catch(s){if(n)r.warn("Credential renew failed: ",s),o=Xa(n,r);else throw s}return n=o,o}};var Iu="/latest/meta-data/iam/security-credentials/",HS="/latest/api/token",qs=(e={})=>Tu(VS(e),{logger:e.logger}),VS=e=>{let t=!1,{timeout:r,maxRetries:n}=$s(e),o=async(s,i)=>{let a=(await fo(async()=>{let c;try{c=await YS(i)}catch(d){throw d.statusCode===401&&(t=!1),d}return c},s)).trim();return fo(async()=>{let c;try{c=await QS(a,i)}catch(d){throw d.statusCode===401&&(t=!1),d}return c},s)};return async()=>{let s=await po();if(t)return o(n,{...s,timeout:r});{let i;try{i=(await WS({...s,timeout:r})).toString()}catch(a){if((a==null?void 0:a.statusCode)===400)throw Object.assign(a,{message:"EC2 Metadata token request returned error"});return(a.message==="TimeoutError"||[403,404,405].includes(a.statusCode))&&(t=!0),o(n,{...s,timeout:r})}return o(n,{...s,headers:{"x-aws-ec2-metadata-token":i},timeout:r})}}},WS=async e=>Nt({...e,path:HS,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),YS=async e=>(await Nt({...e,path:Iu})).toString(),QS=async(e,t)=>{let r=JSON.parse((await Nt({...t,path:Iu+e})).toString());if(!zs(r))throw new D("Invalid response received from instance metadata service.");return Us(r)};var Pu=(e,t)=>{let r={EcsContainer:js,Ec2InstanceMetadata:qs,Environment:Os};if(e in r)return r[e]();throw new D(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`)};var vu=e=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(XS(e)||JS(e)),XS=e=>typeof e.source_profile=="string"&&typeof e.credential_source>"u",JS=e=>typeof e.credential_source=="string"&&typeof e.source_profile>"u",Ou=async(e,t,r,n={})=>{let o=t[e];if(!r.roleAssumer)throw new D(`Profile ${e} requires a role to be assumed, but no role assumption callback was provided.`,!1);let{source_profile:s}=o;if(s&&s in n)throw new D(`Detected a cycle attempting to resolve credentials for profile ${He(r)}. Profiles visited: `+Object.keys(n).join(", "),!1);let i=s?Ks(s,t,r,{...n,[s]:!0}):Pu(o.credential_source,e)(),a={RoleArn:o.role_arn,RoleSessionName:o.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:o.external_id},{mfa_serial:c}=o;if(c){if(!r.mfaCodeProvider)throw new D(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,!1);a.SerialNumber=c,a.TokenCode=await r.mfaCodeProvider(c)}let d=await i;return r.roleAssumer(d,a)};var Bu=require("child_process"),Mu=require("util");var Du=(e,t)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let r=new Date;if(new Date(t.Expiration)<r)throw Error(`Profile ${e} credential_process returned expired credentials.`)}return{accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)}}};var Fu=async(e,t)=>{let r=t[e];if(t[e]){let n=r.credential_process;if(n!==void 0){let o=(0,Mu.promisify)(Bu.exec);try{let{stdout:s}=await o(n),i;try{i=JSON.parse(s.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return Du(e,i)}catch(s){throw new D(s.message)}}else throw new D(`Profile ${e} did not contain credential_process.`)}else throw new D(`Profile ${e} could not be found in shared credentials file.`)};var Gs=(e={})=>async()=>{let t=await lr(e);return Fu(He(e),t)};var Lu=e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string",zu=async(e,t)=>Gs({...e,profile:t})();var yo=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string");var et=class extends qe{constructor(t){super(t),Object.setPrototypeOf(this,et.prototype)}};var wn=class extends et{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,wn.prototype)}},En=class extends et{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,En.prototype)}},bn=class extends et{constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,bn.prototype)}},Sn=class extends et{constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),this.name="UnauthorizedException",this.$fault="client",Object.setPrototypeOf(this,Sn.prototype)}},Uu=e=>({...e,...e.accessToken&&{accessToken:kr}}),ZS=e=>({...e,...e.secretAccessKey&&{secretAccessKey:kr},...e.sessionToken&&{sessionToken:kr}}),$u=e=>({...e,...e.roleCredentials&&{roleCredentials:ZS(e.roleCredentials)}});var ju=async(e,t)=>{let{hostname:r,protocol:n="https",port:o,path:s}=await t.endpoint(),i=Tr({},c0,{"x-amz-sso_bearer_token":e.accessToken}),a=`${s!=null&&s.endsWith("/")?s.slice(0,-1):s||""}/federation/credentials`,c=Tr({role_name:[,Ie(e.roleName,"roleName")],account_id:[,Ie(e.accountId,"accountId")]}),d;return new q({protocol:n,hostname:r,port:o,method:"GET",headers:i,path:a,query:c,body:d})};var qu=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return e0(e,t);let r=Tr({$metadata:go(e)}),n=Ie(Yr(await Ku(e.body,t)),"body");return n.roleCredentials!=null&&(r.roleCredentials=s0(n.roleCredentials,t)),r},e0=async(e,t)=>{let r={...e,body:await d0(e.body,t)},n=l0(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await t0(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await r0(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await n0(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await o0(r,t);default:let o=r.body;it({output:e,parsedBody:o,exceptionCtor:et,errorCode:n})}};var Tr=Ar,t0=async(e,t)=>{let r=Tr({}),n=e.body;n.message!=null&&(r.message=N(n.message));let o=new wn({$metadata:go(e),...r});return W(o,e.body)},r0=async(e,t)=>{let r=Tr({}),n=e.body;n.message!=null&&(r.message=N(n.message));let o=new En({$metadata:go(e),...r});return W(o,e.body)},n0=async(e,t)=>{let r=Tr({}),n=e.body;n.message!=null&&(r.message=N(n.message));let o=new bn({$metadata:go(e),...r});return W(o,e.body)},o0=async(e,t)=>{let r=Tr({}),n=e.body;n.message!=null&&(r.message=N(n.message));let o=new Sn({$metadata:go(e),...r});return W(o,e.body)};var s0=(e,t)=>({accessKeyId:N(e.accessKeyId),expiration:Wr(e.expiration),secretAccessKey:N(e.secretAccessKey),sessionToken:N(e.sessionToken)});var go=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),i0=(e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),a0=(e,t)=>i0(e,t).then(r=>t.utf8Encoder(r)),c0=e=>e!=null&&e!==""&&(!Object.getOwnPropertyNames(e).includes("length")||e.length!=0)&&(!Object.getOwnPropertyNames(e).includes("size")||e.size!=0),Ku=(e,t)=>a0(e,t).then(r=>r.length?JSON.parse(r):{}),d0=async(e,t)=>{let r=await Ku(e,t);return r.message=r.message??r.Message,r},l0=(e,t)=>{let r=(s,i)=>Object.keys(s).find(a=>a.toLowerCase()===i.toLowerCase()),n=s=>{let i=s;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},o=r(e.headers,"x-amzn-errortype");if(o!==void 0)return n(e.headers[o]);if(t.code!==void 0)return n(t.code);if(t.__type!==void 0)return n(t.__type)};var kn=class extends Te{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use($e(r,this.serialize,this.deserialize)),this.middlewareStack.use(je(r,kn.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"SSOClient",commandName:"GetRoleCredentialsCommand",inputFilterSensitiveLog:Uu,outputFilterSensitiveLog:$u},{requestHandler:d}=r;return o.resolve(f=>d.handle(f.request,n||{}),c)}serialize(t,r){return ju(t,r)}deserialize(t,r){return qu(t,r)}};var Gu=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"});var Hu={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.309.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/config-resolver":"3.306.0","@aws-sdk/fetch-http-handler":"3.306.0","@aws-sdk/hash-node":"3.306.0","@aws-sdk/invalid-dependency":"3.306.0","@aws-sdk/middleware-content-length":"3.306.0","@aws-sdk/middleware-endpoint":"3.306.0","@aws-sdk/middleware-host-header":"3.306.0","@aws-sdk/middleware-logger":"3.306.0","@aws-sdk/middleware-recursion-detection":"3.306.0","@aws-sdk/middleware-retry":"3.306.0","@aws-sdk/middleware-serde":"3.306.0","@aws-sdk/middleware-stack":"3.306.0","@aws-sdk/middleware-user-agent":"3.306.0","@aws-sdk/node-config-provider":"3.306.0","@aws-sdk/node-http-handler":"3.306.0","@aws-sdk/protocol-http":"3.306.0","@aws-sdk/smithy-client":"3.309.0","@aws-sdk/types":"3.306.0","@aws-sdk/url-parser":"3.306.0","@aws-sdk/util-base64":"3.303.0","@aws-sdk/util-body-length-browser":"3.303.0","@aws-sdk/util-body-length-node":"3.303.0","@aws-sdk/util-defaults-mode-browser":"3.309.0","@aws-sdk/util-defaults-mode-node":"3.309.0","@aws-sdk/util-endpoints":"3.306.0","@aws-sdk/util-retry":"3.306.0","@aws-sdk/util-user-agent-browser":"3.306.0","@aws-sdk/util-user-agent-node":"3.306.0","@aws-sdk/util-utf8":"3.303.0",tslib:"^2.5.0"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.303.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}};var Wu=require("buffer"),Hs=require("crypto"),Ve=class{constructor(t,r){this.algorithmIdentifier=t,this.secret=r,this.reset()}update(t,r){this.hash.update(ve(Vu(t,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,Hs.createHmac)(this.algorithmIdentifier,Vu(this.secret)):(0,Hs.createHash)(this.algorithmIdentifier)}};function Vu(e,t){return Wu.Buffer.isBuffer(e)?e:typeof e=="string"?tn(e,t):ArrayBuffer.isView(e)?At(e.buffer,e.byteOffset,e.byteLength):At(e)}function Ja(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=ut(r),Array.isArray(n))for(let o=0,s=n.length;o<s;o++)t.push(`${r}=${ut(n[o])}`);else{let o=r;(n||typeof n=="string")&&(o+=`=${ut(n)}`),t.push(o)}}return t.join("&")}var Vs=require("http"),Ws=require("https");var Yu=["ECONNRESET","EPIPE","ETIMEDOUT"];var Za=e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t};var Xu=require("stream");function ec(e,t){(t.headers.Expect||t.headers.expect)==="100-continue"?e.on("continue",()=>{Qu(e,t.body)}):Qu(e,t.body)}function Qu(e,t){t instanceof Xu.Readable?t.pipe(e):t?e.end(Buffer.from(t)):e.end()}var Ju=0,ht=class{constructor(t){this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(this.resolveDefaultConfig(o))}).catch(n):r(this.resolveDefaultConfig(t))})}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:o,httpAgent:s,httpsAgent:i}=t||{},a=!0,c=50;return{connectionTimeout:n,socketTimeout:o,requestTimeout:r??n??o??Ju,httpAgent:s||new Vs.Agent({keepAlive:a,maxSockets:c}),httpsAgent:i||new Ws.Agent({keepAlive:a,maxSockets:c})}}destroy(){var t,r,n,o;(r=(t=this.config)==null?void 0:t.httpAgent)==null||r.destroy(),(o=(n=this.config)==null?void 0:n.httpsAgent)==null||o.destroy()}async handle(t,{abortSignal:r}={}){return this.config||(this.config=await this.configProvider),new Promise((n,o)=>{var h;if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(r!=null&&r.aborted){let p=new Error("Request aborted");p.name="AbortError",o(p);return}let s=t.protocol==="https:",i=Ja(t.query||{}),a={headers:t.headers,host:t.hostname,method:t.method,path:i?`${t.path}?${i}`:t.path,port:t.port,agent:s?this.config.httpsAgent:this.config.httpAgent},d=(s?Ws.request:Vs.request)(a,p=>{let E=new Je({statusCode:p.statusCode||-1,headers:Za(p.headers),body:p});n({response:E})});d.on("error",p=>{Yu.includes(p.code)?o(Object.assign(p,{name:"TimeoutError"})):o(p)});let f=((h=this.config)==null?void 0:h.requestTimeout)??Ju;d.setTimeout(f,()=>{d.destroy(),o(Object.assign(new Error(`Connection timed out after ${f} ms`),{name:"TimeoutError"}))}),r&&(r.onabort=()=>{d.abort();let p=new Error("Request aborted");p.name="AbortError",o(p)}),ec(d,t)})}};var tc=class{constructor(t){this.sessions=[],this.sessions=t??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(t){this.sessions.push(t)}contains(t){return this.sessions.includes(t)}remove(t){this.sessions=this.sessions.filter(r=>r!==t)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(t){for(let r of this.sessions)r===t&&(r.destroyed||r.destroy())}};var Zu=require("stream"),Ys=class extends Zu.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}_write(t,r,n){this.bufferedBytes.push(t),n()}};var pt=e=>new Promise((t,r)=>{let n=new Ys;e.pipe(n),e.on("error",o=>{n.end(),r(o)}),n.on("error",r),n.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.bufferedBytes));t(o)})});var Qs=require("fs"),mr=e=>{if(!e)return 0;if(typeof e=="string")return Buffer.from(e).length;if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.path=="string"||Buffer.isBuffer(e.path))return(0,Qs.lstatSync)(e.path).size;if(typeof e.fd=="number")return(0,Qs.fstatSync)(e.fd).size;throw new Error(`Body Length computation failed for ${e}`)};var Xs=require("os"),Co=require("process");var eh=()=>{try{return typeof require=="function"&&typeof module<"u"&&require("aws-crt")?["md/crt-avail"]:null}catch{return null}};var m0="AWS_SDK_UA_APP_ID",u0="sdk-ua-app-id",ur=({serviceId:e,clientVersion:t})=>{let r=[["aws-sdk-js",t],[`os/${(0,Xs.platform)()}`,(0,Xs.release)()],["lang/js"],["md/nodejs",`${Co.versions.node}`]],n=eh();n&&r.push(n),e&&r.push([`api/${e}`,t]),Co.env.AWS_EXECUTION_ENV&&r.push([`exec-env/${Co.env.AWS_EXECUTION_ENV}`]);let o=H({environmentVariableSelector:i=>i[m0],configFileSelector:i=>i[u0],default:void 0})(),s;return async()=>{if(!s){let i=await o;s=i?[...r,[`app/${i}`]]:[...r]}return s}};var h0=/^[A-Za-z0-9+/]*={0,2}$/,hr=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!h0.exec(e))throw new TypeError("Invalid base64 string.");let t=tn(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};var pr=e=>At(e.buffer,e.byteOffset,e.byteLength).toString("base64");var ch="required",Tt="fn",It="argv",An="ref",rc="PartitionResult",yt="tree",xo="error",wo="endpoint",th={[ch]:!1,type:"String"},rh={[ch]:!0,default:!1,type:"Boolean"},dh={[An]:"Endpoint"},lh={[Tt]:"booleanEquals",[It]:[{[An]:"UseFIPS"},!0]},fh={[Tt]:"booleanEquals",[It]:[{[An]:"UseDualStack"},!0]},gt={},nh={[Tt]:"booleanEquals",[It]:[!0,{[Tt]:"getAttr",[It]:[{[An]:rc},"supportsFIPS"]}]},oh={[Tt]:"booleanEquals",[It]:[!0,{[Tt]:"getAttr",[It]:[{[An]:rc},"supportsDualStack"]}]},sh=[dh],ih=[lh],ah=[fh],p0={version:"1.0",parameters:{Region:th,UseDualStack:rh,UseFIPS:rh,Endpoint:th},rules:[{conditions:[{[Tt]:"aws.partition",[It]:[{[An]:"Region"}],assign:rc}],type:yt,rules:[{conditions:[{[Tt]:"isSet",[It]:sh},{[Tt]:"parseURL",[It]:sh,assign:"url"}],type:yt,rules:[{conditions:ih,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:xo},{type:yt,rules:[{conditions:ah,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:xo},{endpoint:{url:dh,properties:gt,headers:gt},type:wo}]}]},{conditions:[lh,fh],type:yt,rules:[{conditions:[nh,oh],type:yt,rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:gt,headers:gt},type:wo}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:xo}]},{conditions:ih,type:yt,rules:[{conditions:[nh],type:yt,rules:[{type:yt,rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:gt,headers:gt},type:wo}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:xo}]},{conditions:ah,type:yt,rules:[{conditions:[oh],type:yt,rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:gt,headers:gt},type:wo}]},{error:"DualStack is enabled but this partition does not support DualStack",type:xo}]},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:gt,headers:gt},type:wo}]}]},mh=p0;var uh=(e,t={})=>cr(mh,{endpointParams:e,logger:t.logger});var hh=e=>({apiVersion:"2019-06-10",base64Decoder:(e==null?void 0:e.base64Decoder)??hr,base64Encoder:(e==null?void 0:e.base64Encoder)??pr,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??uh,logger:(e==null?void 0:e.logger)??new ot,serviceId:(e==null?void 0:e.serviceId)??"SSO",urlParser:(e==null?void 0:e.urlParser)??Ne,utf8Decoder:(e==null?void 0:e.utf8Decoder)??ct,utf8Encoder:(e==null?void 0:e.utf8Encoder)??Ht});var ph="AWS_EXECUTION_ENV",nc="AWS_REGION",oc="AWS_DEFAULT_REGION",yh="AWS_EC2_METADATA_DISABLED",gh=["in-region","cross-region","mobile","standard","legacy"],Ch="/latest/meta-data/placement/region";var y0="AWS_DEFAULTS_MODE",g0="defaults_mode",xh={environmentVariableSelector:e=>e[y0],configFileSelector:e=>e[g0],default:"legacy"};var yr=({region:e=H(lt),defaultsMode:t=H(xh)}={})=>sr(async()=>{let r=typeof t=="function"?await t():t;switch(r==null?void 0:r.toLowerCase()){case"auto":return C0(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r==null?void 0:r.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${gh.join(", ")}, got ${r}`)}}),C0=async e=>{if(e){let t=typeof e=="function"?await e():e,r=await x0();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},x0=async()=>{if(process.env[ph]&&(process.env[nc]||process.env[oc]))return process.env[nc]??process.env[oc];if(!process.env[yh])try{let e=await po();return(await Nt({...e,path:Ch})).toString()}catch{}};var wh=e=>{jt(process.version);let t=yr(e),r=()=>t().then($t),n=hh(e);return{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??mr,defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??ur({serviceId:n.serviceId,clientVersion:Hu.version}),maxAttempts:(e==null?void 0:e.maxAttempts)??H(tr),region:(e==null?void 0:e.region)??H(lt,Yt),requestHandler:(e==null?void 0:e.requestHandler)??new ht(r),retryMode:(e==null?void 0:e.retryMode)??H({...nr,default:async()=>(await r()).retryMode||mt}),sha256:(e==null?void 0:e.sha256)??Ve.bind(null,"sha256"),streamCollector:(e==null?void 0:e.streamCollector)??pt,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??H(Vt),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??H(Wt)}};var Js=class extends st{constructor(t){let r=wh(t),n=Gu(r),o=Qt(n),s=zt(o),i=rr(s),a=i,c=ir(a);super(c),this.config=c,this.middlewareStack.use(or(this.config)),this.middlewareStack.use(Xt(this.config)),this.middlewareStack.use(Jt(this.config)),this.middlewareStack.use(Zt(this.config)),this.middlewareStack.use(er(this.config)),this.middlewareStack.use(dr(this.config))}destroy(){super.destroy()}};var _n="To refresh this SSO session run 'aws sso login' with the corresponding profile.";var me=class extends qe{constructor(t){super(t),Object.setPrototypeOf(this,me.prototype)}};var Rn=class extends me{constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,Rn.prototype),this.error=t.error,this.error_description=t.error_description}},Nn=class extends me{constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),this.name="AuthorizationPendingException",this.$fault="client",Object.setPrototypeOf(this,Nn.prototype),this.error=t.error,this.error_description=t.error_description}},Tn=class extends me{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,Tn.prototype),this.error=t.error,this.error_description=t.error_description}},In=class extends me{constructor(t){super({name:"InternalServerException",$fault:"server",...t}),this.name="InternalServerException",this.$fault="server",Object.setPrototypeOf(this,In.prototype),this.error=t.error,this.error_description=t.error_description}},Pn=class extends me{constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),this.name="InvalidClientException",this.$fault="client",Object.setPrototypeOf(this,Pn.prototype),this.error=t.error,this.error_description=t.error_description}},vn=class extends me{constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),this.name="InvalidGrantException",this.$fault="client",Object.setPrototypeOf(this,vn.prototype),this.error=t.error,this.error_description=t.error_description}},On=class extends me{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,On.prototype),this.error=t.error,this.error_description=t.error_description}},Dn=class extends me{constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),this.name="InvalidScopeException",this.$fault="client",Object.setPrototypeOf(this,Dn.prototype),this.error=t.error,this.error_description=t.error_description}},Bn=class extends me{constructor(t){super({name:"SlowDownException",$fault:"client",...t}),this.name="SlowDownException",this.$fault="client",Object.setPrototypeOf(this,Bn.prototype),this.error=t.error,this.error_description=t.error_description}},Mn=class extends me{constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),this.name="UnauthorizedClientException",this.$fault="client",Object.setPrototypeOf(this,Mn.prototype),this.error=t.error,this.error_description=t.error_description}},Fn=class extends me{constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),this.name="UnsupportedGrantTypeException",this.$fault="client",Object.setPrototypeOf(this,Fn.prototype),this.error=t.error,this.error_description=t.error_description}};var Eh=async(e,t)=>{let{hostname:r,protocol:n="https",port:o,path:s}=await t.endpoint(),i={"content-type":"application/json"},a=`${s!=null&&s.endsWith("/")?s.slice(0,-1):s||""}/token`,c;return c=JSON.stringify({...e.clientId!=null&&{clientId:e.clientId},...e.clientSecret!=null&&{clientSecret:e.clientSecret},...e.code!=null&&{code:e.code},...e.deviceCode!=null&&{deviceCode:e.deviceCode},...e.grantType!=null&&{grantType:e.grantType},...e.redirectUri!=null&&{redirectUri:e.redirectUri},...e.refreshToken!=null&&{refreshToken:e.refreshToken},...e.scope!=null&&{scope:v0(e.scope,t)}}),new q({protocol:n,hostname:r,port:o,method:"POST",headers:i,path:a,body:c})};var bh=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return w0(e,t);let r=We({$metadata:Ye(e)}),n=Ie(Yr(await Sh(e.body,t)),"body");return n.accessToken!=null&&(r.accessToken=N(n.accessToken)),n.expiresIn!=null&&(r.expiresIn=Go(n.expiresIn)),n.idToken!=null&&(r.idToken=N(n.idToken)),n.refreshToken!=null&&(r.refreshToken=N(n.refreshToken)),n.tokenType!=null&&(r.tokenType=N(n.tokenType)),r},w0=async(e,t)=>{let r={...e,body:await B0(e.body,t)},n=M0(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await E0(r,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await b0(r,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await S0(r,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await k0(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await A0(r,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await _0(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await R0(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await N0(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await T0(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await I0(r,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await P0(r,t);default:let o=r.body;it({output:e,parsedBody:o,exceptionCtor:me,errorCode:n})}};var We=Ar,E0=async(e,t)=>{let r=We({}),n=e.body;n.error!=null&&(r.error=N(n.error)),n.error_description!=null&&(r.error_description=N(n.error_description));let o=new Rn({$metadata:Ye(e),...r});return W(o,e.body)},b0=async(e,t)=>{let r=We({}),n=e.body;n.error!=null&&(r.error=N(n.error)),n.error_description!=null&&(r.error_description=N(n.error_description));let o=new Nn({$metadata:Ye(e),...r});return W(o,e.body)},S0=async(e,t)=>{let r=We({}),n=e.body;n.error!=null&&(r.error=N(n.error)),n.error_description!=null&&(r.error_description=N(n.error_description));let o=new Tn({$metadata:Ye(e),...r});return W(o,e.body)},k0=async(e,t)=>{let r=We({}),n=e.body;n.error!=null&&(r.error=N(n.error)),n.error_description!=null&&(r.error_description=N(n.error_description));let o=new In({$metadata:Ye(e),...r});return W(o,e.body)},A0=async(e,t)=>{let r=We({}),n=e.body;n.error!=null&&(r.error=N(n.error)),n.error_description!=null&&(r.error_description=N(n.error_description));let o=new Pn({$metadata:Ye(e),...r});return W(o,e.body)};var _0=async(e,t)=>{let r=We({}),n=e.body;n.error!=null&&(r.error=N(n.error)),n.error_description!=null&&(r.error_description=N(n.error_description));let o=new vn({$metadata:Ye(e),...r});return W(o,e.body)},R0=async(e,t)=>{let r=We({}),n=e.body;n.error!=null&&(r.error=N(n.error)),n.error_description!=null&&(r.error_description=N(n.error_description));let o=new On({$metadata:Ye(e),...r});return W(o,e.body)},N0=async(e,t)=>{let r=We({}),n=e.body;n.error!=null&&(r.error=N(n.error)),n.error_description!=null&&(r.error_description=N(n.error_description));let o=new Dn({$metadata:Ye(e),...r});return W(o,e.body)},T0=async(e,t)=>{let r=We({}),n=e.body;n.error!=null&&(r.error=N(n.error)),n.error_description!=null&&(r.error_description=N(n.error_description));let o=new Bn({$metadata:Ye(e),...r});return W(o,e.body)},I0=async(e,t)=>{let r=We({}),n=e.body;n.error!=null&&(r.error=N(n.error)),n.error_description!=null&&(r.error_description=N(n.error_description));let o=new Mn({$metadata:Ye(e),...r});return W(o,e.body)},P0=async(e,t)=>{let r=We({}),n=e.body;n.error!=null&&(r.error=N(n.error)),n.error_description!=null&&(r.error_description=N(n.error_description));let o=new Fn({$metadata:Ye(e),...r});return W(o,e.body)},v0=(e,t)=>e.filter(r=>r!=null).map(r=>r),Ye=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),O0=(e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),D0=(e,t)=>O0(e,t).then(r=>t.utf8Encoder(r));var Sh=(e,t)=>D0(e,t).then(r=>r.length?JSON.parse(r):{}),B0=async(e,t)=>{let r=await Sh(e,t);return r.message=r.message??r.Message,r},M0=(e,t)=>{let r=(s,i)=>Object.keys(s).find(a=>a.toLowerCase()===i.toLowerCase()),n=s=>{let i=s;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},o=r(e.headers,"x-amzn-errortype");if(o!==void 0)return n(e.headers[o]);if(t.code!==void 0)return n(t.code);if(t.__type!==void 0)return n(t.__type)};var Ln=class extends Te{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use($e(r,this.serialize,this.deserialize)),this.middlewareStack.use(je(r,Ln.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"SSOOIDCClient",commandName:"CreateTokenCommand",inputFilterSensitiveLog:f=>f,outputFilterSensitiveLog:f=>f},{requestHandler:d}=r;return o.resolve(f=>d.handle(f.request,n||{}),c)}serialize(t,r){return Eh(t,r)}deserialize(t,r){return bh(t,r)}};var kh=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssooidc"});var Ah={name:"@aws-sdk/client-sso-oidc",description:"AWS SDK for JavaScript Sso Oidc Client for Node.js, Browser and React Native",version:"3.309.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso-oidc"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/config-resolver":"3.306.0","@aws-sdk/fetch-http-handler":"3.306.0","@aws-sdk/hash-node":"3.306.0","@aws-sdk/invalid-dependency":"3.306.0","@aws-sdk/middleware-content-length":"3.306.0","@aws-sdk/middleware-endpoint":"3.306.0","@aws-sdk/middleware-host-header":"3.306.0","@aws-sdk/middleware-logger":"3.306.0","@aws-sdk/middleware-recursion-detection":"3.306.0","@aws-sdk/middleware-retry":"3.306.0","@aws-sdk/middleware-serde":"3.306.0","@aws-sdk/middleware-stack":"3.306.0","@aws-sdk/middleware-user-agent":"3.306.0","@aws-sdk/node-config-provider":"3.306.0","@aws-sdk/node-http-handler":"3.306.0","@aws-sdk/protocol-http":"3.306.0","@aws-sdk/smithy-client":"3.309.0","@aws-sdk/types":"3.306.0","@aws-sdk/url-parser":"3.306.0","@aws-sdk/util-base64":"3.303.0","@aws-sdk/util-body-length-browser":"3.303.0","@aws-sdk/util-body-length-node":"3.303.0","@aws-sdk/util-defaults-mode-browser":"3.309.0","@aws-sdk/util-defaults-mode-node":"3.309.0","@aws-sdk/util-endpoints":"3.306.0","@aws-sdk/util-retry":"3.306.0","@aws-sdk/util-user-agent-browser":"3.306.0","@aws-sdk/util-user-agent-node":"3.306.0","@aws-sdk/util-utf8":"3.303.0",tslib:"^2.5.0"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.303.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso-oidc",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso-oidc"}};var Oh="required",Pt="fn",vt="argv",zn="ref",ic="PartitionResult",Ct="tree",Eo="error",bo="endpoint",_h={[Oh]:!1,type:"String"},Rh={[Oh]:!0,default:!1,type:"Boolean"},Dh={[zn]:"Endpoint"},Bh={[Pt]:"booleanEquals",[vt]:[{[zn]:"UseFIPS"},!0]},Mh={[Pt]:"booleanEquals",[vt]:[{[zn]:"UseDualStack"},!0]},xt={},Nh={[Pt]:"booleanEquals",[vt]:[!0,{[Pt]:"getAttr",[vt]:[{[zn]:ic},"supportsFIPS"]}]},Th={[Pt]:"booleanEquals",[vt]:[!0,{[Pt]:"getAttr",[vt]:[{[zn]:ic},"supportsDualStack"]}]},Ih=[Dh],Ph=[Bh],vh=[Mh],L0={version:"1.0",parameters:{Region:_h,UseDualStack:Rh,UseFIPS:Rh,Endpoint:_h},rules:[{conditions:[{[Pt]:"aws.partition",[vt]:[{[zn]:"Region"}],assign:ic}],type:Ct,rules:[{conditions:[{[Pt]:"isSet",[vt]:Ih},{[Pt]:"parseURL",[vt]:Ih,assign:"url"}],type:Ct,rules:[{conditions:Ph,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Eo},{type:Ct,rules:[{conditions:vh,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Eo},{endpoint:{url:Dh,properties:xt,headers:xt},type:bo}]}]},{conditions:[Bh,Mh],type:Ct,rules:[{conditions:[Nh,Th],type:Ct,rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:xt,headers:xt},type:bo}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Eo}]},{conditions:Ph,type:Ct,rules:[{conditions:[Nh],type:Ct,rules:[{type:Ct,rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:xt,headers:xt},type:bo}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:Eo}]},{conditions:vh,type:Ct,rules:[{conditions:[Th],type:Ct,rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:xt,headers:xt},type:bo}]},{error:"DualStack is enabled but this partition does not support DualStack",type:Eo}]},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:xt,headers:xt},type:bo}]}]},Fh=L0;var Lh=(e,t={})=>cr(Fh,{endpointParams:e,logger:t.logger});var zh=e=>({apiVersion:"2019-06-10",base64Decoder:(e==null?void 0:e.base64Decoder)??hr,base64Encoder:(e==null?void 0:e.base64Encoder)??pr,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??Lh,logger:(e==null?void 0:e.logger)??new ot,serviceId:(e==null?void 0:e.serviceId)??"SSO OIDC",urlParser:(e==null?void 0:e.urlParser)??Ne,utf8Decoder:(e==null?void 0:e.utf8Decoder)??ct,utf8Encoder:(e==null?void 0:e.utf8Encoder)??Ht});var Uh=e=>{jt(process.version);let t=yr(e),r=()=>t().then($t),n=zh(e);return{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??mr,defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??ur({serviceId:n.serviceId,clientVersion:Ah.version}),maxAttempts:(e==null?void 0:e.maxAttempts)??H(tr),region:(e==null?void 0:e.region)??H(lt,Yt),requestHandler:(e==null?void 0:e.requestHandler)??new ht(r),retryMode:(e==null?void 0:e.retryMode)??H({...nr,default:async()=>(await r()).retryMode||mt}),sha256:(e==null?void 0:e.sha256)??Ve.bind(null,"sha256"),streamCollector:(e==null?void 0:e.streamCollector)??pt,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??H(Vt),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??H(Wt)}};var Zs=class extends st{constructor(t){let r=Uh(t),n=kh(r),o=Qt(n),s=zt(o),i=rr(s),a=i,c=ir(a);super(c),this.config=c,this.middlewareStack.use(or(this.config)),this.middlewareStack.use(Xt(this.config)),this.middlewareStack.use(Jt(this.config)),this.middlewareStack.use(Zt(this.config)),this.middlewareStack.use(er(this.config)),this.middlewareStack.use(dr(this.config))}destroy(){super.destroy()}};var ac={},$h=e=>{if(ac[e])return ac[e];let t=new Zs({region:e});return ac[e]=t,t};var jh=(e,t)=>$h(t).send(new Ln({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}));var cc=e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new De(`Token is expired. ${_n}`,!1)};var gr=(e,t,r=!1)=>{if(typeof t>"u")throw new De(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${_n}`,!1)};var qh=require("fs"),{writeFile:z0}=qh.promises,Kh=(e,t)=>{let r=Ds(e),n=JSON.stringify(t,null,2);return z0(r,n)};var Gh=new Date(0),Hh=(e={})=>async()=>{let t=await lr(e),r=He(e),n=t[r];if(n){if(!n.sso_session)throw new De(`Profile '${r}' is missing required property 'sso_session'.`)}else throw new De(`Profile '${r}' could not be found in shared credentials file.`,!1);let o=n.sso_session,i=(await Ls(e))[o];if(!i)throw new De(`Sso session '${o}' could not be found in shared credentials file.`,!1);for(let E of["sso_start_url","sso_region"])if(!i[E])throw new De(`Sso session '${o}' is missing required property '${E}'.`,!1);let a=i.sso_start_url,c=i.sso_region,d;try{d=await Bs(o)}catch{throw new De(`The SSO session token associated with profile=${r} was not found or is invalid. ${_n}`,!1)}gr("accessToken",d.accessToken),gr("expiresAt",d.expiresAt);let{accessToken:f,expiresAt:h}=d,p={token:f,expiration:new Date(h)};if(p.expiration.getTime()-Date.now()>3e5)return p;if(Date.now()-Gh.getTime()<30*1e3)return cc(p),p;gr("clientId",d.clientId,!0),gr("clientSecret",d.clientSecret,!0),gr("refreshToken",d.refreshToken,!0);try{Gh.setTime(Date.now());let E=await jh(d,c);gr("accessToken",E.accessToken),gr("expiresIn",E.expiresIn);let b=new Date(Date.now()+E.expiresIn*1e3);try{await Kh(o,{...d,accessToken:E.accessToken,expiresAt:b.toISOString(),refreshToken:E.refreshToken})}catch{}return{token:E.accessToken,expiration:b}}catch{return cc(p),p}};var $0=15*60*1e3,So=!1,dc=async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoClient:s,profile:i})=>{let a,c="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let v=await Hh({profile:i})();a={accessToken:v.token,expiresAt:new Date(v.expiration).toISOString()}}catch(v){throw new D(v.message,So)}else try{a=await Bs(e)}catch{throw new D(`The SSO session associated with this profile is invalid. ${c}`,So)}if(new Date(a.expiresAt).getTime()-Date.now()<=$0)throw new D(`The SSO session associated with this profile has expired. ${c}`,So);let{accessToken:d}=a,f=s||new Js({region:n}),h;try{h=await f.send(new kn({accountId:r,roleName:o,accessToken:d}))}catch(v){throw D.from(v,So)}let{roleCredentials:{accessKeyId:p,secretAccessKey:E,sessionToken:b,expiration:T}={}}=h;if(!p||!E||!b||!T)throw new D("SSO returns an invalid temporary credential.",So);return{accessKeyId:p,secretAccessKey:E,sessionToken:b,expiration:new Date(T)}};var ei=e=>{let{sso_start_url:t,sso_account_id:r,sso_region:n,sso_role_name:o}=e;if(!t||!r||!n||!o)throw new D(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,!1);return e};var ti=(e={})=>async()=>{let{ssoStartUrl:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoClient:s,ssoSession:i}=e,a=He(e);if(!t&&!r&&!n&&!o&&!i){let d=(await lr(e))[a];if(!d)throw new D(`Profile ${a} was not found.`);if(!yo(d))throw new D(`Profile ${a} is not configured with SSO credentials.`);if(d!=null&&d.sso_session){let v=(await Ls(e))[d.sso_session],Fe=` configurations in profile ${a} and sso-session ${d.sso_session}`;if(n&&n!==v.sso_region)throw new D("Conflicting SSO region"+Fe,!1);if(t&&t!==v.sso_start_url)throw new D("Conflicting SSO start_url"+Fe,!1);d.sso_region=v.sso_region,d.sso_start_url=v.sso_start_url}let{sso_start_url:f,sso_account_id:h,sso_region:p,sso_role_name:E,sso_session:b}=ei(d);return dc({ssoStartUrl:f,ssoSession:b,ssoAccountId:h,ssoRegion:p,ssoRoleName:E,ssoClient:s,profile:a})}else{if(!t||!r||!n||!o)throw new D('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"');return dc({ssoStartUrl:t,ssoSession:i,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoClient:s,profile:a})}};var Vh=e=>{let{sso_start_url:t,sso_account_id:r,sso_session:n,sso_region:o,sso_role_name:s}=ei(e);return ti({ssoStartUrl:t,ssoAccountId:r,ssoSession:n,ssoRegion:o,ssoRoleName:s})()};var lc=e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1,fc=e=>Promise.resolve({accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token});var Yh=require("fs");var Wh=e=>()=>{let{roleArn:t,roleSessionName:r,webIdentityToken:n,providerId:o,policyArns:s,policy:i,durationSeconds:a,roleAssumerWithWebIdentity:c}=e;if(!c)throw new D(`Role Arn '${t}' needs to be assumed with web identity, but no role assumption callback was provided.`,!1);return c({RoleArn:t,RoleSessionName:r??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:n,ProviderId:o,PolicyArns:s,Policy:i,DurationSeconds:a})};var j0="AWS_WEB_IDENTITY_TOKEN_FILE",q0="AWS_ROLE_ARN",K0="AWS_ROLE_SESSION_NAME",ri=(e={})=>async()=>G0(e),G0=e=>{let t=(e==null?void 0:e.webIdentityTokenFile)??process.env[j0],r=(e==null?void 0:e.roleArn)??process.env[q0],n=(e==null?void 0:e.roleSessionName)??process.env[K0];if(!t||!r)throw new D("Web identity configuration not specified");return Wh({...e,webIdentityToken:(0,Yh.readFileSync)(t,{encoding:"ascii"}),roleArn:r,roleSessionName:n})()};var Qh=e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,Xh=async(e,t)=>ri({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity})();var Ks=async(e,t,r,n={})=>{let o=t[e];if(Object.keys(n).length>0&&lc(o))return fc(o);if(vu(o))return Ou(e,t,r,n);if(lc(o))return fc(o);if(Qh(o))return Xh(o,r);if(Lu(o))return zu(r,e);if(yo(o))return Vh(o);throw new D(`Profile ${e} could not be found or parsed in shared credentials file.`)};var Jh=(e={})=>async()=>{let t=await lr(e);return Ks(He(e),t,e)};var H0="AWS_EC2_METADATA_DISABLED",Zh=e=>process.env[uo]||process.env[mo]?js(e):process.env[H0]?async()=>{throw new D("EC2 Instance Metadata Service access disabled")}:qs(e);var ni=(e={})=>sr(ps(...e.profile||process.env[Ya]?[]:[Os()],ti(e),Jh(e),Gs(e),ri(e),Zh(e),async()=>{throw new D("Could not load credentials from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0);var cp="required",$="type",Y="fn",Q="argv",Cr="ref",Ir="properties",Pr="headers";var uc="PartitionResult",Qe="tree",vr="booleanEquals",ge="stringEquals",dp="sigv4",lp="us-east-1",fp="sts",ne="endpoint",mp="https://sts.{Region}.{PartitionResult#dnsSuffix}",ko="error",hc="getAttr",ep={[cp]:!1,[$]:"String"},mc={[cp]:!0,default:!1,[$]:"Boolean"},Ce={[Cr]:"Region"},up={[Cr]:"UseFIPS"},hp={[Cr]:"UseDualStack"},tp={[Y]:"isSet",[Q]:[{[Cr]:"Endpoint"}]},pp={[Cr]:"Endpoint"},xe={url:"https://sts.amazonaws.com",[Ir]:{authSchemes:[{name:dp,signingRegion:lp,signingName:fp}]},[Pr]:{}},Ot={},rp={conditions:[{[Y]:ge,[Q]:[Ce,"aws-global"]}],[ne]:xe,[$]:ne},yp={[Y]:vr,[Q]:[up,!0]},gp={[Y]:vr,[Q]:[hp,!0]},np={[Y]:vr,[Q]:[!0,{[Y]:hc,[Q]:[{[Cr]:uc},"supportsFIPS"]}]},Cp={[Cr]:uc},op={[Y]:vr,[Q]:[!0,{[Y]:hc,[Q]:[Cp,"supportsDualStack"]}]},sp={url:mp,[Ir]:{},[Pr]:{}},V0=[pp],ip=[yp],ap=[gp],W0={version:"1.0",parameters:{Region:ep,UseDualStack:mc,UseFIPS:mc,Endpoint:ep,UseGlobalEndpoint:mc},rules:[{conditions:[{[Y]:"aws.partition",[Q]:[Ce],assign:uc}],[$]:Qe,rules:[{conditions:[{[Y]:vr,[Q]:[{[Cr]:"UseGlobalEndpoint"},!0]},{[Y]:vr,[Q]:[up,!1]},{[Y]:vr,[Q]:[hp,!1]},{[Y]:"not",[Q]:[tp]}],[$]:Qe,rules:[{conditions:[{[Y]:ge,[Q]:[Ce,"ap-northeast-1"]}],endpoint:xe,[$]:ne},{conditions:[{[Y]:ge,[Q]:[Ce,"ap-south-1"]}],endpoint:xe,[$]:ne},{conditions:[{[Y]:ge,[Q]:[Ce,"ap-southeast-1"]}],endpoint:xe,[$]:ne},{conditions:[{[Y]:ge,[Q]:[Ce,"ap-southeast-2"]}],endpoint:xe,[$]:ne},rp,{conditions:[{[Y]:ge,[Q]:[Ce,"ca-central-1"]}],endpoint:xe,[$]:ne},{conditions:[{[Y]:ge,[Q]:[Ce,"eu-central-1"]}],endpoint:xe,[$]:ne},{conditions:[{[Y]:ge,[Q]:[Ce,"eu-north-1"]}],endpoint:xe,[$]:ne},{conditions:[{[Y]:ge,[Q]:[Ce,"eu-west-1"]}],endpoint:xe,[$]:ne},{conditions:[{[Y]:ge,[Q]:[Ce,"eu-west-2"]}],endpoint:xe,[$]:ne},{conditions:[{[Y]:ge,[Q]:[Ce,"eu-west-3"]}],endpoint:xe,[$]:ne},{conditions:[{[Y]:ge,[Q]:[Ce,"sa-east-1"]}],endpoint:xe,[$]:ne},{conditions:[{[Y]:ge,[Q]:[Ce,lp]}],endpoint:xe,[$]:ne},{conditions:[{[Y]:ge,[Q]:[Ce,"us-east-2"]}],endpoint:xe,[$]:ne},{conditions:[{[Y]:ge,[Q]:[Ce,"us-west-1"]}],endpoint:xe,[$]:ne},{conditions:[{[Y]:ge,[Q]:[Ce,"us-west-2"]}],endpoint:xe,[$]:ne},{endpoint:{url:mp,[Ir]:{authSchemes:[{name:dp,signingRegion:"{Region}",signingName:fp}]},[Pr]:Ot},[$]:ne}]},{conditions:[tp,{[Y]:"parseURL",[Q]:V0,assign:"url"}],[$]:Qe,rules:[{conditions:ip,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[$]:ko},{[$]:Qe,rules:[{conditions:ap,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[$]:ko},{endpoint:{url:pp,[Ir]:Ot,[Pr]:Ot},[$]:ne}]}]},{conditions:[yp,gp],[$]:Qe,rules:[{conditions:[np,op],[$]:Qe,rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",[Ir]:Ot,[Pr]:Ot},[$]:ne}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[$]:ko}]},{conditions:ip,[$]:Qe,rules:[{conditions:[np],[$]:Qe,rules:[{[$]:Qe,rules:[{conditions:[{[Y]:ge,[Q]:["aws-us-gov",{[Y]:hc,[Q]:[Cp,"name"]}]}],endpoint:sp,[$]:ne},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",[Ir]:Ot,[Pr]:Ot},[$]:ne}]}]},{error:"FIPS is enabled but this partition does not support FIPS",[$]:ko}]},{conditions:ap,[$]:Qe,rules:[{conditions:[op],[$]:Qe,rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",[Ir]:Ot,[Pr]:Ot},[$]:ne}]},{error:"DualStack is enabled but this partition does not support DualStack",[$]:ko}]},{[$]:Qe,rules:[rp,{endpoint:sp,[$]:ne}]}]}]},xp=W0;var wp=(e,t={})=>cr(xp,{endpointParams:e,logger:t.logger});var Ep=e=>({apiVersion:"2011-06-15",base64Decoder:(e==null?void 0:e.base64Decoder)??hr,base64Encoder:(e==null?void 0:e.base64Encoder)??pr,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??wp,logger:(e==null?void 0:e.logger)??new ot,serviceId:(e==null?void 0:e.serviceId)??"STS",urlParser:(e==null?void 0:e.urlParser)??Ne,utf8Decoder:(e==null?void 0:e.utf8Decoder)??ct,utf8Encoder:(e==null?void 0:e.utf8Encoder)??Ht});var bp=e=>{jt(process.version);let t=yr(e),r=()=>t().then($t),n=Ep(e);return{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??mr,credentialDefaultProvider:(e==null?void 0:e.credentialDefaultProvider)??ou(ni),defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??ur({serviceId:n.serviceId,clientVersion:tu.version}),maxAttempts:(e==null?void 0:e.maxAttempts)??H(tr),region:(e==null?void 0:e.region)??H(lt,Yt),requestHandler:(e==null?void 0:e.requestHandler)??new ht(r),retryMode:(e==null?void 0:e.retryMode)??H({...nr,default:async()=>(await r()).retryMode||mt}),sha256:(e==null?void 0:e.sha256)??Ve.bind(null,"sha256"),streamCollector:(e==null?void 0:e.streamCollector)??pt,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??H(Vt),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??H(Wt)}};var Or=class extends st{constructor(t){let r=bp(t),n=eu(r),o=Qt(n),s=zt(o),i=rr(s),a=i,c=Zm(a,{stsClientCtor:Or}),d=ir(c);super(d),this.config=d,this.middlewareStack.use(or(this.config)),this.middlewareStack.use(Xt(this.config)),this.middlewareStack.use(Jt(this.config)),this.middlewareStack.use(Zt(this.config)),this.middlewareStack.use(er(this.config)),this.middlewareStack.use(dr(this.config))}destroy(){super.destroy()}};var Sp=(e,t)=>t?class extends e{constructor(n){super(n);for(let o of t)this.middlewareStack.use(o)}}:e,Y0=(e={},t)=>Va(e,Sp(Or,t)),Q0=(e={},t)=>Wa(e,Sp(Or,t)),kp=e=>t=>e({roleAssumer:Y0(t),roleAssumerWithWebIdentity:Q0(t),...t});var Pp=rt(no());var xr=class{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,o=Math.abs(Math.round(t));n>-1&&o>0;n--,o/=256)r[n]=o;return t<0&&Ap(r),new xr(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&Ap(t),parseInt(ye(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function Ap(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}var oi=class{constructor(t,r){this.toUtf8=t,this.fromUtf8=r}format(t){let r=[];for(let s of Object.keys(t)){let i=this.fromUtf8(s);r.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(t[s]))}let n=new Uint8Array(r.reduce((s,i)=>s+i.byteLength,0)),o=0;for(let s of r)n.set(s,o),o+=s.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":let o=new Uint8Array(9);return o[0]=5,o.set(t.value.bytes,1),o;case"binary":let s=new DataView(new ArrayBuffer(3+t.value.byteLength));s.setUint8(0,6),s.setUint16(1,t.value.byteLength,!1);let i=new Uint8Array(s.buffer);return i.set(t.value,3),i;case"string":let a=this.fromUtf8(t.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);let d=new Uint8Array(c.buffer);return d.set(a,3),d;case"timestamp":let f=new Uint8Array(9);return f[0]=8,f.set(xr.fromNumber(t.value.valueOf()).bytes,1),f;case"uuid":if(!sk.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);let h=new Uint8Array(17);return h[0]=9,h.set(Xf(t.value.replace(/\-/g,"")),1),h}}parse(t){let r={},n=0;for(;n<t.byteLength;){let o=t.getUint8(n++),s=this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+n,o));switch(n+=o,t.getUint8(n++)){case 0:r[s]={type:Rp,value:!0};break;case 1:r[s]={type:Rp,value:!1};break;case 2:r[s]={type:X0,value:t.getInt8(n++)};break;case 3:r[s]={type:J0,value:t.getInt16(n,!1)},n+=2;break;case 4:r[s]={type:Z0,value:t.getInt32(n,!1)},n+=4;break;case 5:r[s]={type:ek,value:new xr(new Uint8Array(t.buffer,t.byteOffset+n,8))},n+=8;break;case 6:let i=t.getUint16(n,!1);n+=2,r[s]={type:tk,value:new Uint8Array(t.buffer,t.byteOffset+n,i)},n+=i;break;case 7:let a=t.getUint16(n,!1);n+=2,r[s]={type:rk,value:this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+n,a))},n+=a;break;case 8:r[s]={type:nk,value:new Date(new xr(new Uint8Array(t.buffer,t.byteOffset+n,8)).valueOf())},n+=8;break;case 9:let c=new Uint8Array(t.buffer,t.byteOffset+n,16);n+=16,r[s]={type:ok,value:`${ye(c.subarray(0,4))}-${ye(c.subarray(4,6))}-${ye(c.subarray(6,8))}-${ye(c.subarray(8,10))}-${ye(c.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return r}},_p;(function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"})(_p||(_p={}));var Rp="boolean",X0="byte",J0="short",Z0="integer",ek="long",tk="binary",rk="string",nk="timestamp",ok="uuid",sk=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;var Np=rt(no()),Tp=4,wr=Tp*2,Dr=4,ik=wr+Dr*2;function Ip({byteLength:e,byteOffset:t,buffer:r}){if(e<ik)throw new Error("Provided message too short to accommodate event stream message overhead");let n=new DataView(r,t,e),o=n.getUint32(0,!1);if(e!==o)throw new Error("Reported message length does not match received message length");let s=n.getUint32(Tp,!1),i=n.getUint32(wr,!1),a=n.getUint32(e-Dr,!1),c=new Np.Crc32().update(new Uint8Array(r,t,wr));if(i!==c.digest())throw new Error(`The prelude checksum specified in the message (${i}) does not match the calculated CRC32 checksum (${c.digest()})`);if(c.update(new Uint8Array(r,t+wr,e-(wr+Dr))),a!==c.digest())throw new Error(`The message checksum (${c.digest()}) did not match the expected value of ${a}`);return{headers:new DataView(r,t+wr+Dr,s),body:new Uint8Array(r,t+wr+Dr+s,o-s-(wr+Dr+Dr))}}var si=class{constructor(t,r){this.headerMarshaller=new oi(t,r)}encode({headers:t,body:r}){let n=this.headerMarshaller.format(t),o=n.byteLength+r.byteLength+16,s=new Uint8Array(o),i=new DataView(s.buffer,s.byteOffset,s.byteLength),a=new Pp.Crc32;return i.setUint32(0,o,!1),i.setUint32(4,n.byteLength,!1),i.setUint32(8,a.update(s.subarray(0,8)).digest(),!1),s.set(n,12),s.set(r,n.byteLength+12),i.setUint32(o-4,a.update(s.subarray(8,o-4)).digest(),!1),s}decode(t){let{headers:r,body:n}=Ip(t);return{headers:this.headerMarshaller.parse(r),body:n}}formatHeaders(t){return this.headerMarshaller.format(t)}};function vp(e){let t=0,r=0,n=null,o=null,s=a=>{if(typeof a!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+a);t=a,r=4,n=new Uint8Array(a),new DataView(n.buffer).setUint32(0,a,!1)},i=async function*(){let a=e[Symbol.asyncIterator]();for(;;){let{value:c,done:d}=await a.next();if(d){if(t)if(t===r)yield n;else throw new Error("Truncated event message received.");else return;return}let f=c.length,h=0;for(;h<f;){if(!n){let E=f-h;o||(o=new Uint8Array(4));let b=Math.min(4-r,E);if(o.set(c.slice(h,h+b),r),r+=b,h+=b,r<4)break;s(new DataView(o.buffer).getUint32(0,!1)),o=null}let p=Math.min(t-r,f-h);n.set(c.slice(h,h+p),r),r+=p,h+=p,t&&t===r&&(yield n,n=null,t=0,r=0)}}};return{[Symbol.asyncIterator]:i}}function Op(e,t){return{[Symbol.asyncIterator]:async function*(){for await(let r of e){let n=t.eventStreamCodec.decode(r),{value:o}=n.headers[":message-type"];if(o==="error"){let s=new Error(n.headers[":error-message"].value||"UnknownError");throw s.name=n.headers[":error-code"].value,s}else if(o==="exception"){let s=n.headers[":exception-type"].value,i={[s]:n},a=await t.deserializer(i);if(a.$unknown){let c=new Error(t.toUtf8(n.body));throw c.name=s,c}throw a[s]}else if(o==="event"){let s={[n.headers[":event-type"].value]:n},i=await t.deserializer(s);if(i.$unknown)continue;yield i}else throw Error(`Unrecognizable event type: ${n.headers[":event-type"].value}`)}}}}var Ao=class{constructor({utf8Encoder:t,utf8Decoder:r}){this.eventStreamCodec=new si(t,r),this.utfEncoder=t}deserialize(t,r){let n=vp(t);return Op(n,{eventStreamCodec:this.eventStreamCodec,deserializer:r,toUtf8:this.utfEncoder})}serialize(t,r){let n=this,o=async function*(){for await(let s of t)yield n.eventStreamCodec.encode(r(s));yield new Uint8Array(0)};return{[Symbol.asyncIterator]:o}}};var Bp=require("stream");async function*Dp(e){let t=!1,r=!1,n=new Array;for(e.on("error",o=>{if(t||(t=!0),o)throw o}),e.on("data",o=>{n.push(o)}),e.on("end",()=>{t=!0});!r;){let o=await new Promise(s=>setTimeout(()=>s(n.shift()),0));o&&(yield o),r=t&&n.length===0}}var ii=class{constructor({utf8Encoder:t,utf8Decoder:r}){this.universalMarshaller=new Ao({utf8Decoder:r,utf8Encoder:t})}deserialize(t,r){let n=typeof t[Symbol.asyncIterator]=="function"?t:Dp(t);return this.universalMarshaller.deserialize(n,r)}serialize(t,r){return Bp.Readable.from(this.universalMarshaller.serialize(t,r))}};var Mp=e=>new ii(e);var Fp=require("stream"),_o=class extends Fp.Writable{constructor(t,r){super(r),this.hash=t}_write(t,r,n){try{this.hash.update(ve(t))}catch(o){return n(o)}n()}};var Lp=(e,t)=>{if(t.readableFlowing!==null)throw new Error("Unable to calculate hash for flowing readable stream");let r=new e,n=new _o(r);return t.pipe(n),new Promise((o,s)=>{t.on("error",i=>{n.end(),s(i)}),n.on("error",s),n.on("finish",()=>{r.digest().then(o).catch(s)})})};var ak="AWS_S3_USE_ARN_REGION",ck="s3_use_arn_region",zp={environmentVariableSelector:e=>dt(e,ak,Ke.ENV),configFileSelector:e=>dt(e,ck,Ke.CONFIG),default:!1};var Up=require("stream"),$p=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:o,checksumLocationName:s,streamHasher:i}=t,a=r!==void 0&&o!==void 0&&s!==void 0&&i!==void 0,c=a?i(o,e):void 0,d=new Up.Readable({read:()=>{}});return e.on("data",f=>{d.push(`${(n(f)||0).toString(16)}\r
${f.toString()}\r
`)}),e.on("end",async()=>{if(d.push(`0\r
`),a){let f=r(await c);d.push(`${s}:${f}\r
`),d.push(`\r
`)}d.push(null)}),d};var ai=require("stream"),qp=require("util"),jp="The stream has already been transformed.",Kp=e=>{var n,o;if(!(e instanceof ai.Readable)){let s=((o=(n=e==null?void 0:e.__proto__)==null?void 0:n.constructor)==null?void 0:o.name)||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${s}`)}let t=!1,r=async()=>{if(t)throw new Error(jp);return t=!0,await pt(e)};return Object.assign(e,{transformToByteArray:r,transformToString:async s=>{let i=await r();return s===void 0||Buffer.isEncoding(s)?At(i.buffer,i.byteOffset,i.byteLength).toString(s):new qp.TextDecoder(s).decode(i)},transformToWebStream:()=>{if(t)throw new Error(jp);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof ai.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please make sure you are using Node.js >= 17.0.0, or polyfill is available.");return t=!0,ai.Readable.toWeb(e)}})};var ci=class{constructor(t){this.sigv4Signer=new Nr(t),this.signerOptions=t}async sign(t,r={}){if(r.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().sign(t,r)}return this.sigv4Signer.sign(t,r)}async presign(t,r={}){if(r.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().presign(t,r)}return this.sigv4Signer.presign(t,r)}getSigv4aSigner(){if(!this.sigv4aSigner){let t;try{if(t=typeof require=="function"&&require("@aws-sdk/signature-v4-crt").CrtSignerV4,typeof t!="function")throw new Error}catch(r){throw r.message=`${r.message}
Please check if you have installed "@aws-sdk/signature-v4-crt" package explicitly. 
For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`,r}this.sigv4aSigner=new t({...this.signerOptions,signingAlgorithm:1})}return this.sigv4aSigner}};var Mc="required",l="type",g="rules",y="conditions",m="fn",u="argv",x="ref",ue="assign",k="url",A="properties",B="authSchemes",M="disableDoubleEncoding",F="signingName",L="signingRegion",_="headers";var C="tree",Me="isSet",Ro="substring",Xy="hardwareType",Jy="regionPrefix",Gp="abbaSuffix",Dc="outpostId",vo="aws.partition",I="stringEquals",Fr="isValidHostLabel",se="not",R="error",Zy="parseURL",Fc="s3-outposts",w="endpoint",S="booleanEquals",eg="aws.parseArn",z="s3",Hp="aws.isVirtualHostableS3Bucket",oe="getAttr",O="name",pc="Host override cannot be combined with Dualstack, FIPS, or S3 Accelerate",tg="https://{Bucket}.s3.{partitionResult#dnsSuffix}",rg="bucketArn",ng="arnType",hi="",Lc="s3-object-lambda",og="accesspoint",zc="accessPointName",Vp="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",Wp="mrapPartition",Yp="outpostType",Qp="arnPrefix",Lr="{url#scheme}://{url#authority}{url#path}",sg="https://s3.{partitionResult#dnsSuffix}",yc={[Mc]:!1,[l]:"String"},No={[Mc]:!0,default:!1,[l]:"Boolean"},di={[Mc]:!1,[l]:"Boolean"},ig={[m]:Me,[u]:[{[x]:"Bucket"}]},wt={[x]:"Bucket"},Xp={[x]:Xy},Jp={[y]:[{[m]:se,[u]:[{[m]:Me,[u]:[{[x]:"Endpoint"}]}]}],[R]:"Expected a endpoint to be specified but no endpoint was found",[l]:R},U={[m]:se,[u]:[{[m]:Me,[u]:[{[x]:"Endpoint"}]}]},j={[m]:Me,[u]:[{[x]:"Endpoint"}]},Z={[m]:Zy,[u]:[{[x]:"Endpoint"}],[ue]:"url"},li={[B]:[{[M]:!0,[O]:"sigv4",[F]:Fc,[L]:"{Region}"}]},de={},Zp={[x]:"ForcePathStyle"},ey={[y]:[{[m]:"uriEncode",[u]:[wt],[ue]:"uri_encoded_bucket"}],[l]:C,[g]:[{[y]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!0]},j],[R]:"Cannot set dual-stack in combination with a custom endpoint.",[l]:R},{[l]:C,[g]:[{[y]:[{[m]:vo,[u]:[{[x]:"Region"}],[ue]:"partitionResult"}],[l]:C,[g]:[{[l]:C,[g]:[{[y]:[{[m]:S,[u]:[{[x]:"Accelerate"},!1]}],[l]:C,[g]:[{[l]:C,[g]:[{[y]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!0]},U,{[m]:S,[u]:[{[x]:"UseFIPS"},!0]},{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[_]:{}},[l]:w},{[y]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!0]},U,{[m]:S,[u]:[{[x]:"UseFIPS"},!0]},{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[_]:{}},[l]:w},{[y]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!0]},U,{[m]:S,[u]:[{[x]:"UseFIPS"},!0]},{[m]:se,[u]:[{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}]},{[m]:S,[u]:[{[x]:"UseGlobalEndpoint"},!0]}],[l]:C,[g]:[{[w]:{[k]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"{Region}"}]},[_]:{}},[l]:w}]},{[y]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!0]},U,{[m]:S,[u]:[{[x]:"UseFIPS"},!0]},{[m]:se,[u]:[{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}]},{[m]:S,[u]:[{[x]:"UseGlobalEndpoint"},!1]}],[w]:{[k]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"{Region}"}]},[_]:{}},[l]:w},{[y]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!1]},j,Z,{[m]:S,[u]:[{[x]:"UseFIPS"},!0]},{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[_]:{}},[l]:w},{[y]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!1]},j,Z,{[m]:S,[u]:[{[x]:"UseFIPS"},!0]},{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[_]:{}},[l]:w},{[y]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!1]},j,Z,{[m]:S,[u]:[{[x]:"UseFIPS"},!0]},{[m]:se,[u]:[{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}]},{[m]:S,[u]:[{[x]:"UseGlobalEndpoint"},!0]}],[l]:C,[g]:[{[w]:{[k]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"{Region}"}]},[_]:{}},[l]:w}]},{[y]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!1]},j,Z,{[m]:S,[u]:[{[x]:"UseFIPS"},!0]},{[m]:se,[u]:[{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}]},{[m]:S,[u]:[{[x]:"UseGlobalEndpoint"},!1]}],[w]:{[k]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"{Region}"}]},[_]:{}},[l]:w},{[y]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!1]},U,{[m]:S,[u]:[{[x]:"UseFIPS"},!0]},{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[_]:{}},[l]:w},{[y]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!1]},U,{[m]:S,[u]:[{[x]:"UseFIPS"},!0]},{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[_]:{}},[l]:w},{[y]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!1]},U,{[m]:S,[u]:[{[x]:"UseFIPS"},!0]},{[m]:se,[u]:[{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}]},{[m]:S,[u]:[{[x]:"UseGlobalEndpoint"},!0]}],[l]:C,[g]:[{[w]:{[k]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"{Region}"}]},[_]:{}},[l]:w}]},{[y]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!1]},U,{[m]:S,[u]:[{[x]:"UseFIPS"},!0]},{[m]:se,[u]:[{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}]},{[m]:S,[u]:[{[x]:"UseGlobalEndpoint"},!1]}],[w]:{[k]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"{Region}"}]},[_]:{}},[l]:w},{[y]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!0]},U,{[m]:S,[u]:[{[x]:"UseFIPS"},!1]},{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[_]:{}},[l]:w},{[y]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!0]},U,{[m]:S,[u]:[{[x]:"UseFIPS"},!1]},{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[_]:{}},[l]:w},{[y]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!0]},U,{[m]:S,[u]:[{[x]:"UseFIPS"},!1]},{[m]:se,[u]:[{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}]},{[m]:S,[u]:[{[x]:"UseGlobalEndpoint"},!0]}],[l]:C,[g]:[{[w]:{[k]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"{Region}"}]},[_]:{}},[l]:w}]},{[y]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!0]},U,{[m]:S,[u]:[{[x]:"UseFIPS"},!1]},{[m]:se,[u]:[{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}]},{[m]:S,[u]:[{[x]:"UseGlobalEndpoint"},!1]}],[w]:{[k]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"{Region}"}]},[_]:{}},[l]:w},{[y]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!1]},j,Z,{[m]:S,[u]:[{[x]:"UseFIPS"},!1]},{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[_]:{}},[l]:w},{[y]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!1]},j,Z,{[m]:S,[u]:[{[x]:"UseFIPS"},!1]},{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[_]:{}},[l]:w},{[y]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!1]},j,Z,{[m]:S,[u]:[{[x]:"UseFIPS"},!1]},{[m]:se,[u]:[{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}]},{[m]:S,[u]:[{[x]:"UseGlobalEndpoint"},!0]}],[l]:C,[g]:[{[y]:[{[m]:I,[u]:[{[x]:"Region"},"us-east-1"]}],[w]:{[k]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"{Region}"}]},[_]:{}},[l]:w},{[w]:{[k]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"{Region}"}]},[_]:{}},[l]:w}]},{[y]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!1]},j,Z,{[m]:S,[u]:[{[x]:"UseFIPS"},!1]},{[m]:se,[u]:[{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}]},{[m]:S,[u]:[{[x]:"UseGlobalEndpoint"},!1]}],[w]:{[k]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"{Region}"}]},[_]:{}},[l]:w},{[y]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!1]},U,{[m]:S,[u]:[{[x]:"UseFIPS"},!1]},{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[_]:{}},[l]:w},{[y]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!1]},U,{[m]:S,[u]:[{[x]:"UseFIPS"},!1]},{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[_]:{}},[l]:w},{[y]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!1]},U,{[m]:S,[u]:[{[x]:"UseFIPS"},!1]},{[m]:se,[u]:[{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}]},{[m]:S,[u]:[{[x]:"UseGlobalEndpoint"},!0]}],[l]:C,[g]:[{[y]:[{[m]:I,[u]:[{[x]:"Region"},"us-east-1"]}],[w]:{[k]:"https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"{Region}"}]},[_]:{}},[l]:w},{[w]:{[k]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"{Region}"}]},[_]:{}},[l]:w}]},{[y]:[{[m]:S,[u]:[{[x]:"UseDualStack"},!1]},U,{[m]:S,[u]:[{[x]:"UseFIPS"},!1]},{[m]:se,[u]:[{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}]},{[m]:S,[u]:[{[x]:"UseGlobalEndpoint"},!1]}],[w]:{[k]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"{Region}"}]},[_]:{}},[l]:w}]}]},{[R]:"Path-style addressing cannot be used with S3 Accelerate",[l]:R}]}]},{[R]:"A valid partition could not be determined",[l]:R}]}]},ee={[m]:S,[u]:[{[x]:"UseDualStack"},!0]},fe={[m]:S,[u]:[{[x]:"Accelerate"},!1]},re={[m]:S,[u]:[{[x]:"UseFIPS"},!0]},V={[m]:se,[u]:[{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}]},we={[m]:S,[u]:[{[x]:"UseGlobalEndpoint"},!0]},be={[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"{Region}"}]},Ee={[m]:S,[u]:[{[x]:"UseGlobalEndpoint"},!1]},X={[m]:S,[u]:[{[x]:"UseDualStack"},!1]},K={[m]:S,[u]:[{[x]:"UseFIPS"},!1]},Br={[R]:"A valid partition could not be determined",[l]:R},gc={[y]:[re,{[m]:I,[u]:[{[m]:oe,[u]:[{[x]:"partitionResult"},O]},"aws-cn"]}],[R]:"Partition does not support FIPS",[l]:R},Ck={[m]:I,[u]:[{[m]:oe,[u]:[{[x]:"partitionResult"},O]},"aws-cn"]},tt={[m]:S,[u]:[{[x]:"Accelerate"},!0]},ty={[y]:[ee,re,fe,U,{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[_]:{}},[l]:w},ry={[k]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[A]:be,[_]:{}},ny={[y]:[X,re,fe,U,{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[_]:{}},[l]:w},oy={[k]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[A]:be,[_]:{}},sy={[y]:[ee,K,tt,U,{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[_]:{}},[l]:w},iy={[k]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[A]:be,[_]:{}},ay={[y]:[ee,K,fe,U,{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[_]:{}},[l]:w},cy={[k]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[A]:be,[_]:{}},dy={[y]:[X,K,fe,j,Z,{[m]:S,[u]:[{[m]:oe,[u]:[{[x]:"url"},"isIp"]},!0]},{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[_]:{}},[l]:w},ly={[m]:S,[u]:[{[m]:oe,[u]:[{[x]:"url"},"isIp"]},!0]},Uc={[x]:"url"},fy={[y]:[X,K,fe,j,Z,{[m]:S,[u]:[{[m]:oe,[u]:[Uc,"isIp"]},!1]},{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"{url#scheme}://{Bucket}.{url#authority}{url#path}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[_]:{}},[l]:w},my={[m]:S,[u]:[{[m]:oe,[u]:[Uc,"isIp"]},!1]},Cc={[k]:"{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",[A]:be,[_]:{}},Bc={[k]:"{url#scheme}://{Bucket}.{url#authority}{url#path}",[A]:be,[_]:{}},uy={[w]:Bc,[l]:w},hy={[y]:[X,K,tt,U,{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[_]:{}},[l]:w},xc={[k]:"https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",[A]:be,[_]:{}},py={[y]:[X,K,fe,U,{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:tg,[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[_]:{}},[l]:w},yy={[k]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[A]:be,[_]:{}},fi={[R]:"Invalid region: region was not a valid DNS name.",[l]:R},Be={[x]:rg},ag={[x]:ng},wc={[m]:oe,[u]:[Be,"service"]},$c={[x]:zc},gy={[y]:[ee],[R]:"S3 Object Lambda does not support Dual-stack",[l]:R},Cy={[y]:[tt],[R]:"S3 Object Lambda does not support S3 Accelerate",[l]:R},xy={[y]:[{[m]:Me,[u]:[{[x]:"DisableAccessPoints"}]},{[m]:S,[u]:[{[x]:"DisableAccessPoints"},!0]}],[R]:"Access points are not supported for this operation",[l]:R},Ec={[y]:[{[m]:Me,[u]:[{[x]:"UseArnRegion"}]},{[m]:S,[u]:[{[x]:"UseArnRegion"},!1]},{[m]:se,[u]:[{[m]:I,[u]:[{[m]:oe,[u]:[Be,"region"]},"{Region}"]}]}],[R]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[l]:R},jc={[m]:oe,[u]:[{[x]:"bucketPartition"},O]},cg={[m]:oe,[u]:[Be,"accountId"]},wy={[y]:[re,{[m]:I,[u]:[jc,"aws-cn"]}],[R]:"Partition does not support FIPS",[l]:R},bc={[B]:[{[M]:!0,[O]:"sigv4",[F]:Lc,[L]:"{bucketArn#region}"}]},Ey={[R]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[l]:R},Sc={[R]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[l]:R},kc={[R]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[l]:R},Ac={[R]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[l]:R},by={[R]:"Could not load partition for ARN region `{bucketArn#region}`",[l]:R},Sy={[R]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[l]:R},ky={[R]:"Invalid ARN: bucket ARN is missing a region",[l]:R},Ay={[R]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[l]:R},To={[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"{bucketArn#region}"}]},_y={[B]:[{[M]:!0,[O]:"sigv4",[F]:Fc,[L]:"{bucketArn#region}"}]},Ry={[x]:"UseObjectLambdaEndpoint"},_c={[B]:[{[M]:!0,[O]:"sigv4",[F]:Lc,[L]:"{Region}"}]},Ny={[y]:[re,ee,j,Z,{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:Lr,[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[_]:{}},[l]:w},dg={[w]:{[k]:Lr,[A]:be,[_]:{}},[l]:w},Io={[k]:Lr,[A]:be,[_]:{}},Ty={[y]:[re,ee,U,{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[_]:{}},[l]:w},Iy={[k]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[A]:be,[_]:{}},Py={[y]:[re,X,j,Z,{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:Lr,[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[_]:{}},[l]:w},vy={[y]:[re,X,U,{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[_]:{}},[l]:w},Oy={[k]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[A]:be,[_]:{}},Dy={[y]:[K,ee,j,Z,{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:Lr,[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[_]:{}},[l]:w},By={[y]:[K,ee,U,{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[_]:{}},[l]:w},My={[k]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[A]:be,[_]:{}},Fy={[y]:[K,X,j,Z,{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:Lr,[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[_]:{}},[l]:w},Ly={[y]:[K,X,U,{[m]:I,[u]:[{[x]:"Region"},"aws-global"]}],[w]:{[k]:sg,[A]:{[B]:[{[M]:!0,[O]:"sigv4",[F]:z,[L]:"us-east-1"}]},[_]:{}},[l]:w},zy={[k]:"https://s3.{Region}.{partitionResult#dnsSuffix}",[A]:be,[_]:{}},ui=[{[x]:"Region"}],xk=[wt],Uy=[{[m]:Fr,[u]:[{[x]:Dc},!1]}],$y=[{[m]:I,[u]:[{[x]:Jy},"beta"]}],wk=[{[x]:"Endpoint"}],Po=[j,Z],jy=[ig],qy=[{[m]:eg,[u]:[wt]}],Ek=[ee,j],Mr=[{[m]:vo,[u]:ui,[ue]:"partitionResult"}],Un=[{[m]:I,[u]:[{[x]:"Region"},"us-east-1"]}],Ky=[{[m]:Fr,[u]:[{[x]:"Region"},!1]}],Rc=[{[m]:I,[u]:[ag,og]}],Gy=[{[m]:oe,[u]:[Be,"resourceId[1]"],[ue]:zc},{[m]:se,[u]:[{[m]:I,[u]:[$c,hi]}]}],bk=[Be,"resourceId[1]"],Hy=[ee],Nc=[tt],Tc=[{[m]:se,[u]:[{[m]:I,[u]:[{[m]:oe,[u]:[Be,"region"]},hi]}]}],Vy=[{[m]:se,[u]:[{[m]:Me,[u]:[{[m]:oe,[u]:[Be,"resourceId[2]"]}]}]}],Sk=[Be,"resourceId[2]"],Ic=[{[m]:vo,[u]:[{[m]:oe,[u]:[Be,"region"]}],[ue]:"bucketPartition"}],Wy=[{[m]:I,[u]:[jc,{[m]:oe,[u]:[{[x]:"partitionResult"},O]}]}],Pc=[{[m]:Fr,[u]:[{[m]:oe,[u]:[Be,"region"]},!0]}],vc=[{[m]:Fr,[u]:[cg,!1]}],Yy=[{[m]:Fr,[u]:[$c,!1]}],mi=[re],Qy=[{[m]:Fr,[u]:[{[x]:"Region"},!0]}],Oc=[dg],kk={version:"1.0",parameters:{Bucket:yc,Region:yc,UseFIPS:No,UseDualStack:No,Endpoint:yc,ForcePathStyle:di,Accelerate:No,UseGlobalEndpoint:No,UseObjectLambdaEndpoint:di,DisableAccessPoints:di,DisableMultiRegionAccessPoints:No,UseArnRegion:di},[g]:[{[l]:C,[g]:[{[y]:[{[m]:Me,[u]:ui}],[l]:C,[g]:[{[l]:C,[g]:[{[y]:[ig,{[m]:Ro,[u]:[wt,49,50,!0],[ue]:Xy},{[m]:Ro,[u]:[wt,8,12,!0],[ue]:Jy},{[m]:Ro,[u]:[wt,0,7,!0],[ue]:Gp},{[m]:Ro,[u]:[wt,32,49,!0],[ue]:Dc},{[m]:vo,[u]:ui,[ue]:"regionPartition"},{[m]:I,[u]:[{[x]:Gp},"--op-s3"]}],[l]:C,[g]:[{[y]:Uy,[l]:C,[g]:[{[l]:C,[g]:[{[y]:[{[m]:I,[u]:[Xp,"e"]}],[l]:C,[g]:[{[y]:$y,[l]:C,[g]:[Jp,{[y]:Po,endpoint:{[k]:"https://{Bucket}.ec2.{url#authority}",[A]:li,[_]:de},[l]:w}]},{endpoint:{[k]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[A]:li,[_]:de},[l]:w}]},{[y]:[{[m]:I,[u]:[Xp,"o"]}],[l]:C,[g]:[{[y]:$y,[l]:C,[g]:[Jp,{[y]:Po,endpoint:{[k]:"https://{Bucket}.op-{outpostId}.{url#authority}",[A]:li,[_]:de},[l]:w}]},{endpoint:{[k]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[A]:li,[_]:de},[l]:w}]},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[l]:R}]}]},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[l]:R}]},{[y]:jy,[l]:C,[g]:[{[y]:[j,{[m]:se,[u]:[{[m]:Me,[u]:[{[m]:Zy,[u]:wk}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[l]:R},{[l]:C,[g]:[{[y]:[{[m]:Me,[u]:[Zp]},{[m]:S,[u]:[Zp,!0]}],[l]:C,[g]:[{[l]:C,[g]:[{[y]:qy,error:"Path-style addressing cannot be used with ARN buckets",[l]:R},ey]}]},{[y]:[{[m]:Hp,[u]:[wt,!1]}],[l]:C,[g]:[{[y]:Mr,[l]:C,[g]:[{[l]:C,[g]:[{[y]:Ky,[l]:C,[g]:[{[l]:C,[g]:[gc,{[l]:C,[g]:[{[y]:[tt,re],error:"Accelerate cannot be used with FIPS",[l]:R},{[l]:C,[g]:[{[y]:[tt,Ck],error:"S3 Accelerate cannot be used in this region",[l]:R},{[l]:C,[g]:[{[y]:[j,ee],error:pc,[l]:R},{[l]:C,[g]:[{[y]:[j,re],error:pc,[l]:R},{[l]:C,[g]:[{[y]:[j,tt],error:pc,[l]:R},{[l]:C,[g]:[ty,ty,{[y]:[ee,re,fe,U,V,we],[l]:C,[g]:[{endpoint:ry,[l]:w}]},{[y]:[ee,re,fe,U,V,Ee],endpoint:ry,[l]:w},ny,ny,{[y]:[X,re,fe,U,V,we],[l]:C,[g]:[{endpoint:oy,[l]:w}]},{[y]:[X,re,fe,U,V,Ee],endpoint:oy,[l]:w},sy,sy,{[y]:[ee,K,tt,U,V,we],[l]:C,[g]:[{endpoint:iy,[l]:w}]},{[y]:[ee,K,tt,U,V,Ee],endpoint:iy,[l]:w},ay,ay,{[y]:[ee,K,fe,U,V,we],[l]:C,[g]:[{endpoint:cy,[l]:w}]},{[y]:[ee,K,fe,U,V,Ee],endpoint:cy,[l]:w},dy,fy,dy,fy,{[y]:[X,K,fe,j,Z,ly,V,we],[l]:C,[g]:[{[y]:Un,endpoint:Cc,[l]:w},{endpoint:Cc,[l]:w}]},{[y]:[X,K,fe,j,Z,my,V,we],[l]:C,[g]:[{[y]:Un,endpoint:Bc,[l]:w},uy]},{[y]:[X,K,fe,j,Z,ly,V,Ee],endpoint:Cc,[l]:w},{[y]:[X,K,fe,j,Z,my,V,Ee],endpoint:Bc,[l]:w},hy,hy,{[y]:[X,K,tt,U,V,we],[l]:C,[g]:[{[y]:Un,endpoint:xc,[l]:w},{endpoint:xc,[l]:w}]},{[y]:[X,K,tt,U,V,Ee],endpoint:xc,[l]:w},py,py,{[y]:[X,K,fe,U,V,we],[l]:C,[g]:[{[y]:Un,endpoint:{[k]:tg,[A]:be,[_]:de},[l]:w},{endpoint:yy,[l]:w}]},{[y]:[X,K,fe,U,V,Ee],endpoint:yy,[l]:w}]}]}]}]}]}]}]}]},fi]}]},Br]},{[y]:[j,Z,{[m]:I,[u]:[{[m]:oe,[u]:[Uc,"scheme"]},"http"]},{[m]:Hp,[u]:[wt,!0]},K,X,fe],[l]:C,[g]:[{[y]:Mr,[l]:C,[g]:[{[l]:C,[g]:[{[y]:Ky,[l]:C,[g]:[uy]},fi]}]},Br]},{[y]:[{[m]:eg,[u]:xk,[ue]:rg}],[l]:C,[g]:[{[y]:[{[m]:oe,[u]:[Be,"resourceId[0]"],[ue]:ng},{[m]:se,[u]:[{[m]:I,[u]:[ag,hi]}]}],[l]:C,[g]:[{[l]:C,[g]:[{[y]:[{[m]:I,[u]:[wc,Lc]}],[l]:C,[g]:[{[y]:Rc,[l]:C,[g]:[{[l]:C,[g]:[{[y]:Gy,[l]:C,[g]:[{[l]:C,[g]:[gy,{[l]:C,[g]:[Cy,{[l]:C,[g]:[{[y]:Tc,[l]:C,[g]:[{[l]:C,[g]:[xy,{[l]:C,[g]:[{[y]:Vy,[l]:C,[g]:[{[l]:C,[g]:[Ec,{[l]:C,[g]:[{[y]:Ic,[l]:C,[g]:[{[l]:C,[g]:[{[y]:Mr,[l]:C,[g]:[{[l]:C,[g]:[{[y]:Wy,[l]:C,[g]:[{[l]:C,[g]:[{[y]:Pc,[l]:C,[g]:[{[l]:C,[g]:[{[y]:[{[m]:I,[u]:[cg,hi]}],error:"Invalid ARN: Missing account id",[l]:R},{[l]:C,[g]:[{[y]:vc,[l]:C,[g]:[{[l]:C,[g]:[{[y]:Yy,[l]:C,[g]:[{[l]:C,[g]:[wy,{[l]:C,[g]:[{[y]:Po,endpoint:{[k]:Vp,[A]:bc,[_]:de},[l]:w},{[y]:mi,endpoint:{[k]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[A]:bc,[_]:de},[l]:w},{endpoint:{[k]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[A]:bc,[_]:de},[l]:w}]}]}]},Ey]}]},Sc]}]}]},kc]}]},Ac]}]},Br]}]},by]}]}]},Sy]}]}]},ky]}]}]}]},Ay]}]},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[l]:R}]},{[y]:Rc,[l]:C,[g]:[{[y]:Gy,[l]:C,[g]:[{[l]:C,[g]:[{[y]:Tc,[l]:C,[g]:[{[y]:Rc,[l]:C,[g]:[{[y]:Tc,[l]:C,[g]:[{[l]:C,[g]:[xy,{[l]:C,[g]:[{[y]:Vy,[l]:C,[g]:[{[l]:C,[g]:[Ec,{[l]:C,[g]:[{[y]:Ic,[l]:C,[g]:[{[l]:C,[g]:[{[y]:Mr,[l]:C,[g]:[{[l]:C,[g]:[{[y]:[{[m]:I,[u]:[jc,"{partitionResult#name}"]}],[l]:C,[g]:[{[l]:C,[g]:[{[y]:Pc,[l]:C,[g]:[{[l]:C,[g]:[{[y]:[{[m]:I,[u]:[wc,z]}],[l]:C,[g]:[{[l]:C,[g]:[{[y]:vc,[l]:C,[g]:[{[l]:C,[g]:[{[y]:Yy,[l]:C,[g]:[{[l]:C,[g]:[{[y]:Nc,error:"Access Points do not support S3 Accelerate",[l]:R},{[l]:C,[g]:[wy,{[l]:C,[g]:[{[y]:Ek,error:"DualStack cannot be combined with a Host override (PrivateLink)",[l]:R},{[l]:C,[g]:[{[y]:[re,ee],endpoint:{[k]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[A]:To,[_]:de},[l]:w},{[y]:[re,X],endpoint:{[k]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[A]:To,[_]:de},[l]:w},{[y]:[K,ee],endpoint:{[k]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[A]:To,[_]:de},[l]:w},{[y]:[K,X,j,Z],endpoint:{[k]:Vp,[A]:To,[_]:de},[l]:w},{[y]:[K,X],endpoint:{[k]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[A]:To,[_]:de},[l]:w}]}]}]}]}]},Ey]}]},Sc]}]},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[l]:R}]}]},kc]}]},Ac]}]},Br]}]},by]}]}]},Sy]}]}]},ky]}]},{[l]:C,[g]:[{[y]:[{[m]:Fr,[u]:[$c,!0]}],[l]:C,[g]:[{[l]:C,[g]:[{[y]:Hy,error:"S3 MRAP does not support dual-stack",[l]:R},{[l]:C,[g]:[{[y]:mi,error:"S3 MRAP does not support FIPS",[l]:R},{[l]:C,[g]:[{[y]:Nc,error:"S3 MRAP does not support S3 Accelerate",[l]:R},{[l]:C,[g]:[{[y]:[{[m]:S,[u]:[{[x]:"DisableMultiRegionAccessPoints"},!0]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[l]:R},{[l]:C,[g]:[{[y]:[{[m]:vo,[u]:ui,[ue]:Wp}],[l]:C,[g]:[{[l]:C,[g]:[{[y]:[{[m]:I,[u]:[{[m]:oe,[u]:[{[x]:Wp},O]},{[m]:oe,[u]:[Be,"partition"]}]}],[l]:C,[g]:[{endpoint:{[k]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[A]:{[B]:[{[M]:!0,name:"sigv4a",[F]:z,signingRegionSet:["*"]}]},[_]:de},[l]:w}]},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[l]:R}]}]},{error:"{Region} was not a valid region",[l]:R}]}]}]}]}]}]},{error:"Invalid Access Point Name",[l]:R}]}]}]},Ay]},{[y]:[{[m]:I,[u]:[wc,Fc]}],[l]:C,[g]:[{[y]:Hy,error:"S3 Outposts does not support Dual-stack",[l]:R},{[l]:C,[g]:[{[y]:mi,error:"S3 Outposts does not support FIPS",[l]:R},{[l]:C,[g]:[{[y]:Nc,error:"S3 Outposts does not support S3 Accelerate",[l]:R},{[l]:C,[g]:[{[y]:[{[m]:Me,[u]:[{[m]:oe,[u]:[Be,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[l]:R},{[l]:C,[g]:[{[y]:[{[m]:oe,[u]:bk,[ue]:Dc}],[l]:C,[g]:[{[l]:C,[g]:[{[y]:Uy,[l]:C,[g]:[{[l]:C,[g]:[Ec,{[l]:C,[g]:[{[y]:Ic,[l]:C,[g]:[{[l]:C,[g]:[{[y]:Mr,[l]:C,[g]:[{[l]:C,[g]:[{[y]:Wy,[l]:C,[g]:[{[l]:C,[g]:[{[y]:Pc,[l]:C,[g]:[{[l]:C,[g]:[{[y]:vc,[l]:C,[g]:[{[l]:C,[g]:[{[y]:[{[m]:oe,[u]:Sk,[ue]:Yp}],[l]:C,[g]:[{[l]:C,[g]:[{[y]:[{[m]:oe,[u]:[Be,"resourceId[3]"],[ue]:zc}],[l]:C,[g]:[{[l]:C,[g]:[{[y]:[{[m]:I,[u]:[{[x]:Yp},og]}],[l]:C,[g]:[{[l]:C,[g]:[{[y]:Po,endpoint:{[k]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[A]:_y,[_]:de},[l]:w},{endpoint:{[k]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[A]:_y,[_]:de},[l]:w}]}]},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[l]:R}]}]},{error:"Invalid ARN: expected an access point name",[l]:R}]}]},{error:"Invalid ARN: Expected a 4-component resource",[l]:R}]}]},Sc]}]},kc]}]},Ac]}]},Br]}]},{error:"Could not load partition for ARN region {bucketArn#region}",[l]:R}]}]}]},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[l]:R}]}]},{error:"Invalid ARN: The Outpost Id was not set",[l]:R}]}]}]}]}]},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[l]:R}]}]},{error:"Invalid ARN: No ARN type specified",[l]:R}]},{[y]:[{[m]:Ro,[u]:[wt,0,4,!1],[ue]:Qp},{[m]:I,[u]:[{[x]:Qp},"arn:"]},{[m]:se,[u]:[{[m]:Me,[u]:qy}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[l]:R},ey]}]},{[y]:[{[m]:Me,[u]:[Ry]},{[m]:S,[u]:[Ry,!0]}],[l]:C,[g]:[{[y]:Mr,[l]:C,[g]:[{[l]:C,[g]:[{[y]:Qy,[l]:C,[g]:[{[l]:C,[g]:[gy,{[l]:C,[g]:[Cy,{[l]:C,[g]:[gc,{[l]:C,[g]:[{[y]:Po,endpoint:{[k]:Lr,[A]:_c,[_]:de},[l]:w},{[y]:mi,endpoint:{[k]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[A]:_c,[_]:de},[l]:w},{endpoint:{[k]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[A]:_c,[_]:de},[l]:w}]}]}]}]}]},fi]}]},Br]},{[y]:[{[m]:se,[u]:jy}],[l]:C,[g]:[{[y]:Mr,[l]:C,[g]:[{[l]:C,[g]:[{[y]:Qy,[l]:C,[g]:[{[l]:C,[g]:[gc,{[l]:C,[g]:[Ny,Ny,{[y]:[re,ee,j,Z,V,we],[l]:C,[g]:Oc},{[y]:[re,ee,j,Z,V,Ee],endpoint:Io,[l]:w},Ty,Ty,{[y]:[re,ee,U,V,we],[l]:C,[g]:[{endpoint:Iy,[l]:w}]},{[y]:[re,ee,U,V,Ee],endpoint:Iy,[l]:w},Py,Py,{[y]:[re,X,j,Z,V,we],[l]:C,[g]:Oc},{[y]:[re,X,j,Z,V,Ee],endpoint:Io,[l]:w},vy,vy,{[y]:[re,X,U,V,we],[l]:C,[g]:[{endpoint:Oy,[l]:w}]},{[y]:[re,X,U,V,Ee],endpoint:Oy,[l]:w},Dy,Dy,{[y]:[K,ee,j,Z,V,we],[l]:C,[g]:Oc},{[y]:[K,ee,j,Z,V,Ee],endpoint:Io,[l]:w},By,By,{[y]:[K,ee,U,V,we],[l]:C,[g]:[{endpoint:My,[l]:w}]},{[y]:[K,ee,U,V,Ee],endpoint:My,[l]:w},Fy,Fy,{[y]:[K,X,j,Z,V,we],[l]:C,[g]:[{[y]:Un,endpoint:Io,[l]:w},dg]},{[y]:[K,X,j,Z,V,Ee],endpoint:Io,[l]:w},Ly,Ly,{[y]:[K,X,U,V,we],[l]:C,[g]:[{[y]:Un,endpoint:{[k]:sg,[A]:be,[_]:de},[l]:w},{endpoint:zy,[l]:w}]},{[y]:[K,X,U,V,Ee],endpoint:zy,[l]:w}]}]}]},fi]}]},Br]}]}]},{error:"A region must be set when sending requests to S3.",[l]:R}]}]},lg=kk;var fg=(e,t={})=>cr(lg,{endpointParams:e,logger:t.logger});var mg=e=>({apiVersion:"2006-03-01",base64Decoder:(e==null?void 0:e.base64Decoder)??hr,base64Encoder:(e==null?void 0:e.base64Encoder)??pr,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??fg,logger:(e==null?void 0:e.logger)??new ot,serviceId:(e==null?void 0:e.serviceId)??"S3",signerConstructor:(e==null?void 0:e.signerConstructor)??ci,signingEscapePath:(e==null?void 0:e.signingEscapePath)??!1,urlParser:(e==null?void 0:e.urlParser)??Ne,useArnRegion:(e==null?void 0:e.useArnRegion)??!1,utf8Decoder:(e==null?void 0:e.utf8Decoder)??ct,utf8Encoder:(e==null?void 0:e.utf8Encoder)??Ht});var ug=e=>{jt(process.version);let t=yr(e),r=()=>t().then($t),n=mg(e);return{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??mr,credentialDefaultProvider:(e==null?void 0:e.credentialDefaultProvider)??kp(ni),defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??ur({serviceId:n.serviceId,clientVersion:Mm.version}),eventStreamSerdeProvider:(e==null?void 0:e.eventStreamSerdeProvider)??Mp,getAwsChunkedEncodingStream:(e==null?void 0:e.getAwsChunkedEncodingStream)??$p,maxAttempts:(e==null?void 0:e.maxAttempts)??H(tr),md5:(e==null?void 0:e.md5)??Ve.bind(null,"md5"),region:(e==null?void 0:e.region)??H(lt,Yt),requestHandler:(e==null?void 0:e.requestHandler)??new ht(r),retryMode:(e==null?void 0:e.retryMode)??H({...nr,default:async()=>(await r()).retryMode||mt}),sdkStreamMixin:(e==null?void 0:e.sdkStreamMixin)??Kp,sha1:(e==null?void 0:e.sha1)??Ve.bind(null,"sha1"),sha256:(e==null?void 0:e.sha256)??Ve.bind(null,"sha256"),streamCollector:(e==null?void 0:e.streamCollector)??pt,streamHasher:(e==null?void 0:e.streamHasher)??Lp,useArnRegion:(e==null?void 0:e.useArnRegion)??H(zp),useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??H(Vt),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??H(Wt)}};var pi=class extends st{constructor(t){let r=ug(t),n=Bm(r),o=Qt(n),s=zt(o),i=rr(s),a=i,c=Ss(a),d=Wl(c),f=ir(d),h=Pf(f);super(h),this.config=h,this.middlewareStack.use(or(this.config)),this.middlewareStack.use(Xt(this.config)),this.middlewareStack.use(Jt(this.config)),this.middlewareStack.use(Zt(this.config)),this.middlewareStack.use(er(this.config)),this.middlewareStack.use(As(this.config)),this.middlewareStack.use(Yl(this.config)),this.middlewareStack.use(Of(this.config)),this.middlewareStack.use(dr(this.config))}destroy(){super.destroy()}};var Ak=/\s+(?=([^"]*"[^"]*")*[^"]*$)/g;async function _k(){try{let e=(0,$n.getInput)("bucket"),t=(0,$n.getInput)("path"),r=(0,$n.getInput)("prefix"),n=t.split(Ak).filter(Boolean),o=Array.from(new Set(n)),s=new pi({}),i=(await Promise.all(o.map(async c=>{let d=new nn({Bucket:e,Prefix:[r,c].filter(Boolean).join("/")});return((await s.send(d)).Contents??[]).map(h=>h.Key??"").filter(Boolean)}))).flat(),a=Array.from(new Set(i));await Promise.all(a.map(async c=>{let d=new rn({Bucket:e,Key:c}),f=await s.send(d);if(f.Body!==void 0){let h=(0,pg.join)(process.cwd(),r.length?c.slice(c.indexOf("/")+1):c),p=await f.Body.transformToByteArray();await(0,hg.writeFile)(h,p),console.info("Downloaded:",h)}}))}catch(e){e instanceof Error&&(0,$n.setFailed)(e)}}_k();
/*! Bundled license information:

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)
*/
